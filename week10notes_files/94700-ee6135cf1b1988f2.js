(globalThis.webpackChunk_learn_ultra_apps_ultra=globalThis.webpackChunk_learn_ultra_apps_ultra||[]).push([[94700],{3266:(e,t,r)=>{"use strict";r.d(t,{E:()=>i,l:()=>a});var s=r(608719),n=r(825271),o=r(853400);let i=(0,o.Y)(s.Gzw,n.dZ),a=(0,o.Y)(s.tpQ,n.dZ)},5392:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let s=/^\w+:\/\/|^mailto:/;function n(e,t){return t?{[e]:t}:null}let o=function(e,t,r,o){if(e.length<1)return{insert:t};let i=e;return s.test(i)||(i=`http://${i}`),{insert:t||i,format:{link:{href:i,...n("bbfile",r),...n("bbtype",o)}}}}},5601:(e,t,r)=>{"use strict";r.d(t,{o1:()=>h,Ff:()=>A,Lt:()=>S});var s=r(645250),n=r.n(s),o=r(905898),i=r(139552),a=r(443873),l=r(732583),u=r(968554);let d={SYSTEM_ANNOUNCEMENT_LOAD_SINGLE:"system-announcement-single.load",SYSTEM_ANNOUNCEMENTS_LOAD:"system-announcements.load"};var c=r(750609),E=r(612918);let p=e=>["views","byUserId",e.userId],m=(e,t)=>{if(!t)return u.Vc;let r=e.views.byUserId[t.userId]||{},s=Object.keys(r).find(e=>{let s=r[e];return n().isEqual(s.query,t)});return s?{id:s,view:r[s]}:u.Vc},g=e=>["byId",e.query.announcementId],y=(e,t)=>{let{view:r}=m(t.getState().systemAnnouncements,e.query);return!r||!r.isLoading&&!r.isValid},I=(e,t)=>{let r=t.getState().systemAnnouncements.byId[e.query.announcementId];return(0,E.qO)(null==r?void 0:r.status)},A=(0,u.vy)({byId:{},views:{byUserId:{}}},{[d.SYSTEM_ANNOUNCEMENTS_LOAD]:(0,u.Dh)(m,p),[(0,u.ok)(d.SYSTEM_ANNOUNCEMENTS_LOAD)]:(e,t)=>{if(!(null==t?void 0:t.data))return(0,u.Zg)(e,t);let{announcements:r,paging:s}=t.data,n=(0,o.Ay)(e,e=>{((e,t)=>{0!==Object.keys(t).length&&Object.keys(t).forEach(r=>{var s;e.byId[r]={value:{...null==(s=e.byId[r])?void 0:s.value,...t[r]},status:E.y_}})})(e,r)});return(0,u.lY)(n,t,{viewResolver:m,viewsPathResolver:p,values:r?Object.keys(r):[],paging:s})},[(0,u.fJ)(d.SYSTEM_ANNOUNCEMENTS_LOAD)]:(0,u.To)(m,p),[d.SYSTEM_ANNOUNCEMENT_LOAD_SINGLE]:(0,E.vR)(g,E.vq),[(0,u.ok)(d.SYSTEM_ANNOUNCEMENT_LOAD_SINGLE)]:(e,t)=>{let{announcement:r}=t.data;return(0,o.Ay)(e,e=>{var t;e.byId[r.id]={value:{...null==(t=e.byId[r.id])?void 0:t.value,...r},status:E.y_}})},[(0,u.cw)(d.SYSTEM_ANNOUNCEMENT_LOAD_SINGLE)]:(0,E.vR)(g,E.JL),[(0,u.fJ)(d.SYSTEM_ANNOUNCEMENT_LOAD_SINGLE)]:(0,E.vR)(g,E.JL)}),h={loadSystemAnnouncementsByQuery:e=>(0,u.Vy)(d.SYSTEM_ANNOUNCEMENTS_LOAD,async()=>{try{return{data:await (0,c.Auu)(e),query:e}}catch(t){throw new u.GS(t).setData({query:e})}},{data:{query:e},condition:y}),loadSystemAnnouncementByQuery:(e,t)=>(0,u.Vy)(d.SYSTEM_ANNOUNCEMENT_LOAD_SINGLE,async()=>{try{return{data:await (0,c.ti9)(e.announcementId),query:e}}catch(r){throw new u.GS(r).setData({query:e,allowedErrors:t})}},{data:{query:e},condition:I,allowedErrors:t})},_=(0,i.Ad)(a.UI,l.oJ),b=(0,i.Ad)(a.UI,l.Y_),S={getById:(e,t)=>{var r;return null==(r=e.systemAnnouncements.byId[t])?void 0:r.value},getByIdStatus:(e,t)=>{var r;return null==(r=e.systemAnnouncements.byId[t])?void 0:r.status},getSystemAnnouncementsByQuery:_((e,t)=>{let{view:r}=m(e.systemAnnouncements,t);return r&&void 0!==r.values?r.values.map(t=>S.getById(e,t)).filter(e=>!!e):null},e=>e),getSystemViewStatusByQuery:b((e,t)=>{let{view:r}=m(e.systemAnnouncements,t);return r?{isLoading:r.isLoading,isValid:r.isValid,paging:r.paging}:null},e=>e)}},6600:(e,t,r)=>{"use strict";r.d(t,{O:()=>a,x:()=>i});var s=r(608719),n=r(225648),o=r(825271);async function i(e,t){return await (0,s.oM0)(o.dZ,{courseId:e,contentId:t})}async function a(e,t,{fileName:r,fileLocation:i},a){if(!r||!i)throw Error("Tried to convert with no file name or location");let{id:l,body:u}=await (0,s.Pwr)(o.dZ,{courseId:e,contentId:t},{fileName:r,fileLocation:i},a);return u||(0,n.w)(async()=>(await (0,s.HHX)(o.dZ,{courseId:e,contentId:t,conversionId:l})).body,e=>!!e,{signal:a})}},9618:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var s=r(251079),n=r(514041),o=r(565223);function i(e,t,r){let[i,a]=(0,o.g)(null),l=(0,s._q)(t);return(0,n.useEffect)(()=>{let t=i.current;function s(e){l.call(this,e)}return null==t||t.addEventListener(e,s,r),()=>null==t?void 0:t.removeEventListener(e,s,r)},[e,JSON.stringify(r)]),{targetRefCb:a}}},11144:(e,t,r)=>{"use strict";r.d(t,{Y:()=>o,v:()=>i});var s=r(825271),n=r(608719);async function o(e,t={},r){return(0,n.UMy)(s.dZ,e,t,r)}function i(e,t={},r){return(0,n.tUS)(s.dZ,e,t,r)}},11396:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={BLOG_LOAD:"blog.load"}},12441:(e,t,r)=>{"use strict";r.d(t,{q:()=>n,x:()=>o});var s=r(514041);function n(e){return e}function o(){return(0,s.useMemo)(()=>({props:{role:"grid"}}),[])}},12679:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={COURSE_MESSAGE_COUNT_LOAD_ALL:"course.message.count.load.all",COURSE_MESSAGE_COUNT_LOAD_SINGLE:"course.message.count.load.single",COURSE_MESSAGE_COUNT_UPDATE_SINGLE:"course.message.count.update.single",COURSE_MESSAGE_OPTION_LOAD:"course.message.option.load",COURSE_MESSAGE_OPTION_UPDATE:"course.message.option.update"}},16894:(e,t,r)=>{"use strict";r.d(t,{Cd:()=>d,Ex:()=>l,kF:()=>o,ud:()=>i});var s=r(542633),n=r(781384);let o="Content-Type";class i{constructor(e,t,r){this.pathParams={},this.session=void 0,this.method=e,this.path=t,this.query=new URLSearchParams,this.headers=new Headers,r&&this.withPathParams(r)}getRelativeUrl(){let e=this.path;if(this.pathParams)for(let[t,r]of Object.entries(this.pathParams))e=e.replace(`%${t}%`,encodeURIComponent(r));let t=this.getQueryString();return t&&(e+=`?${t}`),e}getUrl(){return s.tU.getUrl(this.getRelativeUrl())}getQueryString(){return this.query.toString()}withPathParams(e){return Object.assign(this.pathParams,null!=e?e:{}),this}withQuery(e){for(let[t,r]of Object.entries(e))Array.isArray(r)?this.query.set(t,r.join(",")):void 0!==r&&this.query.set(t,String(r));return this}withQueryParams(e){return this.withQuery(e)}withExpand(...e){return this.withQuery({expand:e})}getSession(){return this.session}withSession(e){return this.session=e,e.xsrfToken&&this.headers.set("X-Blackboard-XSRF",e.xsrfToken),e.cookies&&this.headers.set("Cookie",e.cookies),this}requiresSession(){return!1}validate(){return Promise.resolve().then(()=>{var e;if(this.requiresSession()&&!this.session)throw new n.R9("Request requires session but no session info was added");let t=(null!=(e=this.path.match(/%\w+%/g))?e:[]).map(e=>e.slice(1,-1)).filter(e=>!this.pathParams[e]);if(t.length>0)throw new n.R9(`Request is missing required path params: [${t}]`)})}async failed(e){throw new n.o3(await e.text(),e.status,this.getUrl())}getRequestInit(){return{credentials:"same-origin",method:this.method,headers:this.headers}}toRequest(e){return new Request(null!=e?e:this.getUrl(),this.getRequestInit())}toString(){return`[LearnRequest: ${this.method} ${this.getUrl()}]`}}class a extends i{constructor(e,t,r){super(e,t,r),this.getContentType()&&this.headers.set(o,this.getContentType())}getRequestInit(){return Object.assign(super.getRequestInit(),{body:this.getBodyInit()})}withBody(e){return this.body=e,this}validate(){return super.validate().then(()=>{if(void 0===this.body)throw new n.R9("Request requires a body but none was provided")})}}class l extends i{constructor(e,t){super(s.ym.Get,e,t)}}class u extends a{getContentType(){return null}getBodyInit(){var e;let t=new FormData;return Object.keys(null!=(e=this.body)?e:{}).forEach(e=>{var r,s;t.append(e,null!=(s=null==(r=this.body)?void 0:r[e])?s:"")}),t}}class d extends u{constructor(e,t){super(s.ym.Post,e,t)}}},17939:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});var s=r(56684);class n extends s.pT{constructor(){super("/v1/messages/summary")}}},18085:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var s=r(514041),n=r(951777),o=r(546632);let i=e=>{let{children:t,modeOverride:r,isRtl:i,dontUseThis__globalCssReset:a}=e,{mode:l}=(0,o.V)();return s.createElement(n.nU,{theme:null!=r?r:l,isRtl:i,cssReset:a?"global":"none",zIndex:{modal:1350}},t)}},18966:(e,t,r)=>{"use strict";var s,n;!function(e){e.Approved="Approved",e.Excluded="Excluded",e.NeedsApproval="NeedsApproval"}(s||(s={})),function(e){e.Never="Never",e.SslOnly="SSLOnly",e.Always="Always"}(n||(n={}))},19683:(e,t,r)=>{"use strict";r.d(t,{a:()=>l});var s=r(494764),n=r(865004),o=r(514041),i=r(252651),a=r(611960);let l=e=>{let{analyticsId:t,cellIdx:r,image:l,imageSelected:u,imageType:d,onPick:c,onImageClicked:E,isDisabledInput:p,className:m}=e,g=(0,n.W)(),[y,I]=(0,o.useState)(!1),[A,h]=(0,o.useState)(!0);return o.createElement(i.aQ,{capture:!p,index:r,htmlProps:{className:m,"aria-selected":u,"aria-disabled":p||void 0,onFocus:()=>{h(!0)},onBlur:()=>{h(!1)},onClick:()=>{E("click"),I(!0)},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(c(l.id),E("click"),I(!1),(0,a.zg)(g("cr.components.accessibility.skipLink.imageSelected")))}}},o.createElement(s.y,{url:l.url,altText:l.altText,onClick:()=>{c(l.id),(0,a.zg)(g("cr.components.accessibility.skipLink.imageSelected"))},analyticsId:`${t}.image`,isSelected:u,imageType:d,linkProps:l.linkProps,isLinkFocusable:A,isMouseClick:y,isDisabledInput:p}))}},23988:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>i,B8:()=>s.A,Tj:()=>n.T});var s=r(339574),n=r(361562);let o={ORDERED:"ordered",UNORDERED:"bullet"};s.A.createChange=(e=!0)=>({format:{list:e?o.UNORDERED:o.ORDERED}});let i=s.A},25288:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});class s{constructor(){this.modalList=new Set,this.modalDisplayingListeners=new Set,this.modalDisplayingLatch=!1}static getInstance(){return s.INSTANCE||(s.INSTANCE=new s),s.INSTANCE}updateListeners(){let e=this.isModalDisplaying();e!==this.modalDisplayingLatch&&(this.modalDisplayingLatch=e,this.modalDisplayingListeners.forEach(t=>{try{t(e)}catch(e){}}))}addModal(e){this.modalList.add(e),this.updateListeners()}removeModal(e){this.modalList.delete(e),this.updateListeners()}isModalDisplaying(){return this.modalList.size>0}addOnModalDisplayingChanged(e){this.modalDisplayingListeners.add(e)}removeOnModalDisplayingChanged(e){this.modalDisplayingListeners.delete(e)}}},26070:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>L,Lt:()=>w,o1:()=>P});var s,n=r(905898),o=r(645250),i=r(968554),a=r(956284),l=r(758247),u=r(243502),d=r(895703),c=r(502059),E=r(764209),p=r(608719),m=r(881934),g=r(139552),y=r(300474),I=r(583596),A=r(542644),h=r(107870);function _(e,t){var r;e.contents[t]||(e.contents[t]={});let s=null!=(r=e.contents[t].api)?r:{};return e.contents[t].api=s,s}function b(e,t,r,n){var o;let i=n===s.Criteria?{criteria:{type:""},api:{isUpdating:r}}:{rule:{},api:{isUpdating:r}},a=null!=(o=e.adaptiveRelease[n][t])?o:i;a.api.isUpdating=r,e.adaptiveRelease[n][t]=a}function S(e,t){(0,o.forEach)(e.views.byCourseId,(r,s)=>{(0,o.forEach)(r,(r,n)=>{var o;(null==(o=r.values)?void 0:o.includes(t))&&delete e.views.byCourseId[s][n]})})}!function(e){e.Criteria="byCriteriaId",e.Rule="byRuleId"}(s||(s={}));let T=(e,t)=>(0,n.Ay)(e,r=>{var s;let{contentId:n}=t,i=e.contents[n],l=null!=(s=null==i?void 0:i.inSequence)&&s;(0,o.forEach)(e.adaptiveRelease.byCriteriaId,e=>{e.criteria.id&&e.criteria.contentId===n&&a.iF.shouldRemoveReleaseCriteria(l,e.criteria.type)&&delete r.adaptiveRelease.byCriteriaId[e.criteria.id]})}),O=(e,t)=>{let r=t.contents[e.id];return r?{...r,...e,permissions:{...r.permissions,...e.permissions},ui:null==r?void 0:r.ui}:e},v=(e,t)=>{var r;if(!t)return{id:null,view:null};let s=(null==(r=e.views)?void 0:r.byCourseId[t.filter.courseId])||{},n=Object.keys(s).find(e=>{let r=s[e];return(0,o.isEqual)(r.query,t)});return n?{id:n,view:s[n]}:i.Vc},f=e=>["views","byCourseId",e.filter.courseId];function C(e,t){let r={type:t.type};t.id&&(r=e.adaptiveRelease.byCriteriaId[t.id].criteria);let s={...r,...t};return r.type===p.Z_d.Date&&(s={...s,start:t.start,end:t.end}),{criteria:s,api:{isUpdating:!1}}}let R={[E.g.CONTENT_LOAD]:(e,t)=>{let r=(0,i.r1)(e,t),{query:s}=t;return s?(0,i.Dh)(v,f)(r,{query:s,...t}):r},[(0,i.ok)(E.g.CONTENT_LOAD)]:(e,t)=>{let{query:r}=t,s=(0,a.jD)(Object.values(t.contents||{}).map(t=>O({...t,api:{isUpdating:!1,isDeleting:!1}},e))),n=(0,i.Zg)(e,t,{contents:{...e.contents,...s}});if(!r)return n;let o=Object.values(s).map(e=>e.id).filter(e=>!!e);return(0,i.lY)(n,t,{viewResolver:v,viewsPathResolver:f,values:o})},[(0,i.fJ)(E.g.CONTENT_LOAD)]:(e,t)=>{let r=(0,i.Nh)(e,t),{query:s}=t;return s?(0,i.To)(v,f)(r,{query:s,...t}):r},[E.g.CONTENT_LOAD_BY_GROUP_ID]:(0,i.Dh)(v,f),[(0,i.ok)(E.g.CONTENT_LOAD_BY_GROUP_ID)]:(e,t)=>{let{data:r}=t;if(!r)return(0,i.Zg)(e,t);let{contents:s,paging:o}=r,l=Object.keys(s),u=(0,n.Ay)(e,t=>{let r=(0,a.jD)(Object.values(s).map(t=>O({...t,api:{isUpdating:!1,isDeleting:!1}},e)));t.contents={...e.contents,...r}});return(0,i.lY)(u,t,{viewResolver:v,viewsPathResolver:f,paging:o,values:l})},[(0,i.fJ)(E.g.CONTENT_LOAD_BY_GROUP_ID)]:(0,i.To)(v,f),[E.g.CONTENT_PERSIST]:(e,t)=>(0,n.Ay)(e,e=>{var r;_(e,t.prevContent.id).isUpdating=!0,h.mO.info("ContentPersist - persisting",`${null==(r=t.prevContent)?void 0:r.id}`)}),[(0,i.ok)(E.g.CONTENT_PERSIST)]:(e,t)=>(0,n.Ay)(e,r=>{let{contents:s}=t;Object.values(s||{}).forEach(t=>{let s=t.id,n=e.contents[s];r.contents[s]={...n,...t,api:{...null==n?void 0:n.api,isUpdating:!1}},t.thumbnailImage||(r.contents[s].thumbnailImage=""),((e,t,r)=>{if(!t)return;let s=e.views.byCourseId[t];s&&Object.keys(s).forEach(e=>{let t=s[e];t.query.filter.contentId!==r&&(t.isValid=!1)})})(r,t.courseId,s),h.mO.info("ContentPersist - ok",s)})}),[(0,i.fJ)(E.g.CONTENT_PERSIST)]:(e,t)=>(0,n.Ay)(e,e=>{var r;_(e,t.prevContent.id).isUpdating=!1,h.mO.info("ContentPersist - fail",`${null==(r=t.prevContent)?void 0:r.id}`)}),[E.g.CONTENT_PERSIST_MULTIPLE]:(e,t)=>(0,n.Ay)(e,e=>{let{prevContents:r}=t;(0,o.each)(r,t=>{_(e,t.content.id).isUpdating=!0})}),[(0,i.ok)(E.g.CONTENT_PERSIST_MULTIPLE)]:(e,t)=>(0,n.Ay)(e,r=>{let{contents:s,courseId:n}=t;Object.keys(s).forEach(t=>{let n=s[t];n.isOk?r.contents[t]={...n.result,api:{isUpdating:!1,isDeleting:!1},ui:e.contents[t]&&e.contents[t].ui}:_(r,t).isUpdating=!1}),((e,t)=>{if(!t)return;let r=e.views.byCourseId[t];r&&Object.keys(r).forEach(e=>{r[e].isValid=!1})})(r,n)}),[(0,i.fJ)(E.g.CONTENT_PERSIST_MULTIPLE)]:(e,t)=>(0,n.Ay)(e,e=>{let{prevContents:r}=t;(0,o.each)(r,t=>{_(e,t.content.id).isUpdating=!1})}),[E.g.CONTENT_DELETE]:(e,t)=>(0,n.Ay)(e,e=>{let{contents:r}=t;r.forEach(t=>{_(e,t).isDeleting=!0})}),[(0,i.ok)(E.g.CONTENT_DELETE)]:(e,t)=>(0,n.Ay)(e,e=>{let{results:r}=t;r.forEach(t=>{delete e.contents[t],S(e,t)})}),[(0,i.fJ)(E.g.CONTENT_DELETE)]:(e,t)=>(0,n.Ay)(e,e=>{let{results:r}=t;r.forEach(t=>{_(e,t).isDeleting=!1})}),[(0,i.ok)(E.g.CONTENT_UPDATE_IN_STORE)]:(e,t)=>(0,n.Ay)(e,e=>{let{nextContent:r}=t;e.contents[r.id]=r}),[(0,i.ok)(E.g.CONTENT_DELETE_IN_STORE)]:(e,t)=>(0,n.Ay)(e,e=>{let{contentId:r}=t;delete e.contents[r],S(e,r)}),[(0,i.ok)(E.g.CONTENT_MOVE_IN_STORE)]:(e,t)=>{let{originalContent:r,movedContent:s,sortedTargetSiblings:i}=t;return r?(0,n.Ay)(e,t=>{let n=r.parentId===s.parentId,a=M(i,s.position);if(t.contents={...t.contents,...a.contents},t.contents[s.id]=s,!n){let s=M((0,o.filter)(e.contents,e=>e.parentId===r.parentId&&e.id!==r.id));t.contents={...t.contents,...s.contents}}}):e},[E.g.CONTENT_SEARCH_LOAD]:(0,i.Dh)(v,f),[(0,i.ok)(E.g.CONTENT_SEARCH_LOAD)]:(e,t)=>{let{data:r}=t;if(!r)return(0,i.Zg)(e,t);let{contents:s,paging:o}=r,l=Object.keys(s);return e=(0,n.Ay)(e,t=>{let r=(0,a.jD)(Object.values(s||{}).map(t=>O({...t,api:{isUpdating:!1,isDeleting:!1}},e)));t.contents={...e.contents,...r}}),(0,i.lY)(e,t,{viewResolver:v,viewsPathResolver:f,paging:o,values:l})},[(0,i.fJ)(E.g.CONTENT_SEARCH_LOAD)]:(0,i.To)(v,f),[(0,i.ok)(d.g.GRADEBOOK_COLUMN_PERSIST)]:(e,t)=>(0,n.Ay)(e,r=>{let{gradebookColumn:s}=t;if(s&&s.contentId){let t=(0,o.find)(e.contents,{id:s.contentId});t&&(r.contents[t.id].genericReadOnlyData={...e.contents[t.id].genericReadOnlyData,hasGradeColumn:!0,dueDate:s.dueDate})}}),[(0,i.ok)(c.gK.CONTENTS_REVIEW_STATES_GET)]:(e,t)=>{let{contentStates:r}=t;return(0,n.Ay)(e,t=>{if(r){let s=(0,a.jD)(Object.values(r).map(t=>O({id:t.contentId,state:t.state},e)));t.contents={...e.contents,...s}}})}},D={[(0,i.ok)(E.g.CONTENT_LOAD)]:(e,t)=>{let{adaptiveRelease:r}=t;return r?(0,n.Ay)(e,e=>{Object.keys(r).forEach(t=>{let s=r[t];e.adaptiveRelease.byCriteriaId[t]={api:{isUpdating:!1},criteria:{...s}}})}):e},[(0,i.ok)(E.g.CONTENT_LOAD_ADAPTIVE_RELEASE_RULE)]:(e,t)=>(0,n.Ay)(e,r=>{let{adaptiveReleaseRules:s,content:n}=t;Object.keys(s).forEach(t=>{var o;r.adaptiveRelease.byRuleId[t]={api:{isUpdating:!1},rule:{...s[t],contentId:n.id}};let i=null!=(o=e.contents[t])?o:{};i={...i,api:{...i.api,isUpdating:!1},id:s[t].id,courseId:s[t].courseId},r.contents[t]=i})}),[E.g.CONTENT_CREATE_ADAPTIVE_RELEASE_RULE]:(e,t)=>(0,n.Ay)(e,r=>{var s;let{adaptiveReleaseRule:n}=t,o=null!=(s=e.contents[n.contentId])?s:{};o={...o,api:{...o.api,isUpdating:!0}},r.contents[n.contentId]=o}),[(0,i.ok)(E.g.CONTENT_CREATE_ADAPTIVE_RELEASE_RULE)]:(e,t)=>(0,n.Ay)(e,r=>{var s;let{result:n,isOk:o,contentId:i}=t;if(o){let{criteria:t}=n;t.forEach(t=>{t.id&&(r.adaptiveRelease.byCriteriaId[t.id]={criteria:{...t,ruleId:n.id,contentId:i,courseId:e.contents[i].courseId},api:{isUpdating:!1}})}),r.adaptiveRelease.byRuleId[n.id]={rule:n,api:{isUpdating:!1}};let o=null!=(s=e.contents[i])?s:{};o={...o,api:{...o.api,isUpdating:!1}},r.contents[i]=o}}),[(0,i.fJ)(E.g.CONTENT_CREATE_ADAPTIVE_RELEASE_RULE)]:(e,t)=>(0,n.Ay)(e,r=>{var s;let{contentId:n}=t,o=null!=(s=e.contents[n])?s:{};o={...o,api:{...o.api,isUpdating:!1}},r.contents[n]=o}),[E.g.CONTENT_CREATE_ADAPTIVE_RELEASE_CRITERIA]:(e,t)=>(0,n.Ay)(e,r=>{let{adaptiveReleaseRuleId:n,content:o}=t;r.contents[o.id]={...e.contents[o.id],api:{isUpdating:!0}},b(r,n,!0,s.Rule),r.contents[n]={...e.contents[n],api:{isUpdating:!0}}}),[(0,i.ok)(E.g.CONTENT_CREATE_ADAPTIVE_RELEASE_CRITERIA)]:(e,t)=>(0,n.Ay)(e,r=>{var n;let{result:o,contentId:i,ruleId:a,id:l,isOk:u}=t;if(u){r.adaptiveRelease.byCriteriaId[l]={api:{isUpdating:!1},criteria:{...o,id:l,ruleId:a,contentId:i,courseId:e.contents[i].courseId}};let t=e.adaptiveRelease.byRuleId[a].rule,s={...t,criteria:[...null!=(n=t.criteria)?n:[],o]};r.adaptiveRelease.byRuleId[a]={rule:s,api:{isUpdating:!1}},r.contents[a]={...s,api:{isUpdating:!1}}}else b(r,a,!1,s.Rule),r.contents[a]={...e.contents[a],api:{isUpdating:!1}};r.contents[i]={...e.contents[i],api:{isUpdating:!1}}}),[(0,i.fJ)(E.g.CONTENT_CREATE_ADAPTIVE_RELEASE_CRITERIA)]:(e,t)=>(0,n.Ay)(e,e=>{let{ruleId:r}=t;b(e,r,!1,s.Rule)}),[E.g.CONTENT_PERSIST_ADAPTIVE_RELEASE]:(e,t)=>(0,n.Ay)(e,e=>{let{criteriaId:r}=t;b(e,r,!0,s.Criteria)}),[(0,i.ok)(E.g.CONTENT_PERSIST_ADAPTIVE_RELEASE)]:(e,t)=>(0,n.Ay)(e,r=>{let{isOk:n,id:o,result:i}=t;n&&i?r.adaptiveRelease.byCriteriaId[o]=C(e,i):b(r,o,!1,s.Criteria)}),[(0,i.fJ)(E.g.CONTENT_PERSIST_ADAPTIVE_RELEASE)]:(e,t)=>(0,n.Ay)(e,e=>{let{id:r}=t;b(e,r,!1,s.Criteria)}),[E.g.CONTENT_PERSIST_ADAPTIVE_RELEASE_MULTIPLE]:(e,t)=>(0,n.Ay)(e,e=>{let{criteriaList:r}=t;(0,o.each)(r,t=>{t.id&&b(e,t.id,!0,s.Criteria),t.ruleId&&b(e,t.ruleId,!0,s.Rule)})}),[(0,i.ok)(E.g.CONTENT_PERSIST_ADAPTIVE_RELEASE_MULTIPLE)]:(e,t)=>(0,n.Ay)(e,r=>{let{results:n}=t;Object.keys(n).forEach(t=>{let o=n[t];o.isOk&&o.result?r.adaptiveRelease.byCriteriaId[t]=C(e,o.result):b(r,t,!1,s.Criteria)})}),[(0,i.fJ)(E.g.CONTENT_PERSIST_ADAPTIVE_RELEASE_MULTIPLE)]:(e,t)=>(0,n.Ay)(e,e=>{let{prevContents:r}=t;(0,o.forEach)(r,t=>{t.id&&b(e,t.id,!1,s.Criteria)})}),[E.g.CONTENT_DELETE_ADAPTIVE_RELEASE]:(e,t)=>(0,n.Ay)(e,r=>{let{contents:n}=t;n.forEach(t=>{Object.values(e.adaptiveRelease.byCriteriaId).filter(({criteria:e})=>e.contentId===t.id).forEach(e=>{e.criteria.id&&b(r,e.criteria.id,!0,s.Criteria)})})}),[(0,i.ok)(E.g.CONTENT_DELETE_ADAPTIVE_RELEASE)]:(e,t)=>(0,n.Ay)(e,r=>{let{results:n}=t;Object.values(n).forEach(t=>{Object.values(e.adaptiveRelease.byCriteriaId).forEach(n=>{var o,i;if(n.criteria.contentId===t.id)if(t.isOk){let s=e.contents[t.id],i=null!=(o=null==s?void 0:s.inSequence)&&o;a.iF.shouldRemoveReleaseCriteria(i,n.criteria.type)&&delete r.adaptiveRelease.byCriteriaId[n.criteria.id]}else b(r,null!=(i=n.criteria.id)?i:"",!1,s.Criteria)})})}),[(0,i.fJ)(E.g.CONTENT_DELETE_ADAPTIVE_RELEASE)]:(e,t)=>(0,n.Ay)(e,r=>{let{contents:n}=t;n.reduce((t,r)=>t.concat((0,o.filter)(e.adaptiveRelease.byCriteriaId,{criteria:{contentId:r.id}})),[]).forEach(e=>{e.criteria.id&&b(r,e.criteria.id,!1,s.Criteria)})}),[(0,i.ok)(E.g.CONTENT_DELETE_ALL_ADAPTIVE_RELEASE_IN_STORE)]:(e,t)=>T(e,t),[(0,i.ok)(u.gK.ADAPTIVE_RELEASE_DELETE)]:(e,t)=>T(e,t),[(0,i.ok)(E.g.CONTENT_DELETE_ADAPTIVE_RELEASE_RULE_IN_STORE)]:(e,t)=>(0,n.Ay)(e,r=>{let{contentId:s,ruleType:n}=t;(0,o.forEach)(e.adaptiveRelease.byCriteriaId,e=>{e.criteria.contentId===s&&e.criteria.type===n&&delete r.adaptiveRelease.byCriteriaId[e.criteria.id]})}),[E.g.CONTENT_DELETE_ADAPTIVE_RELEASE_CRITERIA]:(e,t)=>(0,n.Ay)(e,e=>{let{criteriaId:r}=t;b(e,r,!0,s.Criteria)}),[(0,i.ok)(E.g.CONTENT_DELETE_ADAPTIVE_RELEASE_CRITERIA)]:(e,t)=>(0,n.Ay)(e,e=>{let{isOk:r,id:n,ruleId:o}=t;r?(delete e.adaptiveRelease.byCriteriaId[n],delete e.adaptiveRelease.byRuleId[o],delete e.contents[o]):b(e,n,!1,s.Criteria)}),[(0,i.fJ)(E.g.CONTENT_DELETE_ADAPTIVE_RELEASE_CRITERIA)]:(e,t)=>(0,n.Ay)(e,e=>{let{id:r}=t;b(e,r,!1,s.Criteria)}),[(0,i.ok)(c.gK.CONTENT_REVIEW_STATE_PERSIST)]:(e,t)=>{let{contentStates:r}=t;return(0,n.Ay)(e,e=>{r.forEach(t=>{let r=e.contents[t.contentId];r&&(r.state=t.state,t.completion&&(r.stateCompletion=t.completion))})})},[(0,i.ok)(c.gK.CONTENTS_REVIEW_STATES_GET)]:(e,t)=>{let{contentStates:r}=t;return(0,n.Ay)(e,e=>{r.forEach(t=>{let r=e.contents[t.contentId];r&&(r.state=t.state,t.completion&&(r.stateCompletion=t.completion))})})},[(0,i.ok)(u.gK.ADAPTIVE_RELEASE_RULES_CREATE)]:(e,t)=>(0,n.Ay)(e,e=>{t.rules.forEach(t=>{t.id&&(e.adaptiveRelease.byRuleId[t.id]={rule:t,api:{isUpdating:!1}})})}),[(0,i.ok)(u.gK.ADAPTIVE_RELEASE_RULE_DELETE)]:(e,t)=>(0,n.Ay)(e,e=>{delete e.adaptiveRelease.byRuleId[t.ruleId]}),[(0,i.ok)(E.g.CONTENT_LOR_COPY_COMPLETE)]:(e,t)=>t.filter.courseId?(0,n.Ay)(e,e=>{var r;Object.values(null!=(r=e.views.byCourseId[t.filter.courseId])?r:{}).forEach(e=>{e.isValid=!1})}):e},L=(0,i.vy)({contents:{},adaptiveRelease:{byCriteriaId:{},byRuleId:{}},permissions:null,paging:void 0,isLoading:!1,views:{byCourseId:{}}},R,D);async function N(e){let{paging:t}=await m.wL({filter:{contentId:e.contentId,courseId:e.courseId},paging:{limit:1}});return t}async function U(e,t){let r=w.getContentsByParentContentId(e,t.contentId),s=w.getContentById(e,t.contentId),n=await N({contentId:t.contentId,courseId:t.courseId}),o={contents:{},assessments:{},groups:{},columns:{},adaptiveRelease:{},blogs:{}},i=!!s&&Array.isArray(r)&&r.length===n.count;i&&r.forEach(e=>{(null==e?void 0:e.id)&&(o.contents[e.id]=e)});let l=await (i?Promise.resolve(o):m.Ro(t)),{contents:u}=l,d=Object.values(u).filter(e=>e.id!==t.contentId&&a.eC.isFolderOrLearningModule(e)).map(r=>U(e,{...t,contentId:r.id}));return o=await Promise.all(d).then(e=>e.reduce((e,t)=>{let r={...e.contents,...t.contents},s={...e.assessments,...t.assessments},n={...e.groups,...t.groups},o={...e.columns,...t.columns};return{contents:r,assessments:s,groups:n,columns:o,adaptiveRelease:{...e.adaptiveRelease,...t.adaptiveRelease},blogs:{...e.blogs,...t.blogs}}},l))}let P={getTotalChildren:e=>(0,i.VP)(E.g.CONTENT_LOAD,async t=>await N(e)),loadAllChildren:e=>(0,i.VP)(E.g.CONTENT_LOAD,async t=>{let r=await U(t(),e);return{query:{filter:e},...r}}),loadContents:(e,t={force:!0})=>(0,i.RA)(async(r,s)=>{if(!function(e,t,r){if(r.force)return!0;let{view:s}=v(e.content,{filter:t});return null==s||!s.isValid||2!==Object.keys(t).length||!t.courseId||!t.contentId}(s(),e,t))return null;let n={filter:e};r((0,i.rc)(E.g.CONTENT_LOAD,{query:n}));try{let t={...await m.Ro(e),query:n};return r((0,i.rc)((0,i.ok)(E.g.CONTENT_LOAD),t)),t}catch(t){r((0,i.rc)((0,i.fJ)(E.g.CONTENT_LOAD),{query:n,err:t}));let e=(0,y.xt)(t);throw r((0,i.rc)((0,i.ok)(l.A.APP_ERROR),{error:e})),{err:t}}}),loadSelectedContents:(e,t)=>(0,i.VP)(E.g.CONTENT_LOAD,async()=>{try{let r=await m.k9(e,t);return{query:{filter:{courseId:e}},...r}}catch(r){throw new i.GS(r).setData({courseId:e,contentIds:t})}}),loadContentNeighbor:(e,t,r,s)=>{let n={query:{filter:{courseId:e,contentId:t},neighborDirection:s,contentOwnerId:r}};return(0,i.RA)(async(o,a)=>{let u=w.getNeighborContentViewStatus(a(),s,e,t,r);return(null==u?void 0:u.isLoading)?null:(o((0,i.rc)(E.g.CONTENT_SEARCH_LOAD,n)),m.zI(e,t,r,s).then(e=>o((0,i.rc)((0,i.ok)(E.g.CONTENT_SEARCH_LOAD),{...n,data:e}))).catch(e=>{let t=(0,y.xt)(e);throw o((0,i.rc)((0,i.fJ)(E.g.CONTENT_SEARCH_LOAD),{...n,err:e})),o((0,i.rc)((0,i.ok)(l.A.APP_ERROR),{error:t})),{err:e}}))})},loadLinkedContent:(e,t,r)=>P.loadLinkedContentHelper(e,t,[],r),loadLinkedContentHelper:(e,t,r,s)=>(0,i.RA)(async(n,o)=>{var i,l;let u=o(),d=w.getContentById(u,t);if((!d||s)&&(d=null==(l=null==(i=await n(P.loadContents({courseId:e,contentId:t})))?void 0:i.contents)?void 0:l[t]),(null==d?void 0:d.id)&&a.iF.isNonDiscussionCourseLink(d)){let t=a.iF.getCourseLinkSourceId(d);if(t&&!r.find(e=>e===t))return await n(P.loadLinkedContentHelper(e,t,[...r,d.id]))}}),setContents:e=>(0,i.rc)((0,i.ok)(E.g.CONTENT_LOAD),m.uM(e)),createContent:e=>(0,i.VP)(E.g.CONTENT_PERSIST,async()=>{try{return await m.sY(e)}catch(t){throw new i.GS(t).setData({prevContent:e})}},{prevContent:{}}),createContents:(e,t)=>(0,i.Vy)(E.g.CONTENT_PERSIST_MULTIPLE,async()=>{try{return m.J9(e,t).then(e=>({contents:e,courseId:t}))}catch(t){throw new i.GS(t).setData({contents:e})}}),persistContent:(e,t)=>(0,i.VP)(E.g.CONTENT_PERSIST,()=>m.OU(e,t).then(t=>({...t,prevContent:e})).catch(t=>{throw{prevContent:e,err:t}}),{prevContent:e,nextContent:t}),persistContentSync:e=>(0,i.RA)((t,r)=>{let s=r().content.contents[e.id];t((0,i.rc)((0,i.ok)(E.g.CONTENT_PERSIST),{prevContent:s,...m.uM([e])}))}),persistContents:e=>(0,i.VP)(E.g.CONTENT_PERSIST_MULTIPLE,()=>m.Ne(e).then(t=>({prevContents:e,...t})).catch(t=>{throw{prevContents:e,err:t}}),{contents:e}),deleteContents:(e,t)=>(0,i.RA)((r,s)=>{let n=s(),o={};return e.forEach(e=>{let t=k(e.id,n);o[e.id]=t,r((0,i.rc)(E.g.CONTENT_DELETE,{contents:t}))}),m.kb(e,t).then(e=>(Object.keys(e.results).forEach(s=>{let a=e.results[s],l=o[a.id];if(a.isOk){let e={};o[s].forEach(t=>{if(!n.content.contents[t])return;let{assessmentId:r,courseId:s}=n.content.contents[t];r&&s&&e[s]?e[s]=[...e[s],r]:s&&!e[s]&&(e[s]=r?[r]:[])}),r((0,i.rc)((0,i.ok)(E.g.CONTENT_DELETE),{courseAssessmentIds:Object.keys(e).length>0?e:void 0,results:o[s],deletedGrades:!t||!!(null==t?void 0:t.shouldDeleteGrades)}))}else r((0,i.rc)((0,i.fJ)(E.g.CONTENT_DELETE),{results:l}))}),e)).catch(t=>{throw e.forEach(e=>{let t=o[e.id];r((0,i.rc)((0,i.fJ)(E.g.CONTENT_DELETE),{results:t}))}),r((0,i.rc)((0,i.ok)(l.A.APP_ERROR),{error:t})),{contents:e,err:t}})}),updateContentInStore:e=>(0,i.VP)(E.g.CONTENT_UPDATE_IN_STORE,()=>Promise.resolve({nextContent:e}),{nextContent:e}),deleteContentInStore:e=>(0,i.RA)((t,r)=>{let s=r();k(e,s).forEach(e=>{var r,n,o,a;let l=s.content.contents[e],u={assessmentId:null==(r=s.content.contents[e])?void 0:r.assessmentId,courseId:null==(n=s.content.contents[e])?void 0:n.courseId,contentId:e,invalidateGradingSchemas:(0,I.iW)(l)||(0,m.fx)(l)?null!=(a=null==(o=null==l?void 0:l.genericReadOnlyData)?void 0:o.hasGradeColumn)&&a:!!A.Lt.getGradebookColumnByContentId(s,e)};t((0,i.rc)(E.g.CONTENT_DELETE_IN_STORE,{contentId:e})),t((0,i.rc)((0,i.ok)(E.g.CONTENT_DELETE_IN_STORE),u))})}),moveContentInStore:(e,t,r)=>(0,i.VP)(E.g.CONTENT_MOVE_IN_STORE,s=>{let n=s(),i=w.getContentById(n,e);if(!i)return Promise.resolve({});let a=w.getContentsByParentContentId(n,t),l=(0,o.sortBy)((0,o.filter)(a,t=>t.id!==e),["position"]),u={...i,parentId:t,position:r};return Promise.resolve({originalContent:i,movedContent:u,sortedTargetSiblings:l})},{contentId:e,targetFolderId:t,targetPosition:r}),loadAdaptiveReleaseRule:e=>(0,i.VP)(E.g.CONTENT_LOAD_ADAPTIVE_RELEASE_RULE,()=>m.sL(e).then(t=>({...t,content:e}))),createAdaptiveReleaseRule:(e,t)=>(0,i.VP)(E.g.CONTENT_CREATE_ADAPTIVE_RELEASE_RULE,()=>m.m1(e,t).then(e=>({...e,contentId:t.id})).catch(e=>{throw{err:e}}),{adaptiveReleaseRule:e}),createAdaptiveReleaseCriteria:(e,t,r)=>(0,i.VP)(E.g.CONTENT_CREATE_ADAPTIVE_RELEASE_CRITERIA,()=>m.rj(e,t,r).then(e=>{var s;return{...e,contentId:null!=(s=r.id)?s:"",ruleId:t}}),{adaptiveReleaseRuleId:t,content:r}),persistAdaptiveReleaseCriteria:e=>(0,i.VP)(E.g.CONTENT_PERSIST_ADAPTIVE_RELEASE,()=>m.vm(e),{criteriaId:e.id}),persistAdaptiveReleaseCriteriaMultiple:e=>(0,i.VP)(E.g.CONTENT_PERSIST_ADAPTIVE_RELEASE_MULTIPLE,()=>m.HG(e).then(t=>({prevContents:e,...t})).catch(t=>{throw{prevContents:e,err:t}}),{criteriaList:e}),deleteAdaptiveReleaseRules:e=>(0,i.Vy)(E.g.CONTENT_DELETE_ADAPTIVE_RELEASE,async()=>{try{let t={results:{}};return t.results=(await m.K0(e)).results,{results:t.results}}catch(t){throw new i.GS(t).setData({contents:e})}},{data:{contents:e}}),deleteAdaptiveReleaseRulesInStore:e=>(0,i.RA)((t,r)=>{var s;let n=r(),o=w.getContentById(n,e),a=null==(s=A.Lt.getGradebookColumnByContentId(n,e))?void 0:s.id,l={contentId:e,courseId:null==o?void 0:o.courseId,columnId:a};t((0,i.rc)((0,i.ok)(E.g.CONTENT_DELETE_ALL_ADAPTIVE_RELEASE_IN_STORE),l))}),deleteAdaptiveReleaseRuleInStore:(e,t)=>(0,i.rc)((0,i.ok)(E.g.CONTENT_DELETE_ADAPTIVE_RELEASE_RULE_IN_STORE),{contentId:e,ruleType:t}),deleteAdaptiveReleaseCriteria:e=>(0,i.VP)(E.g.CONTENT_DELETE_ADAPTIVE_RELEASE_CRITERIA,()=>m.c8(e),{criteriaId:e.id}),notifyContentImportComplete:e=>(0,i.rc)((0,i.ok)(E.g.CONTENT_IMPORT_COMPLETE),{courseId:e}),notifyLorContentCopyComplete:e=>(0,i.rc)((0,i.ok)(E.g.CONTENT_LOR_COPY_COMPLETE),e),loadContentsByQuery:e=>(0,i.RA)(async(t,r)=>{if(function(e,t){let{view:r}=v(e.content,t);return(null==r||!r.isValid)&&(null==r||!r.isLoading)}(r(),e)){t((0,i.rc)(E.g.CONTENT_SEARCH_LOAD,{query:e}));try{let r=await m.wL({filter:{contentId:p.Ox$.Root,contentSearchMode:p.dSI.courseContent,...e.filter},paging:e.paging,sort:e.sort});t((0,i.rc)((0,i.ok)(E.g.CONTENT_SEARCH_LOAD),{query:e,data:r}))}catch(s){t((0,i.rc)((0,i.fJ)(E.g.CONTENT_SEARCH_LOAD),{query:e,err:s}));let r=(0,y.xt)(s);throw t((0,i.rc)((0,i.ok)(l.A.APP_ERROR),{error:r})),s.error||s.type?s:new y.Dr(s.message)}}}),loadContentsByGroupIdAndQuery:e=>(0,i.VP)(E.g.CONTENT_LOAD_BY_GROUP_ID,async()=>({data:await m.tS(e),query:e}),{query:e})},w={getContentByAssessmentId:(e,t)=>(0,o.find)(e.content.contents,{assessmentId:t}),getContentById:(e,t)=>(0,o.find)(e.content.contents,{id:t}),getContentsByParentContentId:(e,t)=>(0,o.filter)(e.content.contents,{parentId:t}),getRootFolderByCourseId:(e,t,r)=>Object.values(e.content.contents).find(e=>e.courseId===t&&e.title===r&&!e.parentId),getContentLinksByLinkedContentId:(e,t)=>(0,o.filter)(e.content.contents,{contentDetail:{[a._h.CourseLink.toString()]:{linkSourceId:t}}}),getHasContentLinksByLinkedContentId:(e,t)=>Object.values(e.content.contents).some(e=>{var r,s,n;return(null==(r=e.contentDetail)?void 0:r[a._h.CourseLink.toString()])&&(null==(n=null==(s=e.contentDetail)?void 0:s[a._h.CourseLink.toString()])?void 0:n.linkSourceId)===t}),getAdaptiveReleaseCriteriaByContentId:(0,g.Mz)(e=>e.content.adaptiveRelease,(e,t)=>t,(e,t)=>(0,o.filter)(e.byCriteriaId,{criteria:{contentId:t}})),getSelectContentsByIds:e=>(0,g.Mz)(e=>e,t=>e.map(e=>e?w.getContentById(t,e):void 0).filter(e=>void 0!==e)),getContentsByQuery:(e,t)=>{var r,s;let{view:n}=v(e.content,t);return n&&null!=(s=null==(r=n.values)?void 0:r.map(t=>(0,o.find)(e.content.contents,{id:t})))?s:[]},getNeighborContent:(e,t,r,s,n)=>{var i,a;let{view:l}=v(e.content,{filter:{courseId:r,contentId:s},neighborDirection:t,contentOwnerId:n});return null==(a=null==(i=null==l?void 0:l.values)?void 0:i.map(t=>(0,o.find)(e.content.contents,{id:t})))?void 0:a[0]},getNeighborContentViewStatus:(e,t,r,s,n)=>{let{view:o}=v(e.content,{filter:{courseId:r,contentId:s},neighborDirection:t,contentOwnerId:n});return o?{isLoading:o.isLoading,isValid:o.isValid,paging:o.paging}:null},getLinkedContent:(e,t)=>{let r=w.getContentById(e,t);for(;r&&a.iF.isNonDiscussionCourseLink(r);){let t=a.iF.getCourseLinkSourceId(r);t&&(r=w.getContentById(e,t))}return r},getContentsViewStatusByQuery:(e,t)=>{let{view:r}=v(e.content,t);return r?{isLoading:r.isLoading,isValid:r.isValid,paging:r.paging}:null},getCountBySearchCriteria:(e,t)=>{var r,s;let{view:n}=v(e.content,t);return n&&null!=(s=null==(r=n.paging)?void 0:r.count)?s:0},isLoading:(e,t)=>{let{view:r}=v(e.content,t);return r?r.isLoading:e.content.isLoading},getUpdatingContentByCourseId:(e,t)=>{var r;return(0,o.filter)(null==(r=null==e?void 0:e.content)?void 0:r.contents,{courseId:t}).filter(e=>{var t,r;return null!=(r=null==(t=null==e?void 0:e.api)?void 0:t.isUpdating)&&r}).map(e=>e.id).filter(e=>void 0!==e)}};function k(e,t){let r=w.getContentsByParentContentId(t,e).map(e=>e.id),s=[e].concat(r).map(e=>w.getContentLinksByLinkedContentId(t,e).map(e=>e.id)).reduce((e,t)=>t.concat(e),[]);return[e].concat(r).concat(s)}function M(e,t){let r={contents:{}};return(0,o.forEach)(e,(e,s)=>{r.contents[e.id]={...e,position:void 0!==t&&t>=0&&s>=t?s+1:s}}),r}},31501:(e,t,r)=>{"use strict";var s;!function(e){e.Pending="Pending",e.Success="Success"}(s||(s={}))},31894:(e,t,r)=>{"use strict";r.d(t,{o1:()=>m,Ff:()=>p,Lt:()=>g});var s=r(905898),n=r(732583),o=r(2797),i=r(612918);let a={COURSE_REPORTS_LOAD:"course.reports.load"};var l=r(968554);let u=(e,t)=>{var r;if(!(null==t?void 0:t.courseId))return l.Vc;let[s,o]=null!=(r=Object.entries(e.views.byCourseId[null==t?void 0:t.courseId]||{}).find(([,e])=>(0,n.Y_)(e.query,t)))?r:[null,null];return s?{id:s,view:o}:l.Vc},d=e=>["views","byCourseId",e.courseId],c=(e,t)=>{let{view:r}=u(t.getState().courseReports,e.query);return!r||!r.isLoading&&!r.isValid},E=()=>["reports"],p=(0,l.vy)({views:{byCourseId:{}},byReportId:{}},{[a.COURSE_REPORTS_LOAD]:(0,i.rK)(E,i.hu.Load,i.p_),[(0,l.ok)(a.COURSE_REPORTS_LOAD)]:(e,t)=>{let{reports:r,query:n}=t;if(!n.courseId)return e;let o=(0,s.Ay)(e,e=>{r.forEach(t=>{e.byReportId[t.id]=t})});return(0,l.lY)(o,t,{viewResolver:u,viewsPathResolver:d,values:r.map(e=>e.id)})},[(0,l.fJ)(a.COURSE_REPORTS_LOAD)]:(0,i.rK)(E,i.hu.Load,i.XP)}),m={loadReportsByQuery:e=>(0,l.Vy)(a.COURSE_REPORTS_LOAD,async()=>({reports:(await (0,o.DB)(e)).results,query:e}),{data:{query:e},condition:c})},g={getCourseReportsByQuery:(e,t)=>{var r;let{view:s}=u(e.courseReports,t);return s?(null!=(r=s.values)?r:[]).map(t=>e.courseReports.byReportId[t]).filter(e=>!!e):[]},getCourseReportsViewByQuery:(e,t)=>{let{view:r}=u(e.courseReports,t);return r||null}}},32245:(e,t,r)=>{"use strict";r.d(t,{o1:()=>E,Ff:()=>d,Lt:()=>c});var s=r(608719),n=r(905898),o=r(300474),i=r(163398),a=r(758247),l=r(968554);let u={SETTINGS_LOAD:"unsplash.settings.load"};(0,l.ok)(u.SETTINGS_LOAD),(0,l.fJ)(u.SETTINGS_LOAD);let d=(0,l.vy)({settings:{byCourseId:{}}},{[u.SETTINGS_LOAD]:(e,t)=>(0,n.Ay)(e,e=>{let r=t.meta.courseId;e.settings.byCourseId[r]?e.settings.byCourseId[r].isLoading=!0:e.settings.byCourseId[r]={isLoading:!0}}),[(0,l.ok)(u.SETTINGS_LOAD)]:(e,t)=>(0,n.Ay)(e,e=>{e.settings.byCourseId[t.meta.courseId]={value:t.payload.settings,isLoading:!1}}),[(0,l.fJ)(u.SETTINGS_LOAD)]:(e,t)=>(0,n.Ay)(e,e=>{let r=t.meta.courseId;e.settings.byCourseId[r]?e.settings.byCourseId[r].isLoading=!1:e.settings.byCourseId[r]={isLoading:!1}})}),c={getSettings:(e,t)=>{var r;return null==(r=e.unsplash.settings.byCourseId[t])?void 0:r.value},isLoadingSettings:(e,t)=>{var r,s;return null!=(s=null==(r=e.unsplash.settings.byCourseId[t])?void 0:r.isLoading)&&s}},E={getSettings:e=>(0,l.RA)(async(t,r)=>{if(!(c.isLoadingSettings(r(),e)||c.getSettings(r(),e)))try{let r={type:u.SETTINGS_LOAD,meta:{courseId:e}};t(r);let s=await (0,i.yz)(e),n={type:(0,l.ok)(u.SETTINGS_LOAD),payload:{settings:s},meta:{courseId:e}};t(n)}catch(r){if((0,o.rh)((0,o.xt)(r),[s.t3V.NotFound]))return void t({type:(0,l.ok)(u.SETTINGS_LOAD),payload:{settings:{applicationId:"",available:!1}},meta:{courseId:e}});t({type:(0,l.fJ)(u.SETTINGS_LOAD),meta:{courseId:e}}),t((0,l.rc)((0,l.ok)(a.A.APP_ERROR),{error:r}))}})}},32445:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});let s={ASSOCIATIONS:"associations"}},33918:(e,t,r)=>{"use strict";r(362420),r(332014),r(935539),r(828650)},34415:(e,t,r)=>{"use strict";r.d(t,{V6:()=>a,ZN:()=>n,nr:()=>o,w3:()=>i});var s=r(56684);class n extends s.w_{constructor(e){super("/v1/courses/%courseId%/groupsets/%groupSetId%/export",e)}}class o extends s.pT{constructor(e){super("/v1/courses/%courseId%/groupsets/%groupSetId%/export",e)}}class i extends s.FK{constructor(e){super("/v1/courses/%courseId%/groupsets/%groupSetId%/export",e)}}class a extends s.w_{constructor(e){super("/v1/courses/%courseId%/groupsets/import",e)}}},40144:(e,t,r)=>{"use strict";r.d(t,{P:()=>n});var s=r(56684);class n extends s.mj{constructor(e){super("/v1/courses/%courseId%/gradebook/columns/%columnId%/knowledgeCheckMetrics",e)}}},40965:(e,t,r)=>{"use strict";function s(e,t){let r=[{insert:!0,format:{video:{bbtype:"video",bbfile:JSON.stringify(e)}}}];return r.unshift({insert:`
`}),t||r.push({insert:`
`}),r}r.d(t,{A:()=>s})},42548:(e,t,r)=>{"use strict";var s;r.d(t,{g:()=>s}),function(e){e.InlineStart="inlineStart",e.InlineEnd="inlineEnd"}(s||(s={}))},43375:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s={GROUP_DELETE_BATCH:"group.delete.batch",GROUPS_LOAD:"groups.load",GROUPS_LOAD_BY_CONTENT_ID:"groups.load.by.content.id",GROUPS_LOAD_BY_CONTENT_ID_AND_QUERY:"groups.load.by.content.id.by.query",GROUPS_LOAD_BY_GROUP_SET_ID_AND_QUERY:"groups.load.by.group.set.id.by.query",GROUPS_LOAD_BY_QUERY:"groups.load.by.query",GROUPS_LOAD_BY_CONTENT_IDS_AND_MEMBERSHIP:"group.load.by.content.ids.and.membership",GROUPS_ADD:"groups.add",GROUPS_UPDATE:"groups.update",GROUP_LOAD_BY_ID:"groups.load.by.id",GROUP_MEMBERSHIPS_LOAD:"group.memberships.load",ADD_GROUP_MEMBERSHIP:"group.membership.add",REMOVE_GROUP_MEMBERSHIP:"group.membership.remove",GROUP_STUDENT_COUNT_LOAD:"group.student.count.load"}},45761:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var s=r(514041),n=r(165217),o=r(216693),i=r(939067),a=r.n(i),l=r(951777),u=r(877973),d=r(865004),c=r(611960);let E=(0,u.n9)(e=>(0,u.rU)({warningMessage:{marginBottom:"16px"},fileInfo:{marginBottom:"5px"}})),p=e=>{let{fileSizeGroup:t}=e,r=E(),n=(0,d.W)();return s.createElement(s.Fragment,null,s.createElement("div",{className:r.warningMessage},(()=>{let e;return 0===t.fileSizeLimit?n("bbmlEditor.dialogs.fileUpload.maxSizeWarning.zeroSizeWarningMessage"):n("bbmlEditor.dialogs.fileUpload.maxSizeWarning.warningMessage",{maxFileSize:(e=t.fileSizeLimit,s.createElement(l.yl,{component:"span",variant:"h4"},n("bbmlEditor.dialogs.fileUpload.maxSizeWarning.maxFileSize",{maxFileSize:(0,c.vm)(e)})))})})()),s.createElement("ul",null,t.files.map((e,t)=>s.createElement("li",{className:r.fileInfo,key:t},s.createElement(l.yl,{component:"span",variant:"h4"},e.name)))))};class m extends s.Component{constructor(e){super(e),this.onDismiss=this.onDismiss.bind(this)}onDismiss(){var e;this.props.destroy(),null==(e=this.props)||e.executeCallback()}render(){let{t:e,files:t,maxFileSize:r,fileUploadSettings:n,classes:i}=this.props,{displayRecommendedAlternatives:a,displaySupportLink:u,supportLink:d,recommendedAlternatives:c,customFileUploadSettings:E}=n,m=o.a5S.groupExceedingUploadLimitFiles(t,E,r),g=s.createElement(l.T,{analyticsId:"bbmlEditor.dialogs.fileUpload.linkAnalytics",href:d,target:"_blank",rel:"noreferrer"},e("bbmlEditor.dialogs.fileUpload.maxSizeWarning.supportLink")),y=a||""!==c?e("bbmlEditor.dialogs.fileUpload.maxSizeWarning.alternateStorage",{alternateStorage:c}):e("bbmlEditor.dialogs.fileUpload.maxSizeWarning.noAlternateStorage"),I=u||""!==d?s.createElement(s.Fragment,null," ",e("bbmlEditor.dialogs.fileUpload.maxSizeWarning.supportLinkText",{supportLinkAnchor:g})):"";return s.createElement(l.Zd,{open:!0,maxWidth:"md",onClose:this.onDismiss,analyticsId:"editor.dialogs.fileUpload.maxSizeWarning.title",className:"max-size-warning-modal",PaperProps:{role:"alertdialog"},"aria-labelledby":"alert-upload-error"},s.createElement(l.Fv,{id:"alert-upload-error",onClose:this.onDismiss,closeLabel:e("global.close")},e("bbmlEditor.dialogs.fileUpload.maxSizeWarning.title")),s.createElement(l.Wy,{className:i.dialogContent},m.map(e=>s.createElement(p,{fileSizeGroup:e})),s.createElement("div",{className:"alternate-storage-info"},s.createElement("span",null,y),s.createElement("span",null,I))),s.createElement(l.gS,null,s.createElement(l.Hu,{onClick:this.onDismiss,analyticsId:"editor.modalMaxFileSizeError.cancel"},e("bbmlEditor.dialogs.fileUpload.maxSizeWarning.primary"))))}}m.propTypes={destroy:a().func.isRequired,files:a().arrayOf([{name:a().string,size:a().number}]),maxFileSize:a().number.isRequired,executeCallback:a().func},m.defaultProps={fileUploadSettings:{displayRecommendedAlternatives:!1,displaySupportLink:!1,supportLink:"",recommendedAlternatives:""}};let g=(0,n.T)((0,u.Xy)(()=>(0,u.rU)({dialogContent:{maxHeight:"400px",overflowY:"auto",paddingLeft:"16px",marginLeft:0}}))(m))},46774:(e,t,r)=>{"use strict";r.d(t,{o1:()=>p,Ff:()=>E,Lt:()=>m});var s=r(905898),n=r(645250),o=r(968554),i=r(758247),a=r(428555),l=r(608719),u=r(750609),d=r(300474);let c={REPORTS_LOAD:"question-analysis.reports.load",REPORT_CREATE:"question-analysis.reports.create"},E=(0,o.vy)({byId:{},isLoading:!1},{[c.REPORTS_LOAD]:o.r1,[(0,o.ok)(c.REPORTS_LOAD)]:(e,t)=>{let r=(0,s.Ay)(e,e=>{let{reports:r}=t;r&&(e.byId=r)});return(0,o.Zg)(r,t)},[(0,o.fJ)(c.REPORTS_LOAD)]:o.Nh,[(0,o.ok)(c.REPORT_CREATE)]:(e,t)=>{let r=(0,s.Ay)(e,e=>{let{report:r}=t;e.byId[r.id]=r});return(0,o.Zg)(r,t)},[(0,o.fJ)(c.REPORT_CREATE)]:o.Nh}),p={fetchReports:e=>(0,o.RA)((t,r)=>(t((0,o.rc)(c.REPORTS_LOAD)),(0,u.eFJ)(e).then(e=>(t((0,o.rc)((0,o.ok)(c.REPORTS_LOAD),e)),t((0,o.rc)((0,o.ok)(a.g.QUESTION_DETAILS_LOAD),e)),{...e})).catch(e=>{t((0,o.rc)((0,o.ok)(i.A.APP_ERROR),{error:e})),t((0,o.rc)((0,o.fJ)(c.REPORTS_LOAD))),t((0,o.rc)((0,o.fJ)(a.g.QUESTION_DETAILS_LOAD)))}))),fetchReport:(e,t)=>(0,o.RA)((r,s)=>!function(e,t){let r=m.getMostRecentByAssessmentId(e,t);return!g(e)&&(null==r||r.analysisReportDetails.state===l.wod.InProgress)}(s(),t)?Promise.resolve(null):(r((0,o.rc)(c.REPORTS_LOAD)),(0,u.HXl)(e,t).then(e=>(r((0,o.rc)((0,o.ok)(c.REPORTS_LOAD),e)),r((0,o.rc)((0,o.ok)(a.g.QUESTION_DETAILS_LOAD),e)),{...e})).catch(e=>{r((0,o.rc)((0,o.ok)(i.A.APP_ERROR),{error:e})),r((0,o.rc)((0,o.fJ)(c.REPORTS_LOAD))),r((0,o.rc)((0,o.fJ)(a.g.QUESTION_DETAILS_LOAD)))}))),fetchMultipleReports:(e,t)=>(0,o.RA)((r,s)=>g(s())?Promise.resolve(null):(r((0,o.rc)(c.REPORTS_LOAD)),(0,u.sO6)(e,t).then(e=>(r((0,o.rc)((0,o.ok)(c.REPORTS_LOAD),e)),r((0,o.rc)((0,o.ok)(a.g.QUESTION_DETAILS_LOAD),e)),{...e})).catch(e=>{r((0,o.rc)((0,o.ok)(i.A.APP_ERROR),{error:e})),r((0,o.rc)((0,o.fJ)(c.REPORTS_LOAD))),r((0,o.rc)((0,o.fJ)(a.g.QUESTION_DETAILS_LOAD)))}))),generateReport:(e,t)=>(0,o.VP)(c.REPORT_CREATE,()=>(0,u.ohA)(e,t).then(e=>({...e})).catch(e=>{throw{err:(0,d.yo)(e)}}))},m={getById:(e,t)=>n.find(e.questionAnalysis.reports.byId,{id:t}),getMostRecentByAssessmentId:(e,t)=>{let r=n.filter(e.questionAnalysis.reports.byId,{assessmentId:t});return n.reduce(r,(e,t)=>{let r=e.analysisReportDetails.executionTimeStamp,s=t.analysisReportDetails.executionTimeStamp;return null==e||s>r?t:e})},getByCourseId:(e,t)=>n.filter(e.questionAnalysis.reports.byId,{courseId:t})};function g(e){return e.questionAnalysis.reports.isLoading}},48434:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>i,Lt:()=>l});var s=r(968554),n=r(170228),o=r(905898);let i=(0,s.vy)({byColumnId:{}},{[(0,s.ok)(n.g.GRADEBOOK_BULKVIEW_LOAD)]:(e,t)=>(0,o.Ay)(e,e=>{let{columnIds:r,peerReviewsCountsPerColumnMap:s}=t;s&&a(e,r,s)})}),a=(e,t,r)=>{t&&0!==t.length&&t.forEach(t=>{e.byColumnId[t]||(e.byColumnId[t]={}),r.forEach(r=>{var s;let[n,o]=Object.entries(r)[0];e.byColumnId[t][n]=null!=(s=o[t])?s:{completed:0,started:0,completedLate:0}})})},l={getPeerReviewCountsByColumnIdAndUserId:(e,t,r)=>{var s,n,o;if(r)return null==(o=null==(n=null==(s=e.peerReviewsCounts)?void 0:s.byColumnId)?void 0:n[t])?void 0:o[r]}}},52287:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});let s={CREATE_ACHIEVEMENT:"create-achievement",MODIFY_ACHIEVEMENT:"modify-achievement",IMPORT_OPEN_BADGE:"import-open-badge"}},53497:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});let s={buildSensor:()=>{},activator:(0,r(188240).l)("onKeyDown",()=>!1)}},56174:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={EXCEPTION_DETAILS_LOAD:"exception.details.load",EXCEPTION_DETAILS_INVALIDATE_BY_COLUMN_ID:"exception.invalidate.byColumnId"}},56518:(e,t,r)=>{"use strict";r.d(t,{V9:()=>l,gF:()=>a,pA:()=>i});var s=r(825271),n=r(608719),o=r(853400);let i=(0,o.Y)(n.zCf,s.dZ),a=(0,o.Y)(n._HO,s.dZ),l=(0,o.Y)(n.$gS,s.dZ)},56684:(e,t,r)=>{"use strict";r.d(t,{$X:()=>s.$X,Cd:()=>n.Cd,Ex:()=>n.Ex,FK:()=>s.FK,Jk:()=>s.Jk,QR:()=>s.QR,V0:()=>s.V0,cB:()=>s.cB,kz:()=>s.kz,mj:()=>s.mj,pT:()=>s.pT,u4:()=>s.u4,w_:()=>s.w_});var s=r(287627),n=r(16894)},56763:(e,t,r)=>{"use strict";r.d(t,{L:()=>i,e:()=>a});var s=r(847948),n=r(645250),o=r(608719);class i extends s.Z{constructor(e){super(e,"UserPronounsUnsafeName")}}let a=e=>{var t,r;return(null==(t=null==e?void 0:e.error)?void 0:t.status)===o.t3V.BadRequest&&(0,n.includes)(null==(r=null==e?void 0:e.error)?void 0:r.code,o.SfP)?new i(e.error):e}},63189:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});let s={CONTENT_MARKET:"content-market"}},72811:(e,t,r)=>{"use strict";r(56684).QR,r(542633)},73729:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(877973);let n=(0,s.n9)(e=>(0,s.rU)({mathEditor:{"& .wrs_editor":{[e.breakpoints.down("sm")]:{whiteSpace:"normal","& .wrs_multipleRowPanel":{minHeight:"66px",height:"auto"},"& .wrs_toolbar .wrs_header":{width:"calc(100% - 18px)","& button":{marginLeft:0,marginRight:"4px"}}}}}}))},74648:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(216693),n=r(601478);let o=e=>(0,n.l)(t=>s.Ltv.featureFlags.getFeatureFlagValue(t,e))},75165:(e,t,r)=>{"use strict";var s;r.d(t,{w:()=>s}),function(e){e.AppendSection="appendSection",e.Outdated_PrependSection="prependSection"}(s||(s={}))},76013:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>B,Lt:()=>V,o1:()=>x});var s=r(905898),n=r(645250),o=r(968554),i=r(956284),a=r(764209),l=r(842804),u=r(399733),d=r(608719),c=r(758247),E=r(11144),p=r(294268),m=r(924652),g=r(825271),y=r(728959),I=r(897582),A=r(352290),h=r(808954),_=r(437272),b=r(457969),S=r(315463);let T=0,O=(e,t,r,s)=>{let n=e[t];n?n[r]=s:e[t]={[r]:s}},v=(e,t,r)=>{let s=e[t];Object.keys(s).length>1?delete s[r]:delete e[t]},f=e=>["views","byCourseId",e.courseId],C=(e,t)=>{var r;if(!t)return{id:null,view:null};let s=null!=(r=e.views.byCourseId[t.courseId])?r:{},i=Object.keys(s).find(e=>{let r=s[e];if("assessmentId"in r.query)return"assessmentId"in t&&t.assessmentId===r.query.assessmentId&&t.courseId===r.query.courseId;if("assessmentId"in t)return!1;let o=n.isEqual(r.query.paging,t.paging),i=n.isEqual(r.query.filter,t.filter),a=n.isEqual(r.query.sort,t.sort);return o&&a&&i});return i?{id:i,view:s[i]}:o.Vc},R=(e,t)=>{let r=(0,b.kK)(t);if(!r)return;let{id:s}=r;if(!s)return;let n=e.byAssessmentId[s];e.byAssessmentId[s]={...n,...r,api:{...null==n?void 0:n.api,isInvalidated:!1,isDeleting:!1,isUpdating:!1}}};function D(e,t){var r;t&&Object.values(null!=(r=e.views.byCourseId[t])?r:{}).forEach(e=>{e.isValid=!1})}let L=(e,t)=>e.assessment.importTasksByCourseId[t]||{},N=(e,t)=>e.assessment.exportTasksByCourseId[t],U=e=>`questionBanksExportShowTaskStatus${e.replace(/\_/g,".")}`,P=e=>`questionBanksImportShowTaskStatus${e.replace(/\_/g,".")}`,w=(e,t)=>({key:P(e),isRequired:!0,value:JSON.stringify(Object.keys(t).reduce((e,t)=>({...e,[t]:!0}),{}))}),k=(e,t)=>{let r=(0,s.Ay)(e,r=>{if(!n.has(t,"assessments"))return;let{assessments:s}=t;Object.keys(s).forEach(t=>{var n,o;r.byAssessmentId[t]={...s[t],api:{isUpdating:!1,isDeleting:!1},ui:null!=(o=null==(n=e.byAssessmentId[t])?void 0:n.ui)?o:{}}})});return(0,o.Zg)(r,t)},M=new Set([d.rw8.Complete,d.rw8.CompleteErrors]),B=(0,o.vy)({byAssessmentId:{},fileUploadTasksByCourseId:{},importTasksByCourseId:{},exportTasksByCourseId:{},permissions:null,paging:null,isLoading:!1,views:{byCourseId:{}}},{[a.g.CONTENT_LOAD]:o.r1,[(0,o.ok)(a.g.CONTENT_LOAD)]:(e,t)=>k(e,t),[(0,o.fJ)(a.g.CONTENT_LOAD)]:o.Nh,[(0,o.ok)(a.g.CONTENT_PERSIST)]:(e,t)=>k(e,t),[(0,o.fJ)(a.g.CONTENT_PERSIST)]:o.Nh,[I.g.ASSESSMENT_LOAD]:(0,o.Dh)(C,f),[(0,o.ok)(I.g.ASSESSMENT_LOAD)]:(e,t)=>{if(!t||!t.data)return(0,o.Zg)(e,t);let{data:r}=t,{assessmentIds:i,byAssessmentId:a,paging:l,permissions:u}=r,d=(0,s.Ay)(e,t=>{Object.keys(a).forEach(r=>{let s=e.byAssessmentId[r],o=n.pickBy({contentId:null==s?void 0:s.contentId,permissions:null==s?void 0:s.permissions,ui:null==s?void 0:s.ui});t.byAssessmentId[r]={...a[r],ui:{},...o,api:{isUpdating:!1,isDeleting:!1}}})});return(0,o.lY)(d,t,{viewResolver:C,viewsPathResolver:f,paging:l,permissions:u,values:i})},[(0,o.fJ)(I.g.ASSESSMENT_LOAD)]:(0,o.To)(C,f),[I.g.ASSESSMENT_PERSIST]:(e,t)=>(0,s.Ay)(e,e=>{var r;let s=t.assessment.id;e.byAssessmentId[s]||(e.byAssessmentId[s]={});let n=null!=(r=e.byAssessmentId[s].api)?r:{};e.byAssessmentId[s].api=n,n.isUpdating=!0}),[(0,o.ok)(I.g.ASSESSMENT_PERSIST)]:(e,t)=>{let{updatedAssessment:r}=t,n=null==r?void 0:r.id;if(!n)return e;let o=e.byAssessmentId[n],i={...o,...r,api:{...null==o?void 0:o.api,isUpdating:!1},ui:{...null==o?void 0:o.ui}};return(0,s.Ay)(e,e=>{e.byAssessmentId[n]=i,D(e,i.courseId)})},[(0,o.fJ)(I.g.ASSESSMENT_PERSIST)]:(e,t)=>(0,s.Ay)(e,e=>{var r;let s=null!=(r=e.byAssessmentId[t.assessment.id].api)?r:{};e.byAssessmentId[t.assessment.id].api=s,s.isUpdating=!1}),[I.g.ASSESSMENT_DELETE]:(e,t)=>(0,s.Ay)(e,e=>{var r;let s=null!=(r=e.byAssessmentId[t.assessmentId].api)?r:{};e.byAssessmentId[t.assessmentId].api=s,s.isDeleting=!0}),[(0,o.ok)(I.g.ASSESSMENT_DELETE)]:(e,t)=>(0,s.Ay)(e,e=>{delete e.byAssessmentId[t.assessmentId],D(e,t.courseId)}),[(0,o.fJ)(I.g.ASSESSMENT_DELETE)]:(e,t)=>{let r=(0,s.Ay)(e,e=>{var r;let s=null!=(r=e.byAssessmentId[t.assessmentId].api)?r:{};e.byAssessmentId[t.assessmentId].api=s,s.isDeleting=!1});return(0,o.Nh)(r,t)},[(0,o.ok)(I.g.ASSESSMENT_CREATE)]:(e,t)=>(0,s.Ay)(e,r=>{let s={...e.byAssessmentId},n={...t.assessment,api:{isDeleting:!1,isUpdating:!0}};s[n.id]=n,r.byAssessmentId=s,D(r,n.courseId)}),[(0,o.ok)(l.g.QUESTION_PERSIST)]:(e,t)=>(0,s.Ay)(e,e=>{let{prevQuestion:r,question:s}=t;(null==r?void 0:r.id)&&0===r.id.indexOf(i.Gw)&&D(e,s.courseId)}),[(0,o.ok)(l.g.QUESTIONS_COPY)]:(e,t)=>(0,s.Ay)(e,e=>{D(e,t.courseId)}),[l.g.QUESTIONS_COPY_TASK_UPDATE]:(e,t)=>(0,s.Ay)(e,e=>{D(e,t.courseId)}),[(0,o.ok)(l.g.QUESTION_DELETE)]:(e,t)=>(0,s.Ay)(e,e=>{D(e,t.prevQuestion.courseId)}),[(0,o.ok)(l.g.QUESTIONS_CREATE)]:(e,t)=>(0,s.Ay)(e,e=>{D(e,t.courseId)}),[(0,o.ok)(a.g.CONTENT_DELETE)]:(e,t)=>(0,s.Ay)(e,r=>{let{results:s}=t;s.forEach(t=>{let s=n.findKey(e.byAssessmentId,{contentId:t});if(s){let t=e.byAssessmentId[s];delete r.byAssessmentId[s],D(r,t.courseId)}})}),[(0,o.ok)(a.g.CONTENT_DELETE_IN_STORE)]:(e,t)=>{let{contentId:r}=t,o=n.findKey(e.byAssessmentId,{contentId:r});return o?(0,s.Ay)(e,t=>{let r=e.byAssessmentId[o];delete t.byAssessmentId[o],D(t,r.courseId)}):e},[(0,o.ok)(a.g.CONTENT_IMPORT_COMPLETE)]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{D(e,r)})},[I.g.ASSESSMENT_FILE_UPLOAD_TASK_ADD]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,taskId:s,fileName:n,isQTIImport:o}=t;O(e.fileUploadTasksByCourseId,r,s,{taskId:s,fileName:n,progress:0,isQTIImport:o})}),[I.g.ASSESSMENT_FILE_UPLOAD_TASK_UPDATE]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,taskId:s,progress:n,fileLocation:o,isQTIImport:i}=t,a=e.fileUploadTasksByCourseId[r][s];e.fileUploadTasksByCourseId[r][s]={...a,progress:n,fileLocation:o,isQTIImport:i}}),[I.g.ASSESSMENT_FILE_UPLOAD_TASK_REMOVE]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,taskId:s}=t;v(e.fileUploadTasksByCourseId,r,s)}),[I.g.ASSESSMENT_IMPORT_TASKS_LOAD]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,queueTasks:s}=t,o=e.importTasksByCourseId[r];o?s.forEach(e=>{o[e.taskId]=e}):e.importTasksByCourseId[r]=n.keyBy(s,"taskId")}),[I.g.ASSESSMENT_EXPORT_TASKS_LOAD]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,queueTasks:s}=t,o=e.exportTasksByCourseId[r];o?s.forEach(e=>{o[e.taskId]=e}):e.exportTasksByCourseId[r]=n.keyBy(s,"taskId")}),[I.g.ASSESSMENT_EXPORT_TASK_ADD]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,queueTask:s}=t;O(e.exportTasksByCourseId,r,s.taskId,s)}),[I.g.ASSESSMENT_EXPORT_TASK_UPDATE]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,queueTasks:s}=t;s.forEach(t=>{e.exportTasksByCourseId[r][t.taskId]=t})}),[(0,o.ok)(I.g.ASSESSMENT_EXPORT_TASK_REMOVE)]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,taskId:s}=t;v(e.exportTasksByCourseId,r,s)}),[I.g.ASSESSMENT_IMPORT_TASK_ADD]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,queueTask:s}=t;O(e.importTasksByCourseId,r,s.taskId,s)}),[I.g.ASSESSMENT_IMPORT_TASK_UPDATE]:(e,t)=>(0,s.Ay)(e,r=>{let{courseId:s,queueTasks:n}=t;n.forEach(n=>{var o;r.importTasksByCourseId[s][n.taskId]=n;let i=null==(o=e.importTasksByCourseId[s])?void 0:o[n.taskId];n.taskStatus!==(null==i?void 0:i.taskStatus)&&M.has(n.taskStatus)&&D(r,t.courseId)})}),[(0,o.ok)(I.g.ASSESSMENT_IMPORT_TASK_REMOVE)]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,taskId:s}=t;v(e.importTasksByCourseId,r,s)}),[(0,o.fJ)(I.g.ASSESSMENT_IMPORT_TASK_REMOVE)]:(e,t)=>(0,o.Nh)(e,t),[A.g.GRANULAR_CONTENT_COPY_COMPLETE]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{D(e,r)})},[(0,o.ok)(h.g.GRADEBOOK_ATTEMPT_LOAD)]:(e,t)=>(0,s.Ay)(e,e=>{R(e,t.attempt)}),[(0,o.ok)(_.g.GRADEBOOK_GROUP_ATTEMPT_LOAD)]:(e,t)=>(0,s.Ay)(e,e=>{R(e,t.groupAttempt)}),[(0,o.ok)(h.g.GRADEBOOK_ATTEMPT_UPDATE)]:(e,t)=>(0,s.Ay)(e,e=>{R(e,t.attempt)}),[(0,o.ok)(_.g.GRADEBOOK_GROUP_ATTEMPT_UPDATE)]:(e,t)=>(0,s.Ay)(e,e=>{R(e,t.groupAttempt)})});async function G(e,t,r,s,n=y.xO,i=m.Dw){let a=await n({key:t(e)});if(!a)return;let l={};try{l=JSON.parse(a.value)}catch(e){console.error(`Parsing of preference value failed: ${a.value}`),console.error(e);return}let u=Object.keys(l).filter(e=>!0===l[e]);if(!u.length)return;let d=await Promise.all(u.map(i));s((0,o.rc)(r,{courseId:e,queueTasks:d}))}let x={loadAssessments:e=>{let{courseId:t,types:r,offset:s,limit:n}=e;return x.loadAssessmentsByQuery({courseId:t,...r?{filter:{types:r}}:null,paging:{offset:null!=s?s:0,limit:null!=n?n:20}})},loadAssessmentsByQuery:e=>(0,o.RA)(t=>(t((0,o.rc)(I.g.ASSESSMENT_LOAD,{query:e})),(0,u.jP)(e).then(r=>(t((0,o.rc)((0,o.ok)(I.g.ASSESSMENT_LOAD),{data:r,query:e})),{...r})).catch(r=>{throw t((0,o.rc)((0,o.ok)(c.A.APP_ERROR),{error:r})),t((0,o.rc)((0,o.fJ)(I.g.ASSESSMENT_LOAD),{query:e})),r}))),loadAssessmentById:({courseId:e,assessmentId:t})=>(0,o.RA)(r=>{let s={assessmentId:t,courseId:e};return r((0,o.rc)(I.g.ASSESSMENT_LOAD,{query:s})),(0,u.Rc)({courseId:e,assessmentId:t}).then(e=>(r((0,o.rc)((0,o.ok)(I.g.ASSESSMENT_LOAD),{data:{assessmentIds:[e.id],byAssessmentId:{[e.id]:e}},query:s})),e)).catch(e=>{throw r((0,o.rc)((0,o.ok)(c.A.APP_ERROR),{error:e})),r((0,o.rc)((0,o.fJ)(I.g.ASSESSMENT_LOAD),{query:s})),e})}),deleteAssessment:({courseId:e,assessmentId:t})=>(0,o.RA)(r=>(r((0,o.rc)(I.g.ASSESSMENT_DELETE,{assessmentId:t,courseId:e})),(0,d.pGV)(g.dZ,e,t).then(()=>(r((0,o.rc)((0,o.ok)(I.g.ASSESSMENT_DELETE),{assessmentId:t,courseId:e})),{assessmentId:t})).catch(s=>{throw r((0,o.rc)((0,o.fJ)(I.g.ASSESSMENT_DELETE),{assessmentId:t,courseId:e})),s instanceof d.aS0||r((0,o.rc)((0,o.ok)(c.A.APP_ERROR),{error:s})),s}))),createAssessment:e=>(0,o.RA)(t=>(t((0,o.rc)(I.g.ASSESSMENT_CREATE,e)),(0,u.bU)(e).then(e=>(t((0,o.rc)((0,o.ok)(I.g.ASSESSMENT_CREATE),{assessment:e})),{assessment:e})).catch(e=>{throw t((0,o.rc)((0,o.ok)(c.A.APP_ERROR),{error:e})),e}))),uploadAssessmentFile:e=>(0,o.RA)((t,r)=>{let{courseId:s,file:n,fileName:i,fileType:a,isQTIImport:l}=e;t((0,o.rc)(I.g.ASSESSMENT_FILE_UPLOAD,e));let u=((e,t,r,s)=>{let n=T;return T+=1,e((0,o.rc)(I.g.ASSESSMENT_FILE_UPLOAD_TASK_ADD,{courseId:t,fileName:r,taskId:n,isQTIImport:s})),n})(t,s,i,l);(0,E.Y)({fileType:a,fileName:i,file:n}).then(e=>{let n=r().assessment.fileUploadTasksByCourseId[s];if(!(null==n?void 0:n[u]))return;let{fileLocation:i}=e;t((0,o.rc)(I.g.ASSESSMENT_FILE_UPLOAD_TASK_UPDATE,{courseId:s,taskId:u,progress:100,fileLocation:i,isQTIImport:l}))}).catch(e=>{t((0,o.rc)((0,o.ok)(c.A.APP_ERROR),{error:e}))})}),removeAssessmentFileUploadTask:(e,t)=>(0,o.RA)(async r=>{r((0,o.rc)(I.g.ASSESSMENT_FILE_UPLOAD_TASK_REMOVE,{courseId:e,taskId:t}))}),importAssessment:e=>(0,o.RA)((t,r)=>{let{courseId:s,fileName:n,fileLocation:i,isQTIImport:a}=e;return t((0,o.rc)(I.g.ASSESSMENT_IMPORT,e)),(0,p.U)({courseId:s,fileName:n,fileLocation:i},{cxAction:"CX_ACTION_IMPORT",includeItems:["cxConfigArea_POOL"],isQTI21Package:a}).then(e=>{var n;t((0,o.rc)(I.g.ASSESSMENT_IMPORT_TASK_ADD,{courseId:s,queueTask:e}));let i=w(s,null!=(n=L(r(),s))?n:{});return(0,y.xy)(i)}).catch(e=>{throw t((0,o.rc)((0,o.ok)(c.A.APP_ERROR),{error:e})),e})}),exportAssessment:e=>(0,o.RA)(async t=>{t((0,o.rc)(I.g.ASSESSMENT_EXPORT,e));let{courseId:r,assessmentId:s}=e,n={cxAction:"CX_ACTION_EXPORT",includeItems:[`pool${s}`],isQTI21Package:!0};try{let e=await (0,d.tbS)(g.dZ,r,n);return t((0,o.rc)(I.g.ASSESSMENT_EXPORT_TASK_ADD,{courseId:r,assessmentId:s,queueTask:e})),await (0,m.Ih)(e.taskId,m.Dw),await (0,S.F)(g.dZ,r,e.taskId)}catch(e){throw t((0,o.rc)((0,o.ok)(c.A.APP_ERROR),{error:e})),e}}),updateImportTaskStatus:(e,t)=>(0,o.RA)(async r=>{let s=await Promise.all(t.map(e=>(0,m.Dw)(e)));return r((0,o.rc)(I.g.ASSESSMENT_IMPORT_TASK_UPDATE,{courseId:e,queueTasks:s})),s}),updateExportTaskStatus:(e,t)=>(0,o.RA)(async r=>{let s=await Promise.all(t.map(e=>(0,m.Dw)(e)));return r((0,o.rc)(I.g.ASSESSMENT_EXPORT_TASK_UPDATE,{courseId:e,queueTasks:s})),s}),loadAssessmentImportTasks:e=>(0,o.RA)(async t=>{await G(e,P,I.g.ASSESSMENT_IMPORT_TASKS_LOAD,t)}),loadAssessmentExportTasks:e=>(0,o.RA)(async t=>{await G(e,U,I.g.ASSESSMENT_EXPORT_TASKS_LOAD,t)}),removeAssessmentExportTask:(e,t)=>(0,o.RA)(async(r,s)=>{var n;let{[t]:i,...a}=null!=(n=N(s(),e))?n:{},l={key:U(e),isRequired:!0,value:JSON.stringify(Object.keys(a).reduce((e,t)=>({...e,[t]:!0}),{}))};try{await (0,y.xy)(l),r((0,o.rc)((0,o.ok)(I.g.ASSESSMENT_EXPORT_TASK_REMOVE),{courseId:e,taskId:t}))}catch(s){r((0,o.rc)((0,o.fJ)(I.g.ASSESSMENT_EXPORT_TASK_REMOVE),{courseId:e,taskId:t})),r((0,o.rc)((0,o.ok)(c.A.APP_ERROR),{error:s}))}}),removeAssessmentImportTask:(e,t)=>(0,o.RA)((r,s)=>{var n;let{[t]:i,...a}=null!=(n=L(s(),e))?n:{},l=w(e,a);return(0,y.xy)(l).then(()=>{r((0,o.rc)((0,o.ok)(I.g.ASSESSMENT_IMPORT_TASK_REMOVE),{courseId:e,taskId:t}))}).catch(s=>{r((0,o.rc)((0,o.fJ)(I.g.ASSESSMENT_IMPORT_TASK_REMOVE),{courseId:e,taskId:t})),r((0,o.rc)((0,o.ok)(c.A.APP_ERROR),{error:s}))})}),persistAssessment:(e,t)=>(0,o.RA)(r=>(r((0,o.rc)(I.g.ASSESSMENT_PERSIST,{assessment:e})),(0,u.lu)(e,{...t,assessmentId:e.id}).then(t=>(r((0,o.rc)((0,o.ok)(I.g.ASSESSMENT_PERSIST),{assessment:e,updatedAssessment:t})),{assessment:e})).catch(t=>{throw r((0,o.rc)((0,o.fJ)(I.g.ASSESSMENT_PERSIST),{assessment:e})),r((0,o.rc)((0,o.ok)(c.A.APP_ERROR),{error:t})),t})))},V={getAssessmentById:(e,t)=>n.find(e.assessment.byAssessmentId,{id:t}),getAssessmentByContentId:(e,t)=>n.find(e.assessment.byAssessmentId,{contentId:t}),getAssessmentsByCourseId:(e,t,r,s)=>{let o=n.filter(e.assessment.byAssessmentId,{courseId:t});return r&&(o=o.filter(e=>r.includes(e.type))),s&&(o=o.filter(e=>!(e.type===d.PAn.Test&&void 0!==e.subtype&&s.includes(e.subtype)))),o},getAssessmentByCourseAndGradableItemId:(e,t,r)=>n.find(e.assessment.byAssessmentId,{courseId:t,gradableItemId:r}),getAssessmentsByQuery:(e,t)=>{let{view:r}=C(e.assessment,t);return r?(r.values||[]).map(t=>V.getAssessmentById(e,t)).filter(e=>!!e):[]},getAssessmentsByQueries:(e,t)=>{let r=new Set([]);return t.reduce((t,s)=>{let{view:n}=C(e.assessment,s);return[...t,...((null==n?void 0:n.values)||[]).map(t=>V.getAssessmentById(e,t)).filter(e=>!(!(null==e?void 0:e.id)||r.has(e.id))&&(r.add(e.id),!0))]},[])},getAssessmentViewStateByQuery:(e,t)=>{var r;let{view:s}=C(e.assessment,t);return s?{isLoading:s.isLoading,isValid:s.isValid,paging:null!=(r=s.paging)?r:null,permissions:s.permissions}:null},getAssessmentViewStatusByQueries:(e,t)=>t.reduce((t,r)=>{var s;let{view:n}=C(e.assessment,r),o=null;return n&&(o={isLoading:n.isLoading,isValid:n.isValid,paging:null!=(s=n.paging)?s:null,permissions:n.permissions}),[...t,{query:r,view:o}]},[]),getAssessmentFileUploadTasks:e=>t=>t.assessment.fileUploadTasksByCourseId[e]||{},getAssessmentImportTasks:e=>t=>L(t,e),getAssessmentExportTasks:e=>t=>N(t,e)}},76996:(e,t,r)=>{"use strict";r.d(t,{o1:()=>p,Ff:()=>c,Lt:()=>m});var s=r(905898),n=r(968554),o=r(825271),i=r(608719),a=r(612918);let l={SYSTEM_ENTITLEMENTS_LOAD:"systemEntitlements.load"},u={byEntitlementId:{status:a.E1,value:{}}},d=()=>["byEntitlementId"],c=(0,n.vy)(u,{[l.SYSTEM_ENTITLEMENTS_LOAD]:(0,a.vR)(d,a.vq),[(0,n.ok)(l.SYSTEM_ENTITLEMENTS_LOAD)]:(e,t)=>{let r=t.entitlements;return(0,s.Ay)(e,e=>{var t;let s=null!=(t=e.byEntitlementId.value)?t:{};r.forEach(e=>{s[e.uid]=e}),e.byEntitlementId={status:a.y_,value:s}})},[(0,n.fJ)(l.SYSTEM_ENTITLEMENTS_LOAD)]:(0,a.vR)(d,a.JL)});function E(e,t){return(0,a.qO)(t.getState().systemEntitlements.byEntitlementId.status)}let p={loadSystemEntitlements:()=>(0,n.Vy)(l.SYSTEM_ENTITLEMENTS_LOAD,async()=>({entitlements:(await (0,i.yoy)(o.dZ)).results}),{condition:E})},m={hasSystemEntitlement:(e,t)=>{var r;let s=e.systemEntitlements.byEntitlementId;return{isLoading:s.status!==a.y_,hasEntitlement:!!(null==(r=s.value)?void 0:r[t])}}}},78957:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>O,Lt:()=>v,o1:()=>f});var s=r(905898),n=r(732583),o=r(839781),i=r(750609),a=r(764556),l=r(243502),u=r(612918),d=r(764209),c=r(968554),E=r(542644);let p=e=>["aclMembers","byRuleId",e.ruleId],m=(e,t)=>{let r=t.getState().adaptiveRelease.aclMembers.byRuleId[e.ruleId];return(0,u.qO)(null==r?void 0:r.status)},g=e=>["aclGroups","byRuleId",e.ruleId],y=(e,t)=>{let r=t.getState().adaptiveRelease.aclGroups.byRuleId[e.ruleId];return(0,u.qO)(null==r?void 0:r.status)},I=(e,t)=>{var r;if(!t)return c.Vc;let[s,o]=null!=(r=Object.entries(e.views.byContentId[t.contentId]||{}).find(([,e])=>(0,n.Y_)(e.query,t)))?r:[null,null];return s?{id:s,view:o}:c.Vc},A=e=>["views","byContentId",e.contentId],h=(e,t)=>{if(!t)return{id:null,view:null};let r=e.views.byContentId[t.contentId]||{},s=((e,t)=>Object.keys(e).find(r=>{let s=e[r],o=(0,n.Y_)(s.query.paging,t.paging),i=!("filter"in s.query)||!("filter"in t)||(0,n.Y_)(s.query.filter,t.filter);return o&&i}))(r,t);return s?{id:s,view:r[s]}:c.Vc},_=(e,t)=>{var r;t&&Object.values(null!=(r=e.views.byContentId[t])?r:{}).forEach(e=>{e.isValid=!1})},b=(e,t)=>{var r;return(null==(r=e.criteria)?void 0:r.map(e=>e.id===t.id?t:e))||[]};function S(e,t){return(0,s.jM)(e,e=>{t.rules.forEach(t=>{t.id&&(e.byId[t.id]={...e.byId[t.id],...t},delete e.aclMembers.byRuleId[t.id],delete e.aclGroups.byRuleId[t.id])}),_(e,t.contentId)})}function T(e,t){return(0,s.jM)(e,e=>{let r=e.views.byContentId[t];r&&Object.values(r).forEach(t=>{var r;null==(r=t.values)||r.forEach(t=>{delete e.byId[t],delete e.aclMembers.byRuleId[t],delete e.aclGroups.byRuleId[t]})}),_(e,t)})}let O=(0,c.vy)({byId:{},views:{byContentId:{}},aclMembers:{byRuleId:{}},aclGroups:{byRuleId:{}}},{[(0,c.ok)(l.gK.ADAPTIVE_RELEASE_RULES_CREATE)]:(e,t)=>S(e,t),[(0,c.ok)(l.gK.ADAPTIVE_RELEASE_RULE_DELETE)]:(e,t)=>(0,s.jM)(e,e=>{delete e.byId[t.ruleId],_(e,t.contentId)}),[l.gK.ADAPTIVE_RELEASE_RULES_LOAD_BY_COURSE_AND_CONTENT]:(0,c.Dh)(I,A),[(0,c.ok)(l.gK.ADAPTIVE_RELEASE_RULES_LOAD_BY_COURSE_AND_CONTENT)]:(e,t)=>{let{data:r}=t,{rules:n,paging:o,permissions:i}=r,a=Object.keys(n);return e=(0,s.jM)(e,e=>{a.forEach(t=>{e.byId[t]=n[t]})}),(0,c.lY)(e,t,{viewResolver:I,viewsPathResolver:A,paging:o,values:a,permissions:i})},[l.gK.ADAPTIVE_RELEASE_RULES_LOAD_BY_COURSE_AND_CONTENT]:(0,c.Dh)(h,A),[(0,c.fJ)(l.gK.ADAPTIVE_RELEASE_RULES_LOAD_BY_COURSE_AND_CONTENT)]:(0,c.To)(h,A),[(0,c.fJ)(l.gK.ADAPTIVE_RELEASE_RULES_LOAD_BY_COURSE_AND_CONTENT)]:(0,c.To)(I,A),[l.gK.ADAPTIVE_RELEASE_RULES_PERSIST]:(e,t)=>(0,s.jM)(e,e=>{t.rules.forEach(t=>{t.id&&!e.byId[t.id]&&(e.byId[t.id]={})})}),[(0,c.ok)(l.gK.ADAPTIVE_RELEASE_RULES_PERSIST)]:(e,t)=>S(e,t),[(0,c.fJ)(l.gK.ADAPTIVE_RELEASE_RULES_PERSIST)]:(e,t)=>(0,s.jM)(e,e=>{t.rules.forEach(t=>{var r;t.id&&0===Object.keys(null!=(r=e.byId[t.id])?r:{}).length&&delete e.byId[t.id]})}),[(0,c.ok)(l.gK.ADAPTIVE_RELEASE_DELETE)]:(e,t)=>{let{contentId:r}=t;return T(e,r)},[(0,c.ok)(d.g.CONTENT_PERSIST_ADAPTIVE_RELEASE)]:(e,t)=>(0,s.jM)(e,e=>{var r;if(!(null==(r=t.result)?void 0:r.ruleId))return;let{contentId:s,ruleId:n}=t.result,o=b(e.byId[n],t.result);e.byId[n].criteria=o,delete e.aclMembers.byRuleId[n],delete e.aclGroups.byRuleId[n],_(e,s)}),[(0,c.ok)(d.g.CONTENT_DELETE_ALL_ADAPTIVE_RELEASE_IN_STORE)]:(e,t)=>{let{contentId:r}=t;return T(e,r)},[(0,c.ok)(d.g.CONTENT_DELETE_ADAPTIVE_RELEASE)]:(e,t)=>(0,s.jM)(e,e=>{let{results:r}=t;Object.values(r).forEach(t=>{let r=t.id,s=e.views.byContentId[r];s&&Object.values(s).forEach(t=>{var r;null==(r=t.values)||r.forEach(t=>{delete e.byId[t],delete e.aclMembers.byRuleId[t],delete e.aclGroups.byRuleId[t]})}),_(e,r)})}),[(0,c.ok)(d.g.CONTENT_PERSIST_ADAPTIVE_RELEASE_MULTIPLE)]:(e,t)=>(0,s.jM)(e,e=>{Object.values(t.results).forEach(t=>{var r;if(!(null==(r=t.result)?void 0:r.ruleId))return;let{contentId:s,ruleId:n}=t.result,o=b(e.byId[n],t.result);e.byId[n].criteria=o,delete e.aclMembers.byRuleId[n],delete e.aclGroups.byRuleId[n],_(e,s)})}),[l.gK.ADAPTIVE_RELEASE_ACL_MEMBERS_LOAD]:(0,u.vR)(p,u.vq),[(0,c.ok)(l.gK.ADAPTIVE_RELEASE_ACL_MEMBERS_LOAD)]:(e,t)=>{let{ruleId:r,aclUsers:n}=t;return(0,s.jM)(e,e=>{e.aclMembers.byRuleId[r]={value:n,status:u.y_}})},[(0,c.fJ)(l.gK.ADAPTIVE_RELEASE_ACL_MEMBERS_LOAD)]:(0,u.vR)(p,u.JL),[l.gK.ADAPTIVE_RELEASE_ACL_GROUPS_LOAD]:(0,u.vR)(g,u.vq),[(0,c.ok)(l.gK.ADAPTIVE_RELEASE_ACL_GROUPS_LOAD)]:(e,t)=>{let{ruleId:r,aclGroups:n}=t;return(0,s.jM)(e,e=>{e.aclGroups.byRuleId[r]={value:n,status:u.y_}})},[(0,c.fJ)(l.gK.ADAPTIVE_RELEASE_ACL_GROUPS_LOAD)]:(0,u.vR)(g,u.JL)}),v={getAdaptiveReleaseRulesByQuery:(0,o.n)((e,t)=>{let{view:r}=I(e.adaptiveRelease,t);return r&&r.isValid&&!r.isLoading?(r.values||[]).map(t=>e.adaptiveRelease.byId[t]):[]},e=>e),getAdaptiveReleaseRulesViewStatusByQuery:(e,t)=>{let{view:r}=h(e.adaptiveRelease,t);return r?{isLoading:r.isLoading,isValid:r.isValid,paging:r.paging}:null},getAdaptiveReleaseRulesPermissionsByQuery:(e,t)=>{var r;let{view:s}=I(e.adaptiveRelease,t);return null!=(r=null==s?void 0:s.permissions)?r:null},getAdaptiveReleaseAclMembersByRuleId:(e,t)=>{var r;return null==(r=e.adaptiveRelease.aclMembers.byRuleId[t])?void 0:r.value},getAdaptiveReleaseAclGroupsByRuleId:(e,t)=>{var r;return null==(r=e.adaptiveRelease.aclGroups.byRuleId[t])?void 0:r.value}},f={createAdaptiveReleaseRules:(e,t,r)=>(0,c.Vy)(l.gK.ADAPTIVE_RELEASE_RULES_CREATE,async(s,{getState:n})=>{let o=n(),i=await (0,a.vQ)(e,t,r),l=E.Lt.getGradebookColumnByContentId(o,t);return{courseId:e,contentId:t,columnId:null==l?void 0:l.id,rules:i}}),deleteAdaptiveReleaseRule:(e,t,r)=>(0,c.Vy)(l.gK.ADAPTIVE_RELEASE_RULE_DELETE,async(s,{getState:n})=>{let o=n();await (0,a.hb)(e,t,r);let i=E.Lt.getGradebookColumnByContentId(o,t);return{courseId:e,contentId:t,ruleId:r,columnId:null==i?void 0:i.id}},{data:{courseId:e,contentId:t,ruleId:r}}),deleteAdaptiveReleaseByContentId:(e,t)=>(0,c.Vy)(l.gK.ADAPTIVE_RELEASE_DELETE,async()=>(await (0,a.Oi)(e,t),{contentId:t}),{data:{contentId:t}}),loadAdaptiveReleaseRulesByQuery:e=>(0,c.Vy)(l.gK.ADAPTIVE_RELEASE_RULES_LOAD_BY_COURSE_AND_CONTENT,async()=>({data:await (0,a.Hp)(e),query:e}),{data:{query:e}}),persistAdaptiveReleaseRules:(e,t,r)=>(0,c.Vy)(l.gK.ADAPTIVE_RELEASE_RULES_PERSIST,async()=>{let s=await (0,a.Z0)(e,t,r);return{contentId:t,rules:s}},{data:{contentId:t}}),loadAdaptiveReleaseAclMembers:(e,t,r,s)=>{let n={courseId:e,contentId:t,ruleId:r,criteriaId:s,limit:l.gn,offset:0,expand:"user"};return(0,c.Vy)(l.gK.ADAPTIVE_RELEASE_ACL_MEMBERS_LOAD,async()=>{try{let e=await (0,i.tLZ)(n);return{contentId:t,ruleId:r,aclUsers:e.userPredicates}}catch(n){throw new c.GS(n).setData({courseId:e,contentId:t,ruleId:r,criteriaId:s})}},{data:{contentId:t,ruleId:r},condition:m})},loadAdaptiveReleaseAclGroups:(e,t,r,s)=>{let n={courseId:e,contentId:t,ruleId:r,criteriaId:s,limit:l.gn,offset:0,expand:"group"};return(0,c.Vy)(l.gK.ADAPTIVE_RELEASE_ACL_GROUPS_LOAD,async()=>{try{let e=await (0,i.DBf)(n);return{contentId:t,ruleId:r,aclGroups:e.groupPredicates}}catch(n){throw new c.GS(n).setData({courseId:e,contentId:t,ruleId:r,criteriaId:s})}},{data:{contentId:t,ruleId:r},condition:y})},clearAdaptiveReleaseInStoreByContentId:e=>(0,c.rc)((0,c.ok)(d.g.CONTENT_DELETE_ALL_ADAPTIVE_RELEASE_IN_STORE),{contentId:e})}},79475:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var s={};r.r(s),r.d(s,{default:()=>o});var n=r(645250);let o={},i={devtools_enableSetLangQuery:!1},a={},l={devtools_enableSetLangQuery:!0},u={"^(https://ultra-canary.bbpd.io)$":(e,t)=>(function(e,t,r){return!(e in r)||r[e]})(e,0,a),".*(bbpd.io)":(e,t)=>((e,t,r)=>e in r?r[e]:i[e])(e,0,l)};var d=r(694795);let c=(()=>{let e={...i},t=d.at(),r=u[Object.keys(u).find(e=>!!t.match(e))];if("all"===r)for(let t of Object.keys(e))e[t]=!0;else if("function"==typeof r)for(let t of Object.keys(e))e[t]=r(t,e[t]);else null!=r&&Object.assign(e,r);return e})();var E=r(946328);let p={apiBasePath:"/learn/api",basePath:"/ultra",buildInfo:"undefined"!=typeof window&&window.__buildInfo||{},chartsApiBasePath:"/charts/api",institutionApiBasePath:"/institution/api",partnerCloudBasePath:"/webapps/partner-cloud/app",defaultBasePage:E.M4.BASE_ACTIVITY,localeLoader:{fallbackLocales:["en-us","en"]},directivesPerf:!1,features:Object.assign(c,{}),storageKeyForFeatureFlags:"bb_feature_flags",showFeaturePrototypes:!1,errorDetails:!1,infiniteScrollThrottleMS:500,production:!0,unitTesting:!1,showComingSoonScreens:!0,streamLoadingInterval:12e4,telemetryApiBasePath:"/telemetry/api",telemetryApiTimeoutMS:2e3,telemetryAppId:"ultra",trialSiteSuggestionsUrl:"https://community.blackboard.com/community/ideas",trialSiteContactSalesUrl:"http://bbbb.blackboard.com/EducatorPreviewcontact",trialSiteLiveChatUrl:"https://chat.edusupportcenter.com/chat/websiteChat?short_name=educatorpreview&key=educatorpreview1707",trialSiteSupportPhone:"1-844-435-2162",cloudStorageIntegrationServices:[],disableAllFtueGuidance:!1,allyAutoUpdateInterval:500,allyClearCacheInterval:1e4,allyInitializationTimeout:1e4,cloudStorageIntegrationInitializationTimeout:1e4},m=JSON.parse(sessionStorage.getItem(p.storageKeyForFeatureFlags)||"{}");n.isEmpty(m)||(console.warn("Attention! Feature flags are overridden by client setting!",m),console.warn("To clear, please logout and re-login"),Object.assign(p.features,m)),s&&Object.assign(p,s),p.production=!0;let g=p},80033:(e,t,r)=>{"use strict";r.d(t,{E:()=>n,x:()=>o});var s=r(216693);class n extends Error{constructor(e,t){super(t),this.errorData=e}getErrorFiles(){return this.errorData.errorFiles}getAllowedFiles(){return this.errorData.allowedFiles}}class o{constructor(e,t){this.sizeLimitInBytes=e,this.customFileUploadSettings=t}validate(e){let t=s.a5S.filterOversizedFiles(e,this.customFileUploadSettings,this.sizeLimitInBytes),r=s.a5S.filterValidSizedFiles(e,this.customFileUploadSettings,this.sizeLimitInBytes);if(t.length>0)throw new n({errorFiles:t,allowedFiles:r},"File is larger than the maximum file size")}}},84222:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var s=r(56684);class n extends s.pT{constructor(e){super("/v1/lor/%lorId%/contents/%contentId%/associations",e)}}},86507:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>c,Tj:()=>u});var s=r(514041),n=r(592671),o=r(951777),i=r(802928),a=r(939067),l=r.n(a);let u={Black:"#000000",Grey:"#666666",Purple:"#a234b5",Blue:"#046ef6",Green:"#1c8845",Red:"#e72218"};class d extends s.Component{render(){let{editorFormat:e,color:t,cssClass:r}=this.props;return s.createElement(o.Hn,{classes:{root:`picker-color ${r}`}},(t===u.Black&&!e.color||e.color===t)&&s.createElement(n.r,null))}}d.propTypes={editorFormat:l().shape(),color:l().string,cssClass:l().string},d.defaultProps={editorFormat:{},color:null,cssClass:null};let c=(0,i.withAnalytics)(d)},91129:(e,t,r)=>{"use strict";r.d(t,{Dh:()=>u,Tm:()=>E,ZG:()=>c,tX:()=>d});var s=r(608719),n=r(853400),o=r(825271),i=r(956284),a=r(106535);function l(e){let{results:t}=e;return{performance:t,performanceIds:t.map(e=>(0,a.j)({goalId:e.goalId,userId:e.userId}))}}let u=(0,n.Y)(s.lav,o.dZ),d=async e=>{let{courseId:t,paging:r}=e;return function(e){let{results:t}=e;return{paging:e.paging,goalsById:(0,i.jD)(t),goalIds:t.map(e=>e.id)}}(await (0,s.z8F)(o.dZ,t,r))},c=async e=>{let{courseId:t,userIds:r,goalIds:n}=e;return l(await (0,s.JUT)(o.dZ,t,r,n))},E=async e=>{let{courseId:t,userId:r,parentId:n}=e;return l(n?await (0,s.WPt)(o.dZ,t,r,n):await (0,s.ZnZ)(o.dZ,t,r))}},92958:(e,t,r)=>{"use strict";r.d(t,{F9:()=>d,l$:()=>i,uW:()=>c,xP:()=>u});var s=r(397965),n=r(608719),o=r(825271);function i(e,t,r,n){let o=(0,s.c$)("/v1/courses/%courseId%/gradebook/columns/%columnId%/summary",{courseId:e,columnId:t,...r});return(0,s.Jt)(o,n).then(e=>e)}function a(e){return e.reduce((e,t)=>({...e,[t.columnId]:t}),{})}let l="fetchColumnSummaries";async function u(e,t,r){(0,s.$D)(l);let n=[];for(let s of t)n.push(i(e,s,r,{batchKey:l}));return{columnSummaries:a(await Promise.all(n))}}async function d(e){var t,r;let i,l=null==(t=e.paging)?void 0:t.limit,u=null==(r=e.paging)?void 0:r.offset,d={courseId:e.courseId};e.sort&&(i=(0,s.vo)(e.sort));let c={filter:e.filter,expand:e.expandParam,includeCount:e.includeCount},{results:E,paging:p}=await (0,n.OJU)(o.dZ,d,{...c,limit:l,offset:u,sort:i});return{columnSummaryType:e.columnSummaryType,columnSummariesOverview:a(E),columnIds:E.reduce((e,t)=>[...e,t.columnId],[]),paging:p}}async function c(e){let t={courseId:e.courseId},r={filter:e.filter},s=await (0,n.$t4)(o.dZ,t,r);return{courseId:e.courseId,needsGrading:s.needsGradingCount,needsPosting:s.needsPostingCount,needsReconciling:s.needsReconcilingCount}}},93571:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(745341);class n extends s.A{static create(){return document.createElement(n.tagName)}static formats(){return n.tagName}}n.createChange=(e=!0)=>({format:{superscript:!1,subscript:e}}),n.blotName="subscript",n.tagName="sub";let o=n},94396:(e,t,r)=>{"use strict";var s,n;r.d(t,{Q:()=>s,c:()=>n}),function(e){e.Hour="hour",e.Minute="minute",e.AmPm="amPm"}(s||(s={})),function(e){e[e.Pageup=33]="Pageup",e[e.Pagedown=34]="Pagedown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Esc=27]="Esc",e[e.Enter=13]="Enter"}(n||(n={}))},95365:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(877973);let n=(0,s.n9)(()=>(0,s.rU)({itemSelection:{marginRight:"12px"}}))},95418:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={STUDENT_PREVIEW_EXIT:"studentPreview.exit",STUDENT_PREVIEW_LOAD:"studentPreview.load"}},95649:(e,t,r)=>{"use strict";r.d(t,{o1:()=>K,Ff:()=>F,Lt:()=>j});var s=r(905898),n=r(968554),o=r(608719),i=r(750609),a=r(246206),l=r(567808),u=r(591835),d=r(139552),c=r(443873),E=r(732583),p=r(319308);let m=e=>["views","byQuestionId",e.questionId],g=e=>["views","byAttemptId",e.attemptId];function y(e){return{questionId:"questionId"in e?e.questionId:void 0,attemptId:"attemptId"in e?e.attemptId:void 0,assessmentId:"assessmentId"in e?e.assessmentId:void 0,courseId:"courseId"in e?e.courseId:void 0,paging:"paging"in e?e.paging:void 0,questionAttemptId:"questionAttemptId"in e?e.questionAttemptId:void 0,filterParams:"filterParams"in e?e.filterParams:void 0,hideUnavailableStudents:"hideUnavailableStudents"in e?e.hideUnavailableStudents:void 0}}let I=["questionId","assessmentId","courseId","paging","questionAttemptId","filterParams","hideUnavailableStudents"],A=(e,t)=>{if(!t)return{id:null,view:null};let r="questionId"in t?e.views.byQuestionId[t.questionId]:e.views.byAttemptId[t.attemptId];if(!r)return{id:null,view:null};let s=y(t),n=Object.keys(r).find(e=>(0,p.W)(s,y(r[e].query),I));return{id:null!=n?n:null,view:n?r[n]:null}},h=(0,d.Ad)(c.UI,E.Y_),_=e=>e.questionAttemptGrade.questionAttemptGradeById,b=(0,d.Mz)(_,(e,t)=>t,(e,t)=>(function(e){return e.questionAttemptIds.map(t=>e.allQuestionAttempts[t])})({questionAttemptIds:t,allQuestionAttempts:e}));function S(e){return e.allQuestionAttemptGrades[e.questionAttemptId]}let T=(0,d.Mz)(_,(e,t)=>t,(e,t)=>S({questionAttemptId:t,allQuestionAttemptGrades:e})),O=(0,d.Mz)(_,(e,t)=>e.questionAttemptGrade.questionAttemptIdsByAttemptIds[t],(e,t)=>null==t?void 0:t.map(t=>S({questionAttemptId:t,allQuestionAttemptGrades:e}))),v=h((e,t)=>t.map(t=>{var r;if(!t)return;let s=A(e.questionAttemptGrade,t);if(null==s?void 0:s.view)return{...s.view,values:(null!=(r=s.view.values)?r:[]).map(t=>T(e,t)).filter(e=>!!e),query:t}}),e=>e);var f=r(76013),C=r(623409),R=r(770520),D=r(457969),L=r(351663),N=r(808954),U=r(437272),P=r(842804),w=r(895703);let k=(e,t,r,s=!1)=>{let n=e.questionAttemptGradeById[t];if(s){let s;n&&"gradeId"in n&&(s={gradeId:n.gradeId,userId:n.userId}),e.questionAttemptGradeById[t]={...s,...r}}else e.questionAttemptGradeById[t]={...n,...r}},M=(e,t,r,s=!0)=>{let n=e.questionAttemptIdsByAttemptIds[t];n?-1===n.indexOf(r)&&n.push(r):s&&(e.questionAttemptIdsByAttemptIds[t]=[r])},B=(e,t)=>{for(let r of Object.values(e.views.byQuestionId))for(let e of Object.values(r))"assessmentId"in e.query&&e.query.assessmentId===t&&(e.isValid=!1)},G=(e,t)=>{let r=e.views.byQuestionId[t];r&&Object.values(r).forEach(e=>{e.isValid=!1})},x=(e,t)=>{Object.values(e.views.byQuestionId).forEach(e=>Object.values(e).forEach(e=>{e&&"courseId"in e.query&&e.query.courseId===t&&(e.isValid=!1)}))};function V(e,t,r,o=!0){return(0,s.Ay)(e,e=>{t.forEach(({questionAttempt:t,...s})=>{let i=t.id;if(!i)throw Error("Graded Question Attempts Load reducer failed: Question attempt has no `id` value");k(e,i,{...s,attemptId:r,questionAttemptId:i}),M(e,r,i,o);let a=t.questionId;a&&(0,n.gD)(e,(0,n.lY)(e,{query:{questionId:a,questionAttemptId:i}},{viewResolver:A,viewsPathResolver:m}))})})}let q=(e,t,r)=>{let s=e.views.byQuestionId[t];s&&Object.values(s).forEach(e=>{var t,s;"filterParams"in e.query&&r.gradeUpdated&&(null==(s=null==(t=e.query)?void 0:t.filterParams)?void 0:s.find(e=>e===o.dkq.NeedsGradingStudents))&&(e.isValid=!1)})},F=(0,n.vy)({questionAttemptGradeById:{},views:{byQuestionId:{},byAttemptId:{}},questionAttemptIdsByAttemptIds:{}},{[a.g.GRADED_QUESTION_ATTEMPTS_LOAD]:(0,n.Dh)(A,g),[(0,n.ok)(a.g.GRADED_QUESTION_ATTEMPTS_LOAD)]:(e,t)=>{let{data:{attemptId:r,results:s}}=t;return(0,n.lY)(V(e,s,r),t,{viewResolver:A,viewsPathResolver:g})},[a.g.GRADED_QUESTION_ATTEMPT_LOAD]:(0,n.Dh)(A,m),[(0,n.ok)(a.g.GRADED_QUESTION_ATTEMPT_LOAD)]:(e,t)=>{if(!t.data)return e;let{attemptId:r,...s}=t.data;return(0,n.lY)(V(e,[s],r,!1),t,{viewResolver:A,viewsPathResolver:m})},[a.g.GRADED_QUESTION_ATTEMPTS_LOAD_BY_QUESTION_ID]:(0,n.Dh)(A,m),[(0,n.fJ)(a.g.GRADED_QUESTION_ATTEMPTS_LOAD_BY_QUESTION_ID)]:(0,n.To)(A,m),[(0,n.ok)(a.g.GRADED_QUESTION_ATTEMPTS_LOAD_BY_QUESTION_ID)]:(e,t)=>{let{data:{results:r,paging:o,permissions:i}}=t,l=(0,s.Ay)(e,e=>{r.forEach(t=>{var r;let{questionAttempt:s,...o}=t,i=s.id;if(!i)throw Error("Graded Question Attempts Load reducer failed: Question attempt has no `id` value");let l=t.questionAttempt.attemptId;if(!l)throw Error("Graded Question Attempts Load reducer failed: Attempt has no `id` value");k(e,i,{...o,attemptId:l,questionAttemptId:i});let u=null==(r=t.questionAttempt)?void 0:r.questionId;u&&(0,n.gD)(e,(0,n.lY)(e,{type:a.g.GRADED_QUESTION_ATTEMPTS_LOAD_BY_QUESTION_ID,query:{questionId:u,questionAttemptId:i}},{viewResolver:A,viewsPathResolver:m}))})});return(0,n.lY)(l,t,{viewResolver:A,viewsPathResolver:m,paging:o,permissions:i,values:r.map(e=>e.questionAttempt.id).filter(e=>!!e)})},[a.g.GRADED_QUESTION_ATTEMPT_PERSIST]:(e,t)=>{let{questionAttemptId:r,questionId:n}=t;return(0,s.Ay)(e,e=>{let{view:t}=A(e,{questionId:n,questionAttemptId:r});t&&(t.isUpdating=!0)})},[(0,n.ok)(a.g.GRADED_QUESTION_ATTEMPT_PERSIST)]:(e,t)=>{let{questionAttempt:r,dependents:n,...o}=t.data;return(0,s.Ay)(e,e=>{let{id:t,attemptId:s,questionId:i}=r;if(!t||!s)throw Error("Expected question attempt ID and attempt ID on question attempt object");let a={...o,attemptId:n.attemptId,questionAttemptId:t};if(k(e,t,a,!0),M(e,n.attemptId,t,!1),!i)throw Error("Expected question ID on the attempt object");let{view:l}=A(e,{questionId:i,questionAttemptId:t});l&&(l.isUpdating=!1),q(e,i,{gradeUpdated:!0})})},[(0,n.fJ)(a.g.GRADED_QUESTION_ATTEMPT_PERSIST)]:(e,t)=>{let{questionAttempt:r}=t.data,{id:n,questionId:o}=r;return(0,s.Ay)(e,e=>{let{view:t}=A(e,{questionId:o,questionAttemptId:n});t&&(t.isUpdating=!1)})},[a.g.GRADED_QUESTION_ATTEMPT_FOR_GROUP_PERSIST]:(e,t)=>{let{questionAttemptId:r,questionId:n}=t;return(0,s.Ay)(e,e=>{let{view:t}=A(e,{questionId:n,questionAttemptId:r});t&&(t.isUpdating=!0)})},[(0,n.ok)(a.g.GRADED_QUESTION_ATTEMPT_FOR_GROUP_PERSIST)]:(e,t)=>{let{questionAttempt:r,dependents:n,...o}=t.data;return(0,s.Ay)(e,e=>{let{id:t,attemptId:s,questionId:i}=r;if(!t||!s)throw Error("Expected question attempt ID and attempt ID on question attempt object");if(!i)throw Error("Expected question ID on the attempt object");let a={...o,attemptId:n.userAttemptId,questionAttemptId:t};k(e,t,a,!0),M(e,n.userAttemptId,t,!1);let{view:l}=A(e,{questionId:i,questionAttemptId:t});l&&(l.isUpdating=!1),q(e,i,{gradeUpdated:!0})})},[(0,n.fJ)(a.g.GRADED_QUESTION_ATTEMPT_FOR_GROUP_PERSIST)]:(e,t)=>{let{questionAttemptId:r,questionId:n}=t;return(0,s.Ay)(e,e=>{let{view:t}=A(e,{questionId:n,questionAttemptId:r});t&&(t.isUpdating=!1)})},[(0,n.ok)(N.g.GRADEBOOK_ATTEMPT_DELETE)]:(e,t)=>{let{attempt:{assessmentId:r}}=t;return(0,s.Ay)(e,e=>{r&&B(e,r)})},[(0,n.ok)(U.g.GRADEBOOK_GROUP_ATTEMPT_DELETE)]:(e,t)=>{let{groupAttempt:{assessmentId:r}}=t;return(0,s.Ay)(e,e=>{r&&B(e,r)})},[(0,n.ok)(P.g.QUESTION_PERSIST)]:(e,t)=>{var r;let n=null==(r=t.question)?void 0:r.id;return n?(0,s.Ay)(e,e=>{G(e,n)}):e},[(0,n.ok)(P.g.QUESTION_BULK_QUESTION_POINTS_UPDATE)]:(e,t)=>(0,s.Ay)(e,e=>{t.questions.forEach(t=>{t.id&&G(e,t.id)})}),[(0,n.ok)(a.g.GRADED_QUESTION_ATTEMPTS_INVALIDATE_BY_COURSE_ID)]:(e,t)=>(0,s.Ay)(e,e=>x(e,t.courseId)),[(0,n.ok)(l.g.GRADEBOOK_SETTINGS_UPDATE)]:(e,t)=>(0,s.Ay)(e,e=>x(e,t.courseId))}),K={loadGradedQuestionAttemptsByAttemptId:(e,t,r)=>(0,n.Vy)(a.g.GRADED_QUESTION_ATTEMPTS_LOAD,async()=>({data:{...await (0,i.Wun)(e,t,r),attemptId:t},query:{attemptId:t}}),{data:{query:{attemptId:t}},condition:(e,{getState:r})=>{var s;return!(null==(s=j.getQuestionAttemptGradeViewStateByQuery(r(),{attemptId:t}))?void 0:s.isValid)}}),loadGradedQuestionAttemptByQuestionAttemptId:(e,t,r,s)=>(0,n.VP)(a.g.GRADED_QUESTION_ATTEMPT_LOAD,async()=>{let n=await (0,i.bGG)(e,t,r.questionAttemptId,s);return{data:{attemptId:t,...n},query:r}},{query:r}),updateGradedQuestionAttempt:(e,t,r)=>(0,n.VP)(a.g.GRADED_QUESTION_ATTEMPT_PERSIST,async(s,n)=>{var o,a,l;let{courseId:d,questionAttemptId:c,attemptId:E}=e,p=j.getQuestionAttemptGradeById(c)(s()),m={manualPoints:null==p?void 0:p.points,...t},g=await (0,i.jKi)(e,m),{questionId:y}=g.questionAttempt;if(!E)throw Error("Expected Attempt ID in question attempt object");let{columnId:I,gradeId:A,assessmentId:h}={gradeId:void 0,columnId:void 0,assessmentId:void 0,...D.Lt.getGradebookAttemptByAttemptId(s(),E)},_=null!=h?h:I?null==(o=f.Lt.getAssessmentByCourseAndGradableItemId(s(),d,I))?void 0:o.id:void 0;return _&&y&&(await n(R.o1.loadGradebookSettings(d)),n(C.o1.refreshCachedQuestionGradeStatusesByQuestionId(d,_,y,{questionGradeStatusType:r===w.W.MyStudentsToGrade?u.MM.MyStudents:u.MM.Default,hideUnavailableStudents:null==(l=null==(a=s().gradebookSettings.byCourseId[d])?void 0:a.value)?void 0:l.hideUnavailableStudents}))),{data:{...g,dependents:{columnId:I,courseId:d,gradeId:A,attemptId:E}}}},{questionAttemptId:e.questionAttemptId,questionId:e.questionId}),updateGradedQuestionAttemptForGroup:(e,t)=>(0,n.Vy)(a.g.GRADED_QUESTION_ATTEMPT_FOR_GROUP_PERSIST,async(r,{getState:s,dispatch:n})=>{var o,a,l,d;let{courseId:c,questionAttemptId:E,attemptId:p,groupAttemptId:m}=e;if(!p)throw Error("Expected Attempt ID in question attempt object");let g=j.getQuestionAttemptGradeById(E)(s()),y={manualPoints:null==g?void 0:g.points,...t},I=await (0,i.jKi)(e,y),{questionId:A}=I.questionAttempt,{columnId:h,groupAssociationId:_,assessmentId:b}={columnId:void 0,...null==(o=L.Lt.getGradebookGroupAttemptById(s(),m))?void 0:o.value},S=null!=b?b:h?null==(a=f.Lt.getAssessmentByCourseAndGradableItemId(s(),c,h))?void 0:a.id:void 0;return S&&A&&(await n(R.o1.loadGradebookSettings(c)),n(C.o1.refreshCachedQuestionGradeStatusesByQuestionId(c,S,A,{questionGradeStatusType:u.MM.Default,hideUnavailableStudents:null==(d=null==(l=s().gradebookSettings.byCourseId[c])?void 0:l.value)?void 0:d.hideUnavailableStudents}))),{data:{...I,dependents:{courseId:c,columnId:h,groupAssociationId:_,userAttemptId:p,groupAttemptId:m}}}},{data:{questionAttemptId:e.questionAttemptId,questionId:e.questionId}}),loadGradedQuestionAttemptsByQuestionIdQuery:e=>(0,n.VP)(a.g.GRADED_QUESTION_ATTEMPTS_LOAD_BY_QUESTION_ID,async()=>({data:await (0,i.Pjj)(e.courseId,e.assessmentId,e.questionId,{paging:e.paging,expandParams:["questionAttempt.question","questionAttempt.question.usageCount","questionAttempt.question.sourceInfo","questionAttempt.answerCorrectness"],filterParams:e.filterParams}),query:e}),{query:e}),setGradedQuestionAttempts:(e,t)=>(0,n.rc)((0,n.ok)(a.g.GRADED_QUESTION_ATTEMPTS_LOAD),{data:{attemptId:e,...t},query:{attemptId:e}}),invalidateQuestionAttemptGradeViewsByCourseId:e=>(0,n.RA)(async(t,r)=>{var s,o;await t(R.o1.loadGradebookSettings(e)),(null==(o=null==(s=r().gradebookSettings.byCourseId[e])?void 0:s.value)?void 0:o.hideUnavailableStudents)&&t((0,n.rc)((0,n.ok)(a.g.GRADED_QUESTION_ATTEMPTS_INVALIDATE_BY_COURSE_ID),{courseId:e}))})},j={getQuestionAttemptGradesByAttemptId:e=>t=>O(t,e),getQuestionAttemptGradeById:e=>t=>T(t,e),getQuestionAttemptGradeByIds:e=>t=>b(t,e),getQuestionAttemptGradesByQuestionIdQuery:(...e)=>t=>v(t,e),getQuestionAttemptGradeViewStateByQuery:(e,t)=>A(e.questionAttemptGrade,t).view}},97082:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={GRADEBOOK_GROUP_BULKVIEW_LOAD:"gradebook-group-grade-bulk-view.load",GRADEBOOK_GROUP_GRADE_POST_GRADE_BY_GROUP_ASSOCIATION_ID:"gradebook-group-grade.post.grade.by.group.association.id",GRADEBOOK_GROUP_GRADE_DETAIL_LOAD:"gradebook-group-grade-detail.load",GRADEBOOK_GROUP_GRADES_INVALIDATE_BY_COLUMN_ID:"gradebook-group-grades.invalidate.byColumnId",GRADEBOOK_GROUP_GRADE_UPDATE_MEMBERS_GRADE_ID:"gradebook-group-grade.update.members.grade.id",GRADEBOOK_GROUP_GRADES_INVALIDATE_BY_COLUMN_ID_AND_GROUP_ASSOCIATION_ID:"gradebook-group-grades.invalidate.byColumnId.and.groupAssociationId"}},97123:(e,t,r)=>{"use strict";r.d(t,{PL:()=>u,yE:()=>a,yt:()=>d});var s=r(251079),n=r(514041);function o(e){return Object.keys(e).map(e=>parseInt(e,10)).sort()}function i(e){return Object.entries(e).map(([e,t])=>[parseInt(e,10),t]).sort(([e],[t])=>e-t)}let a=n.createContext({activate:()=>({}),activateRelativeCell:()=>({}),activateRelativeRow:()=>({}),capture:()=>void 0,cells:{},getCell:()=>({active:!1,captured:!1,index:0}),getRow:()=>({active:!1,captured:!1,index:0,selected:void 0}),grid:{captured:!1},rows:{},select:()=>void 0,selected:{}});function l(e,t,r,s){var n,i,a;if(t)return t;let l=null!=r?r:null==s?void 0:s[0],u=null==s?void 0:s[1],d=o(e),c=void 0!==l?d.indexOf(l):-1,E=-1!==c?d[c]:null!=(n=d[0])?n:-1,p=o(null!=(i=e[E])?i:{}),m=void 0!==u?p.indexOf(u):-1;return{row:E,cell:-1!==m?p[m]:null!=(a=p[0])?a:-1}}let u=({children:e})=>{let[t,r]=(0,n.useState)(),[u,d]=(0,n.useState)(),[c,E]=(0,n.useState)(()=>({captured:!1})),[p,m]=(0,n.useState)({}),[g,y]=(0,n.useState)({}),I=(0,n.useRef)(),A=(0,n.useRef)(),h=(0,n.useCallback)((e,{defaultActive:t=!1}={})=>{if(e in p)return p[e];let r={active:!1,captured:!1,index:e,selected:!1};return t&&void 0===I.current&&(I.current=e),m(t=>({...t,[e]:r})),r},[p]),_=(0,n.useCallback)((e,t,{defaultActive:r=!1}={})=>{if(e in g&&t in g[e])return g[e][t];let s={active:!1,captured:!1,index:t};return r&&void 0===A.current&&(A.current=[e,t]),y(r=>({...r,[e]:{...r[e],[t]:s}})),s},[g]),b=(0,s._q)(e=>{E(t=>t.captured!==e?{...t,captured:e}:t)}),S=(0,s._q)((e,t)=>{d((r={})=>r[e]!==t?{...r,[e]:t}:r)}),T=(0,s._q)((e,s,n=!1)=>{var o;let i=t?{row:h(t.row),cell:_(t.row,t.cell)}:void 0;if(!(null==(o=g[e])?void 0:o[s]))return{prev:i,next:i};let a={row:h(e),cell:_(e,s)};return i&&a.row===i.row&&a.cell===i.cell?{prev:i,next:i}:(b(n),r({row:e,cell:s}),{prev:i,next:a})}),O=(0,s._q)((e,r)=>{let s=l(g,t,I.current,A.current),n=o(g[s.row]),i=n.indexOf(s.cell),a=Math.max(0,Math.min(n.length-1,i+e));return T(s.row,n[a],r)}),v=(0,s._q)((e,r)=>{var s;let n=l(g,t,I.current,A.current),i=o(g),a=i.indexOf(n.row),u=Math.max(0,Math.min(i.length,a+e)),d=i[u],c=o(null!=(s=g[d])?s:{}).reverse(),E=c.findIndex(e=>e<=n.cell),p=-1===E?c.length-1:E;return T(d,c[p],r)});(0,n.useEffect)(()=>{var e;let{row:r=-1,cell:s=-1}=null!=t?t:{},n=p[r],o=null==(e=g[r])?void 0:e[s];E(e=>{var t,r;return(null==(t=e.active)?void 0:t.row)!==n||(null==(r=e.active)?void 0:r.cell)!==o?{...e,active:n&&o?{cell:o,row:n}:void 0}:e})},[t,g,p]),(0,n.useEffect)(()=>{let{row:e,cell:r}=l(g,t,I.current,A.current),s=(t,r)=>e>-1?t===e:0===r;m(e=>{let t=!1,r=i(e).reduce((e,[r,n],o)=>{let i=s(r,o),a=i&&c.captured,l=void 0===u?void 0:!0===u[r],d=n.active!==i||n.captured!==a||n.selected!==l;return t=t||d,{...e,[r]:d?{...n,active:i,captured:a,selected:l}:n}},{});return t?r:e}),y(e=>{let t=!1,n=i(e).reduce((e,[n,o],a)=>{let l=!1,u=s(n,a),d=i(o).reduce((e,[s,n],o)=>{let i=u&&(r>-1?s===r:0===o),a=i&&c.captured,d=n.active!==i||n.captured!==a;return l=l||d,t=t||d,{...e,[s]:d?{...n,active:i,captured:a}:n}},{});return{...e,[n]:l?d:o}},{});return t?n:e})},[t,g,c.captured,u]);let f=(0,n.useMemo)(()=>({activate:T,activateRelativeCell:O,activateRelativeRow:v,active:t,capture:b,cells:g,getCell:_,getRow:h,grid:c,rows:p,select:S,selected:u}),[T,O,v,t,b,c,g,p,_,h,S,u]);return n.createElement(a.Provider,{value:f},e)};function d(){let{activate:e,activateRelativeCell:t,activateRelativeRow:r,capture:s,grid:o}=(0,n.useContext)(a);return(0,n.useMemo)(()=>({activate:e,activateRelativeCell:t,activateRelativeRow:r,grid:o,uncapture:()=>s(!1)}),[e,t,r,s,o])}},99625:(e,t,r)=>{"use strict";r.d(t,{H$:()=>h,$Q:()=>O,xe:()=>_,yw:()=>b,aR:()=>v,GQ:()=>T});var s=r(115183),n=r(247803),o=r(737234),i=r(580445),a=r(949304),l=r(175630),u=r(565473),d=r(533021),c=r(409216),E=r(978514),p=r(36594),m=r(347658),g=r(587497),y=r(479889),I=r(697064);let A={DaysInOneWeek:7};function h(e,t){return 0===(0,n.A)((0,o.A)(e),(0,o.A)(t))}function _(e,t,r,n){let E,p=[],m=null;switch(!n&&(n=[s.ob.Monday,s.ob.Tuesday,s.ob.Wednesday,s.ob.Thursday,s.ob.Friday]),t){case s.ci.Day:E=(0,o.A)(e),m=(0,i.A)(E,1);break;case s.ci.Week:case s.ci.WorkWeek:E=(0,a.A)((0,o.A)(e),{weekStartsOn:r}),m=(0,i.A)(E,A.DaysInOneWeek);break;case s.ci.Month:E=(0,l.A)(e),m=(0,u.A)(E,1);break;case s.ci.Year:E=(0,d.A)(e),m=(0,c.A)(E,1);break;default:throw Error("Unexpected object: "+t)}let g=E;do t!==s.ci.WorkWeek?p.push(g):n.includes(g.getDay())&&p.push(g),g=(0,i.A)(g,1);while(!h(g,m))return p}function b(e,t){for(let r of t)if(h(e,r))return!0;return!1}function S(e){switch(e){case s.ci.Day:return E.A;case s.ci.Week:return p.A;case s.ci.Month:return m.A;case s.ci.Year:return g.A;default:return E.A}}function T(e){return e!==s.Pv.None&&(e===s.Pv.DateIsBefore||e===s.Pv.DateIsAfter||e===s.Pv.OutOfBounds||e===s.Pv.SameDate)}function O(e,t){if(!e||"string"==typeof e)return s.Pv.Invalid;if(!t)return s.Pv.None;let{singleRestriction:r,rangeRestriction:n}=t,i=(0,o.A)(e);if(r){let{maxPastBound:e,allowFutureDates:t,rangeType:n}=r;if(!t&&i.getTime()>Date.now())return s.Pv.FutureDate;let o=S(n)(new Date,i);if("number"==typeof e&&o>e)return s.Pv.MaxPastBound}if(n){let{referenceDate:e,isRangeBefore:t,rangeLimit:r,rangeType:a,allowSameDate:l}=n,u=(0,o.A)(e);if(!l&&h(i,u))return s.Pv.SameDate;let d=S(a)(i,u);if(void 0===t&&(d<-r||d>r))return s.Pv.OutOfBounds;if(t){if(i>u)return s.Pv.DateIsAfter;if(d<-r)return s.Pv.OutOfBounds}else{if(i<u)return s.Pv.DateIsBefore;if(d>r)return s.Pv.OutOfBounds}}return s.Pv.None}function v(e,t,r,n){if(!e)return!0;let o=r===s.ci.Month?u.A:c.A;return O((r===s.ci.Month?n?l.A:y.A:n?d.A:I.A)(o(t,n?1:-1)),{singleRestriction:e.singleRestriction})===s.Pv.None}},102806:(e,t,r)=>{"use strict";r.d(t,{an:()=>o,vc:()=>i});var s=r(397965);let n="/v1/themes";async function o(e){return(0,s.bE)(n,{...e})}async function i(e){return(0,s.TF)(`${n}/${e}`)}},103517:(e,t,r)=>{"use strict";r(295124)},106535:(e,t,r)=>{"use strict";function s(e){let t={},r=e.split("#");if(r.length%2!=0)throw Error("Number of keys does not match number of values in id string.");for(let e=0;e<r.length;e+=2){let s=r[e],n=r[e+1];t[s]=n}return t}function n(e){let t=Object.keys(e);if(0===t.length)throw Error("Object must have at least one property.");return t.map(t=>`${t}#${e[t]}`).join("#")}r.d(t,{j:()=>n,s:()=>s})},109134:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var s,n=r(573147),o=r(645250),i=r(139342),a=r(514041),l=r(843144);class u{constructor(e){this.overlay=e.overlay,this.elem=e.elem,this.quillRoot=e.quill.root,this.blotRoot=e.blotRoot,this.localeProps=e.localeProps,this.editorFormat=e.editorFormat,this.isSmallBreakpoint=e.isSmallBreakpoint,this.requestUpdate=e.onUpdate,this.startChange=e.onStartChange,this.stopChange=e.onStopChange,this.applyChange=e.applyChange}onCreate(){}onDestroy(){}onUpdate(){}}var d=r(877973),c=r(295853),E=r(247233),p=r(865004),m=r(430168);function g(e){return{filetype:e.formatType?e.formatType:"media",fileDisplayName:e.alternativeText?e.alternativeText:""}}let y=({onClick:e,buttonAccessibleProps:t})=>{let r=(0,p.W)(),s=g(t);return a.createElement(c.v,{analyticsId:"media-content.delete",title:r("bbmlEditor.buttons.deleteMedia.label"),"aria-label":r("bbmlEditor.buttons.deleteMedia.axAriaText",s),onClick:e,value:""},a.createElement(E.l,null))};var I=r(417400);let A=({videoURL:e,buttonAccessibleProps:t})=>{let r=(0,p.W)(),s=g(t);return a.createElement(c.v,{analyticsId:"media-content.preview.button",title:r("bbmlEditor.buttons.PreviewMedia.label"),"aria-label":r("bbmlEditor.buttons.PreviewMedia.axAriaText",s),onClick:()=>{window.open(e,"_blank","noopener,noreferrer")},value:""},a.createElement(I.u,null))};var h=r(899473),_=r(384224),b=r(734506);!function(e){e.TopLeft="tl",e.TopRight="tr",e.BottomRight="br",e.BottomLeft="bl"}(s||(s={}));let S=Number.MAX_SAFE_INTEGER;var T=r(171994);let O={ResizeExtension:class extends u{constructor(e){super(e),this.currentDragHandle=null,this.tl=null,this.tr=null,this.br=null,this.bl=null,this.originalSize=null,this.aspectRatio=1,this.minWidth=200,this.maxWidth=1e3,this.minHeight=200,this.maxHeight=S,this.dragStart=null,this.size={width:0,height:0},this.keyboardDelta=0,this.hasValidResize=!1,this.isResizeInProgress=!1,this.lastRequestAnimationFrameId=0,this.lastCursor="",this.handleMouseDown=e=>{if(!this.elem)return;let t=e.target;if(!(t instanceof HTMLDivElement))return;let r=t.getAttribute("data-corner");(function(e){let t=[s.TopLeft,s.TopRight,s.BottomRight,s.BottomLeft];return null!==e&&t.includes(e)})(r)&&(this.currentDragHandle={corner:r,element:t},this.dragStart={x:e.clientX,y:e.clientY},document.addEventListener("mousemove",this.handleMouseMove,!1),document.addEventListener("mouseup",this.handleMouseUp,!1),this.hasValidResize=!1,this.setCursor(r),this.setUserSelect(!0),this.startChange(),e.preventDefault(),e.stopPropagation())},this.handleMouseMove=e=>{var t;let r;if(!this.dragStart)return;let n=e.clientX-this.dragStart.x;switch(null==(t=this.currentDragHandle)?void 0:t.corner){case s.TopLeft:case s.BottomLeft:r=-n;break;case s.TopRight:case s.BottomRight:r=n;break;default:r=0}this.resize(r),e.preventDefault(),e.stopPropagation()},this.handleMouseUp=e=>{this.hasValidResize&&this.applyChange(this.size),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.clearCursor(),this.setUserSelect(!1),this.stopChange(),e.preventDefault(),e.stopPropagation()},this.handleKeyDown=e=>{if(!e.shiftKey||!this.isValidResizeKeyEvent(e))return;let t=10;e.altKey&&(t=1),this.currentDragHandle=this.currentDragHandle={corner:s.BottomRight,element:this.br},this.isResizeInProgress||(this.hasValidResize=!1,this.setUserSelect(!0),this.startChange(),this.isResizeInProgress=!0),e.key===_.U.ArrowLeft||e.key===_.U.ArrowUp?this.keyboardDelta=this.clampDelta(this.keyboardDelta-t):(e.key===_.U.ArrowRight||e.key===_.U.ArrowDown)&&(this.keyboardDelta=this.clampDelta(this.keyboardDelta+t)),this.resize(this.keyboardDelta),e.stopPropagation(),e.preventDefault()},this.handleKeyUp=e=>{(!this.isResizeInProgress||!e.shiftKey)&&(this.isResizeInProgress||this.isValidResizeKeyEvent(e))&&(this.hasValidResize&&this.applyChange(this.size),this.setUserSelect(!1),this.isResizeInProgress=!1,this.stopChange(),e.stopPropagation(),e.preventDefault())},this.container=document.createElement("div"),this.container.classList.add("resize-container")}clampDelta(e){if(!this.originalSize)return(0,o.clamp)(e,this.minWidth,this.maxWidth);let t=this.originalSize.width+e;return(0,o.clamp)(t,this.minWidth,this.maxWidth)-this.originalSize.width}resize(e){if(!this.originalSize)return;let t=this.originalSize.width+e,r=(0,o.clamp)(t,this.minWidth,this.maxWidth),n=r/this.aspectRatio,i={};this.size.width=r,this.size.height=n,this.hasValidResize=!0,cancelAnimationFrame(this.lastRequestAnimationFrameId),this.lastRequestAnimationFrameId=requestAnimationFrame(()=>{var r;let n,o;if(this.originalSize){switch(this.minWidth<=t&&t<=this.maxWidth?(o=`${-e/this.aspectRatio}px`,n=`${-e}px`):t>this.maxWidth?(o=`${(this.originalSize.width-this.maxWidth)/this.aspectRatio}px`,n=`${this.originalSize.width-this.maxWidth}px`):(o=`${(this.originalSize.width-this.minWidth)/this.aspectRatio}px`,n=`${this.originalSize.width-this.minWidth}px`),null==(r=this.currentDragHandle)?void 0:r.corner){case s.TopLeft:i.top=o,i.left=n;break;case s.TopRight:i.top=o,i.right=n;break;case s.BottomLeft:i.bottom=o,i.left=n;break;case s.BottomRight:i.bottom=o,i.right=n;break;default:throw TypeError("Could not detect a valid corner type")}Object.assign(this.container.style,i)}}),this.requestUpdate()}isValidResizeKeyEvent(e){return e.key===_.U.ArrowLeft||e.key===_.U.ArrowUp||e.key===_.U.ArrowRight||e.key===_.U.ArrowDown}addDragHandle(e){var t;let r=`resize-drag-handle--${e}`,s=document.createElement("div");return s.classList.add("resize-drag-handle",r),s.setAttribute("data-corner",e),s.addEventListener("mousedown",this.handleMouseDown),null==(t=this.container)||t.appendChild(s),s}setUserSelect(e){e?(this.quillRoot.classList.add("no-select"),document.documentElement.classList.add("no-select")):(this.quillRoot.classList.remove("no-select"),document.documentElement.classList.remove("no-select"))}setCursor(e){let t=`resize-cursor-${e}`;this.lastCursor.length>0?(document.body.classList.replace(this.lastCursor,t),this.elem.classList.replace(this.lastCursor,t)):(document.body.classList.add(t),this.elem.classList.add(t)),this.lastCursor=t}clearCursor(){this.lastCursor.length>0&&(document.body.classList.remove(this.lastCursor),this.elem.classList.remove(this.lastCursor)),this.lastCursor=""}onCreate(){let{elemWidth:e,elemHeight:t}=function(e){let t=e.getBoundingClientRect(),r=t.width,s=t.height;return e instanceof HTMLImageElement?(r||(r=e.naturalWidth),s||(s=e.naturalHeight)):e instanceof HTMLVideoElement&&(r||(r=e.videoWidth),s||(s=e.videoHeight)),{elemWidth:r,elemHeight:s}}(this.elem);this.originalSize={width:e,height:t},this.aspectRatio=e/t;let r=this.quillRoot.getBoundingClientRect();this.minWidth=Math.max(200,.25*r.width),this.maxWidth=r.width,this.minHeight=200,this.maxHeight=S,this.aspectRatio<1?this.minHeight=Math.max(this.minHeight,this.minWidth/this.aspectRatio):this.aspectRatio>1&&(this.minWidth=Math.max(this.minWidth,this.aspectRatio*this.minHeight)),this.isSmallBreakpoint||(0,b.b)(this.blotRoot.parentElement)||(this.tl=this.addDragHandle(s.TopLeft),this.tr=this.addDragHandle(s.TopRight),this.br=this.addDragHandle(s.BottomRight),this.bl=this.addDragHandle(s.BottomLeft),this.blotRoot.addEventListener("keydown",this.handleKeyDown),this.blotRoot.addEventListener("keyup",this.handleKeyUp)),this.overlay.appendChild(this.container)}onDestroy(){this.hasValidResize=!1,this.originalSize=null,this.aspectRatio=1,this.blotRoot.removeEventListener("keydown",this.handleKeyDown),this.blotRoot.removeEventListener("keyup",this.handleKeyUp),this.clearCursor()}},OptionsExtension:class extends u{constructor(){super(...arguments),this.container=document.createElement("div"),this.shouldShowPreviewButton=(this.elem instanceof HTMLIFrameElement||this.elem instanceof HTMLVideoElement)&&this.elem.src,this.buttonAccessibleProps=function(e){let t,r;return(0,m.Fv)(e)?{alternativeText:JSON.parse(e.video.bbfile).alt,formatType:e.video.bbtype}:(0,m.vP)(e)?{alternativeText:JSON.parse(e.image.bbfile).alt,formatType:e.image.bbtype}:(0,m.v6)(e)?{alternativeText:JSON.parse(e.attachment.bbfile).displayName,formatType:e.attachment.bbtype}:{alternativeText:t,formatType:r}}(this.editorFormat),this.handleOnDelete=()=>{this.applyChange(null)}}onCreate(){this.container.classList.add("options-container"),this.overlay.appendChild(this.container),l.render(a.createElement(i.NPJ,{isRtl:this.localeProps.isRtl},a.createElement(h.h,{...this.localeProps},this.shouldShowPreviewButton&&a.createElement(d.az,null,a.createElement(A,{videoURL:this.elem.src,buttonAccessibleProps:this.buttonAccessibleProps})),a.createElement(d.az,null,a.createElement(y,{onClick:this.handleOnDelete,buttonAccessibleProps:this.buttonAccessibleProps})))),this.container)}onDestroy(){l.unmountComponentAtNode(this.container)}}};class v extends n.A{constructor(e,t={}){var r;super(e,t),this.initializeExtensions=()=>{this.removeExtensions(),this.extensions=this.extensionClasses.map(e=>new(O[e]||e)(this)),this.extensions.forEach(e=>{e.onCreate()}),this.onUpdate()},this.removeExtensions=()=>{this.extensions.forEach(e=>{e.onDestroy()}),this.extensions=[]},this.show=e=>{this.elem=e;let t=function(e,t){if(!e.contains(t))return null;let r=t,s=t.parentElement;for(;s!==e&&!(0,b.b)(s);)s=(null==(r=s)?void 0:r.parentElement)||null;return r}(this.quill.root,this.elem);this.blotRoot=null!=t?t:this.elem,this.showOverlay(),this.initializeExtensions()},this.showOverlay=()=>{this.overlay&&this.hideOverlay(),this.overlay=document.createElement("div"),this.overlay.classList.add("media-overlay"),this.overlay.addEventListener("mousedown",T.jo),this.blotRoot.classList.add("with-overlay"),this.blotRoot.appendChild(this.overlay),this.repositionElements()},this.hide=()=>{this.removeExtensions(),this.hideOverlay(),this.elem=void 0,this.blotRoot=void 0},this.hideOverlay=()=>{this.blotRoot&&this.blotRoot.classList.remove("with-overlay"),this.overlay&&(this.overlay.remove(),this.overlay=void 0)},this.repositionElements=()=>{if(!this.overlay||!this.elem)return;let e=this.elem.getBoundingClientRect();Object.assign(this.overlay.style,{top:"0px",width:`${e.width+2}px`,height:`${e.height+2}px`})},this.quill=e;let s=!1;t.extensions&&(s=t.extensions.slice()),this.options=(0,o.defaultsDeep)({},t),!1!==s&&(this.options.extensions=s),this.onInit=this.onInit.bind(this),this.onReadOnlyChange=this.onReadOnlyChange.bind(this),this.onBreakpointChange=this.onBreakpointChange.bind(this),this.onFormatChange=this.onFormatChange.bind(this),this.applyChange=this.applyChange.bind(this),this.onStartChange=this.onStartChange.bind(this),this.onStopChange=this.onStopChange.bind(this),this.onUpdate=this.onUpdate.bind(this),this.extensionClasses=null!=(r=this.options.extensions)?r:[],this.extensions=[]}onInit(e,t){this.localeProps=e,this.applyEditorChange=t}onReadOnlyChange(e){e&&this.hide()}onBreakpointChange(e){this.isSmallBreakpoint=e,e&&this.removeExtensions()}onFormatChange(e){if(!e){this.hide(),this.editorFormat=null;return}if((0,o.isEqual)(this.editorFormat,e))return void this.repositionElements();this.hide(),this.editorFormat=this.filterFormat(e),this.editorFormat&&(this.elem=this.getMediaElement(this.editorFormat.domNode)),this.elem?this.show(this.elem):this.editorFormat=null}onStartChange(){this.blotRoot.classList.add("with-change")}onStopChange(){this.blotRoot.classList.remove("with-change")}onUpdate(){this.repositionElements(),this.extensions.forEach(e=>{e.onUpdate()})}filterFormat(e){return null}getMediaElement(e){return null}createChange(e){return{}}applyChange(e){if(null===e)this.applyEditorChange({insert:!0});else{let t=this.quill.root.getBoundingClientRect(),r=this.elem.getBoundingClientRect().height-e.height,s=`${t.height-r}px`;Object.assign(this.quill.root.style,{minHeight:s}),this.applyEditorChange(this.createChange({...e})),Object.assign(this.quill.root.style,{minHeight:""})}}}v.DEFAULTS={extensions:Object.keys(O)};let f=v},110627:(e,t,r)=>{"use strict";var s;!function(e){e.Enabled="0",e.SoftDelete="1",e.Disabled="2",e.DeletePending="3",e.CopyPending="4"}(s||(s={}))},110941:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var s=r(56684);class n extends s.mj{constructor(e){super("/v1/courses/%courseId%/gradebook/columns/gradebookColumnCounts",e)}}},111730:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});let s=e=>{let t={};return e&&Object.keys(e).forEach(r=>{"object"==typeof e[r]?"domNode"!==r&&(t[r]=s(e[r])):t[r]=e[r]}),t},n=(e,t)=>JSON.stringify(s(e))===JSON.stringify(s(t))},115183:(e,t,r)=>{"use strict";var s,n,o,i,a;r.d(t,{Pv:()=>a,ci:()=>i,ob:()=>s}),function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(s||(s={})),function(e){e[e.January=0]="January",e[e.February=1]="February",e[e.March=2]="March",e[e.April=3]="April",e[e.May=4]="May",e[e.June=5]="June",e[e.July=6]="July",e[e.August=7]="August",e[e.September=8]="September",e[e.October=9]="October",e[e.November=10]="November",e[e.December=11]="December"}(n||(n={})),function(e){e[e.FirstDay=0]="FirstDay",e[e.FirstFullWeek=1]="FirstFullWeek",e[e.FirstFourDayWeek=2]="FirstFourDayWeek"}(o||(o={})),function(e){e.Day="day",e.Week="week",e.Month="month",e.WorkWeek="workWeek",e.Year="year"}(i||(i={})),function(e){e.OutOfBounds="OutOfBounds",e.DateIsBefore="DateIsBefore",e.DateIsAfter="DateIsAfter",e.MaxPastBound="MaxPastBound",e.FutureDate="FutureDate",e.SameDate="SameDate",e.Invalid="Invalid",e.Empty="Empty",e.None="None"}(a||(a={}))},115765:(e,t,r)=>{"use strict";r.d(t,{u:()=>n});var s=r(115183);function n(e,t,r,n,o,i,a){var l,u,d,c,E,p,m,g,y,I,A,h,_;if(o===s.Pv.Invalid)return null!=n?n:i("cr.components.calendar.validate.invalid",{labelName:null!=e?e:t,format:i("components.directives.datepicker.dateFormatPlaceholder")});if(o===s.Pv.Empty)return null!=r?r:i("cr.components.calendar.validate.empty",{labelName:null!=e?e:t});if(a){if(a.rangeRestriction){if(o===s.Pv.OutOfBounds)return null!=(u=null==(l=a.errorStrings)?void 0:l.outOfBounds)?u:i("cr.components.calendar.validate.outOfBounds",{rangeLimit:i(`global.timeSpan.${a.rangeRestriction.rangeType}.plural`,{months:a.rangeRestriction.rangeLimit,years:a.rangeRestriction.rangeLimit,days:a.rangeRestriction.rangeLimit})});if(o===s.Pv.DateIsBefore)return null!=(c=null==(d=a.errorStrings)?void 0:d.dateIsBefore)?c:i("cr.components.calendar.validate.dateIsBefore",{firstLabel:null!=e?e:t,secondLabel:a.rangeRestriction.referenceDateLabel});if(o===s.Pv.DateIsAfter)return null!=(p=null==(E=a.errorStrings)?void 0:E.dateIsAfter)?p:i("cr.components.calendar.validate.dateIsAfter",{firstLabel:null!=e?e:t,secondLabel:a.rangeRestriction.referenceDateLabel});if(o===s.Pv.SameDate)return null!=(g=null==(m=a.errorStrings)?void 0:m.sameDate)?g:i("cr.components.calendar.validate.sameDate",{firstLabel:null!=e?e:t,secondLabel:a.rangeRestriction.referenceDateLabel})}if(a.singleRestriction){if(o===s.Pv.MaxPastBound)return null!=(I=null==(y=a.errorStrings)?void 0:y.maxPastBound)?I:i("cr.components.calendar.validate.maxPastBound",{limit:i(`global.timeSpan.${null!=(A=a.singleRestriction.rangeType)?A:s.ci.Day}.plural`,{months:a.singleRestriction.maxPastBound,years:a.singleRestriction.maxPastBound,days:a.singleRestriction.maxPastBound})});if(o===s.Pv.FutureDate)return null!=(_=null==(h=a.errorStrings)?void 0:h.futureDate)?_:i("cr.components.calendar.validate.futureDate",{labelName:e})}}return""}},118273:(e,t,r)=>{"use strict";r.d(t,{o1:()=>m,Ff:()=>p,Lt:()=>g});let s={GRADEBOOK_COLUMN_NON_VISIBLE_COUNT_LOAD:"gradebook-column.non-visible-count.load"};var n=r(764209),o=r(968554),i=r(612918),a=r(905898),l=r(750609),u=r(895703);let d=(e,t)=>{let r=t.getState().gradebookColumnCount.byCourseId[e.courseId];return(0,i.qO)(null==r?void 0:r.status)},c=e=>["byCourseId",e.courseId],E=(e,t)=>(0,a.Ay)(e,e=>{let r=e.byCourseId[t];r&&(r.status=i.E1)}),p=(0,o.vy)({byCourseId:{}},{[s.GRADEBOOK_COLUMN_NON_VISIBLE_COUNT_LOAD]:(0,i.vR)(c,i.vq),[(0,o.ok)(s.GRADEBOOK_COLUMN_NON_VISIBLE_COUNT_LOAD)]:(e,t)=>{let{courseId:r,courseGradebookColumnCount:s}=t;return(0,a.Ay)(e,e=>{((e,t,r)=>{let s=e.byCourseId[t];(null==s?void 0:s.value)?(Object.assign(s.value,r),s.status=i.y_):e.byCourseId[t]={value:r,status:i.y_}})(e,r,s)})},[(0,o.fJ)(s.GRADEBOOK_COLUMN_NON_VISIBLE_COUNT_LOAD)]:(0,i.vR)(c,i.JL),[(0,o.ok)(n.g.CONTENT_DELETE_IN_STORE)]:(e,t)=>{let{courseId:r}=t;return r?E(e,r):e},[(0,o.ok)(u.g.GRADEBOOK_COLUMN_DELETE)]:(e,t)=>{let{gradebookColumn:r}=t;return r.courseId?E(e,r.courseId):e},[(0,o.ok)(n.g.CONTENT_DELETE)]:(e,t)=>{let{courseId:r}=t;return r?E(e,r):e},[(0,o.ok)(u.g.GRADEBOOK_COLUMN_PERSIST)]:(e,t)=>{let{gradebookColumn:r}=t;return(null==r?void 0:r.courseId)?E(e,r.courseId):e},[(0,o.ok)(u.g.GRADEBOOK_COLUMNS_UPDATE)]:(e,t)=>{let{courseId:r}=t;return r?E(e,r):e}}),m={loadGradebookColumnNonVisibleCount:e=>(0,o.Vy)(s.GRADEBOOK_COLUMN_NON_VISIBLE_COUNT_LOAD,async()=>({courseGradebookColumnCount:await (0,l.Xh9)(e),courseId:e}),{data:{courseId:e},condition:d})},g={getGradebookColumnNonVisibleCount:(e,t)=>{var r,s,n;return null==(n=null==(s=null==(r=e.gradebookColumnCount)?void 0:r.byCourseId)?void 0:s[t])?void 0:n.value},isInvalidateNonVisibleCount:(e,t)=>{var r,s,n;return(null==(n=null==(s=null==(r=e.gradebookColumnCount)?void 0:r.byCourseId)?void 0:s[t])?void 0:n.status)===i.E1},isLoadingGradebookColumnNonVisibleCount:(e,t)=>{var r;return(null==(r=e.gradebookColumnCount.byCourseId[t])?void 0:r.status)===i.vq}}},119481:(e,t,r)=>{"use strict";r.d(t,{o:()=>i});var s=r(968554),n=r(846576);let o={SUBMIT_DIRECT_SUBMIT_ADD_SUBMISSION:"direct.submit.add.submission"},i={postDirectSubmitAddSubmission:(e,t)=>(0,s.VP)(o.SUBMIT_DIRECT_SUBMIT_ADD_SUBMISSION,async()=>(await (0,n.rt)(e,t)).ok,{})}},120619:(e,t,r)=>{"use strict";r.d(t,{$L:()=>a,KM:()=>d,QO:()=>n,Xy:()=>u,fN:()=>i,m5:()=>l,qp:()=>o});var s=r(56684);class n extends s.pT{constructor(e){super("/v1/courses/%courseId%/gradebook/attempts/%attemptId%/assessment/answers",e)}}class o extends s.pT{constructor(e){super("/v1/courses/%courseId%/gradebook/attempts/assessments/%assessmentId%/questions/%questionId%/answers",e)}}class i extends s.pT{constructor(e){super("/v1/courses/%courseId%/gradebook/attempts/%attemptId%/assessment/answers/grades",e)}}class a extends s.mj{constructor(e){super("/v1/courses/%courseId%/gradebook/attempts/%attemptId%/assessment/answers/%questionAttemptId%",e)}}class l extends s.QR{constructor(e){super("/v1/courses/%courseId%/gradebook/attempts/%attemptId%/assessment/answers/%questionAttemptId%",e)}}class u extends s.QR{constructor(e){super("/v1/courses/%courseId%/gradebook/attempts/%attemptId%/assessment/answers/%questionAttemptId%/grades",e)}}class d extends s.mj{constructor(e){super("/v1/courses/%courseId%/gradebook/attempts/%attemptId%/assessment/answers/%questionAttemptId%/grades",e)}}},122362:(e,t,r)=>{var s={"./ar.js":[811188,11188],"./az.js":[882060,82060],"./cs.js":[44149,44149],"./cy.js":[240187,40187],"./da.js":[531808,31808],"./de.js":[316556,16556],"./en.js":[167460,67460],"./es.js":[491127,91127],"./fr.js":[225211,25211],"./he.js":[80784,80784],"./it.js":[548250,48250],"./ja.js":[401498,1498],"./ko.js":[224937,24937],"./ms.js":[414847,14847],"./nb.js":[769235,69235],"./nl.js":[100993,993],"./nn.js":[840159,40159],"./pl.js":[562439,62439],"./pt.js":[440447,40447],"./ru.js":[821950,21950],"./sv.js":[727386,27386],"./tb.js":[344201,44201],"./tr.js":[823833,23833],"./uk.js":[127327,27327],"./zh.js":[231457,53838]};function n(e){if(!r.o(s,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=s[e],n=t[0];return r.e(t[1]).then(()=>r.t(n,23))}n.keys=()=>Object.keys(s),n.id=122362,e.exports=n},127242:(e,t,r)=>{"use strict";r.d(t,{H:()=>s});let s={GRADEBOOK_ITEM_SCORM_SUBMISSIONS:"gradebook-item.scorm-submissions",SCORM_EDIT:"scorm-settings",SCORM_ANALYTICS_REPORT:"scorm-analytics-report",SCORM_LAUNCH_FRAME:"scorm-launch-frame",SCORM_OVERVIEW:"scorm-overview",SCORM_OVERVIEW_STUDENT:"scorm-overview.student"}},128059:(e,t,r)=>{"use strict";r.d(t,{Q:()=>l});var s=r(951777),n=r(877973),o=r(865004),i=r(514041);let a=(0,n.n9)(e=>({moreInfo:{color:e.palette.text.secondary,overflow:"hidden",boxOrient:"vertical",display:"-webkit-box",lineClamp:1}})),l=e=>{let{authorLinkText:t,authorName:r,authorUrl:n,analyticsId:l,tabIndex:u,onBlur:d,onKeyDown:c,onFocus:E}=e,p=a(),m=(0,o.W)();return i.createElement(s.qT,{analyticsId:`${l}.author.tooltip`,title:r},i.createElement(s.T,{onBlur:d,onKeyDown:c,onFocus:E,tabIndex:u,className:p.moreInfo,analyticsId:`${l}.image.author.link`,href:n,target:"_blank"},null!=t?t:m("cr.components.accessibility.skipLink.imageBy",{userName:r})))}},135360:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>l,Lt:()=>d,o1:()=>u});var s=r(905898),n=r(645250),o=r(44564),i=r(968554),a=r(758247);let l=(0,i.vy)({location:{},route:{},error:null},{[(0,i.ok)(a.A.ROUTER_STATE_CHANGE_SUCCESS)]:(e,t)=>(0,s.Ay)(e,e=>{e.route=t.route}),[(0,i.ok)(a.A.ROUTER_LOCATION_CHANGE_SUCCESS)]:(e,t)=>{let{queryParams:r}=t;return(0,s.Ay)(e,e=>{e.location.queryParams=r})},[(0,i.ok)(a.A.APP_ERROR)]:(e,t)=>{let{error:r}=t,n=(0,o.xt)(r);return console.error("Encountered application error",JSON.stringify(n)),(0,s.Ay)(e,e=>{e.error=n})},[(0,i.ok)(a.A.APP_ERROR_CLEAR)]:e=>(0,s.Ay)(e,e=>{e.error=null})}),u={handleStateChangeSuccess:e=>(0,i.VP)(a.A.ROUTER_STATE_CHANGE_SUCCESS,()=>{var t;let r=e||{},s=n.pick(r.toState,"name","panelClass","pageTitle"),o=Object.keys(null!=(t=r.toParams)?t:{}).filter(e=>"object"!=typeof r.toParams[e]&&"function"!=typeof r.toParams[e]).reduce((e,t)=>({...e,[t]:r.toParams[t]}),{});return Promise.resolve({route:{...s,params:o}})}),handleLocationChangeSuccess:e=>(0,i.VP)(a.A.ROUTER_LOCATION_CHANGE_SUCCESS,()=>Promise.resolve({queryParams:e.queryParams||{}})),setError:e=>(0,i.RA)(t=>{t((0,i.rc)((0,i.ok)(a.A.APP_ERROR),{error:e}))}),clearError:()=>(0,i.RA)(e=>{e((0,i.rc)((0,i.ok)(a.A.APP_ERROR_CLEAR)))})},d={getRoute:e=>e.app.route,getLocation:e=>e.app.location,getQueryParams:e=>e.app.location.queryParams,getQueryParameterValue:e=>t=>t.app.location.queryParams[e],getAppError:e=>e.app.error}},142873:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(491139),n=r(86507);s.JM.createChange=(e=n.Tj.Black)=>({format:{color:e}});let o=s.JM},143276:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(397965);let n=async e=>{let t=(0,s.c$)("/v1/courses/%courseId%/gradebook/categories",{courseId:e}),{paging:r,permissions:n,results:o}=await (0,s.Jt)(t);return{results:o,paging:r,permissions:n}}},143333:(e,t,r)=>{"use strict";var s;!function(e){e.Absent="Absent",e.Excused="Excused",e.Late="Late",e.Present="Present"}(s||(s={}))},144978:(e,t,r)=>{"use strict";r.d(t,{Au:()=>d,Cx:()=>h,No:()=>m,P3:()=>y,Wy:()=>I,Xh:()=>u,cD:()=>c,f9:()=>E,ti:()=>A,xI:()=>p});var s=r(825271),n=r(608719),o=r(647059),i=r(588335),a=r(853400);function l(e){let{results:t,paging:r}=e;return{announcements:(0,o.jD)(t),paging:r}}let u=async e=>{let{courseId:t,filter:r={searchText:""},paging:o={offset:0,limit:i.sQ},sort:a}=e,{offset:u,limit:d}=o;if(r.searchText){let e=new n.lDE({courseId:t}).withSession(s.dZ).withPaging({offset:u,limit:d}).withQueryParams({q:r.searchText});return a&&e.withSort(...a),(0,n.waJ)(e).then(l)}return(0,n.cT5)(s.dZ,t,{offset:u,limit:d},a).then(e=>l(e))};async function d(e){let{paging:t}=e;return l(await (0,n._WI)(s.dZ,t))}let c=(e,t)=>(t.id?(0,n.OZz)(s.dZ,e,t.id,t):(0,n.RxA)(s.dZ,e,t)).then(e=>({announcement:e})),E=(0,a.Y)(n.Ogg,s.dZ),p=(e,t)=>(0,n.uWx)(s.dZ,e,t),m=e=>(0,n.PJl)(s.dZ,e).then(t=>({announcementsCounts:t,courseId:e}));async function g(e){let t=new n.$KS({courseId:e}).withSession(s.dZ).withQueryParams({membershipAvailable:!0});return(0,n.waJ)(t)}let y=e=>Promise.all([(0,n.EDV)(s.dZ,e),g(e)]).then(e=>{let t=e.shift(),{count:r}=e.shift();return{courseContext:{...t,membershipCount:r}}}),I=(e,t,r=!1)=>(0,n.RO0)(s.dZ,e,t,r).then(e=>({announcement:e})),A=async e=>({announcement:await (0,n.jnv)(s.dZ,e)});async function h(e){let{pathParams:t,state:r,sort:o,paging:i}=e,{results:a,paging:l}=await (0,n.zhC)(s.dZ,t,r?{state:r}:{},{sort:o,paging:i});return{announcementUsersStatus:a,paging:l}}},147653:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});var s=r(608719),n=r(825271);function o(e){return(0,s.du8)(n.dZ,e)}r(362420),r(332014),r(935539),r(828650)},151927:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s={outgoing:{initContent:"init_content"},incoming:{pageLoaded:"page_loaded",canceled:"content_canceled",contentReady:"content_ready"}}},155068:(e,t,r)=>{"use strict";r(759059)},155473:(e,t,r)=>{"use strict";r.d(t,{Q:()=>o,o:()=>n});var s=r(56684);class n extends s.w_{constructor(e){super("/v1/courses/%courseId%/gradebook/attempts/%attemptId%/assessment/aiChatAnswers/%questionAttemptId%/messages",e)}}class o extends s.kz{constructor(e){super("/v1/courses/%courseId%/gradebook/attempts/%attemptId%/assessment/aiChatAnswers/%questionAttemptId%/retry",e)}}},157701:(e,t,r)=>{"use strict";var s;r.d(t,{g:()=>n,j:()=>s});let n={ABORT_CONVERSION:"file-conversion.abort",START_CONVERSION:"file-conversion.start",LOAD_CONVERSION_SETTINGS:"file-conversion.settings.load"};!function(e){e.Aborted="aborted",e.Unknown="unknown"}(s||(s={}))},159070:(e,t,r)=>{"use strict";r.d(t,{QK:()=>n,UP:()=>i,US:()=>l,qG:()=>o,tA:()=>a});var s=r(56684);class n extends s.mj{constructor(){super("/v1/gradebook/mastery/scale")}}class o extends s.pT{constructor(e){super("/v1/courses/%courseId%/gradebook/mastery/goals",e)}}class i extends s.pT{constructor(e){super("/v1/courses/%courseId%/gradebook/mastery/users/%userId%/goals",e)}}class a extends s.pT{constructor(e){super("/v1/courses/%courseId%/gradebook/mastery/users/%userId%/goals/%parentId%/children",e)}}class l extends s.w_{constructor(e){super("/v1/courses/%courseId%/gradebook/mastery/goals/bulkView",e)}}},161689:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var s=r(56684);class n extends s.w_{constructor(e){super("/v1/courses/%courseId%/copy",e)}}},164695:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,R:()=>i});var s=r(56684);let n="/v1/courses/%courseId%/exports";class o extends s.w_{constructor(e){super(n,e)}}class i extends s.mj{constructor(e){super(n,e)}}},165113:(e,t,r)=>{"use strict";function s(e,t,r){let s=e;return Object.keys(t).forEach(e=>{var n;let o=r[e.replace("data-","")],i=t[e];n=s,(o||i)&&n.setAttribute(e,o||i),s=n}),s}function n(e,t,r){return Object.keys(t).forEach(s=>{let n=r[s.replace("data-","")],o=t[s];n||o?e.setAttribute(s,n||o):void 0!==n&&("close"===s||"open"===s)&&e.setAttribute(s,n)}),e}function o(e,t,r=!1){let s=r?{domNode:e}:{};return Object.keys(t).reduce((t,r)=>{if(e.hasAttribute(r)){let s=e.getAttribute(r);"string"==typeof s&&s.slice(0,3)===encodeURIComponent("{")&&(s=decodeURIComponent(s)),t[r.replace("data-","")]=s}return t},s)}r.d(t,{Wp:()=>s,gu:()=>o,jh:()=>n})},165978:(e,t,r)=>{"use strict";r.d(t,{o1:()=>p,Ff:()=>c,Lt:()=>E});var s=r(905898),n=r(608719),o=r(968554);let i={AUTH_DEVICE_CONFIRMATION_INVALIDATE:"auth.device.confirmation.invalidate",AUTH_DEVICE_CONFIRMATION_LOAD:"auth.device.confirmation.load",AUTH_DEVICE_REVOKE:"auth.device.revoke"};var a=r(612918),l=r(389807);let u=()=>["latestConfirmation"],d=()=>["revokeStatus"],c=(0,o.vy)({confirmedSession:void 0,latestConfirmation:void 0,revokeStatus:void 0},{[i.AUTH_DEVICE_CONFIRMATION_LOAD]:(0,a.vR)(u,a.vq),[(0,o.ok)(i.AUTH_DEVICE_CONFIRMATION_LOAD)]:(e,t)=>(0,s.Ay)(e,e=>{e.confirmedSession=t,e.latestConfirmation={status:a.y_,value:t}}),[(0,o.fJ)(i.AUTH_DEVICE_CONFIRMATION_LOAD)]:(0,a.vR)(u,a.JL),[(0,o.cw)(i.AUTH_DEVICE_CONFIRMATION_LOAD)]:(0,a.vR)(u,a.JL),[i.AUTH_DEVICE_CONFIRMATION_INVALIDATE]:e=>(0,s.Ay)(e,e=>{e.latestConfirmation={status:a.E1},e.revokeStatus={status:a.E1}}),[i.AUTH_DEVICE_REVOKE]:(0,a.vR)(d,a.vq),[(0,o.ok)(i.AUTH_DEVICE_REVOKE)]:e=>(0,s.Ay)(e,e=>{e.confirmedSession=void 0,e.revokeStatus={status:a.y_}}),[(0,o.fJ)(i.AUTH_DEVICE_REVOKE)]:(0,a.vR)(d,a.JL)}),E={getConfirmedSession:e=>e.auth.device.confirmedSession,getLatestConfirmationStatus:e=>{var t,r;return null!=(r=null==(t=e.auth.device.latestConfirmation)?void 0:t.status)?r:a.E1},getRevokeStatus:e=>{var t,r;return null!=(r=null==(t=e.auth.device.revokeStatus)?void 0:t.status)?r:a.E1}},p={confirmSession:e=>(0,o.Vy)(i.AUTH_DEVICE_CONFIRMATION_LOAD,async()=>{try{return await (0,l.u)(e)}catch(e){throw new o.GS(e)}},{allowedErrors:[n.t3V.NotFound],condition:(e,{getState:t})=>{var r;return(0,a.qO)(null==(r=t().auth.device.latestConfirmation)?void 0:r.status)}}),invalidateLatestConfirmation:()=>(0,o.Vy)(i.AUTH_DEVICE_CONFIRMATION_INVALIDATE,async()=>{}),revokeChildSession:()=>(0,o.Vy)(i.AUTH_DEVICE_REVOKE,async()=>{try{return await (0,l.x)()}catch(e){throw new o.GS(e)}},{condition:(e,{getState:t})=>{var r;return(0,a.qO)(null==(r=t().auth.device.revokeStatus)?void 0:r.status)}})}},166360:(e,t,r)=>{"use strict";r.d(t,{o1:()=>d,Ff:()=>u,Lt:()=>c});var s=r(905898),n=r(645250),o=r(608719),i=r(968554),a=r(776601);let l={COURSE_PREFERENCE_LOAD:"course-preference.load",COURSE_PREFERENCE_PERSIST:"course-preference.persist",COURSE_PREFERENCE_DELETE:"course-preference.delete"},u=(0,i.vy)({byCourseId:{},isLoading:!1},{[l.COURSE_PREFERENCE_LOAD]:i.r1,[(0,i.ok)(l.COURSE_PREFERENCE_LOAD)]:(e,t)=>{let{courseId:r}=t,{coursePreference:o}=t,a=n.get(e,["byCourseId",r],{});o={...o,api:{isUpdating:!1,isDeleting:!1},ui:n.get(a,[o.key,"ui"])};let l=(0,s.jM)(e,e=>{e.byCourseId[r]||(e.byCourseId[r]={}),e.byCourseId[r][o.key]=o});return(0,i.Zg)(l,t)},[(0,i.cw)(l.COURSE_PREFERENCE_LOAD)]:i.Zg,[(0,i.fJ)(l.COURSE_PREFERENCE_LOAD)]:i.Nh,[l.COURSE_PREFERENCE_PERSIST]:(e,t)=>(0,s.jM)(e,e=>{e.byCourseId[t.courseId]||(e.byCourseId[t.courseId]={}),e.byCourseId[t.courseId][t.nextCoursePreference.key]||(e.byCourseId[t.courseId][t.nextCoursePreference.key]={}),e.byCourseId[t.courseId][t.nextCoursePreference.key].api||(e.byCourseId[t.courseId][t.nextCoursePreference.key].api={}),e.byCourseId[t.courseId][t.nextCoursePreference.key].api.isUpdating=!0}),[(0,i.ok)(l.COURSE_PREFERENCE_PERSIST)]:(e,t)=>{let{courseId:r}=t,{coursePreference:o}=t,i=n.get(e,["byCourseId",r],{});return o={...o,api:{...n.get(i,[o.key,"api"]),isUpdating:!1},ui:n.get(i,[o.key,"ui"])},(0,s.jM)(e,e=>{e.byCourseId[r]||(e.byCourseId[r]={}),e.byCourseId[r][o.key]=o})},[(0,i.fJ)(l.COURSE_PREFERENCE_PERSIST)]:(e,t)=>(0,s.jM)(e,e=>{e.byCourseId[t.courseId]||(e.byCourseId[t.courseId]={}),e.byCourseId[t.courseId][t.nextCoursePreference.key]||(e.byCourseId[t.courseId][t.nextCoursePreference.key]={}),e.byCourseId[t.courseId][t.nextCoursePreference.key].api||(e.byCourseId[t.courseId][t.nextCoursePreference.key].api={}),e.byCourseId[t.courseId][t.nextCoursePreference.key].api.isUpdating=!1}),[l.COURSE_PREFERENCE_DELETE]:(e,t)=>(0,s.jM)(e,e=>{e.byCourseId[t.courseId]||(e.byCourseId[t.courseId]={}),e.byCourseId[t.courseId][t.coursePreferenceKey]||(e.byCourseId[t.courseId][t.coursePreferenceKey]={}),e.byCourseId[t.courseId][t.coursePreferenceKey].api||(e.byCourseId[t.courseId][t.coursePreferenceKey].api={}),e.byCourseId[t.courseId][t.coursePreferenceKey].api.isDeleting=!0}),[(0,i.ok)(l.COURSE_PREFERENCE_DELETE)]:(e,t)=>{let{courseId:r,coursePreferenceKey:o}=t,i=n.get(e,["byCourseId",r],{});return i=(0,s.jM)(i,e=>{delete e[o]}),(0,s.jM)(e,e=>{e.byCourseId[r]=i})},[(0,i.fJ)(l.COURSE_PREFERENCE_DELETE)]:(e,t)=>{let r=(0,s.jM)(e,e=>{e.byCourseId[t.courseId]||(e.byCourseId[t.courseId]={}),e.byCourseId[t.courseId][t.coursePreferenceKey]||(e.byCourseId[t.courseId][t.coursePreferenceKey]={}),e.byCourseId[t.courseId][t.coursePreferenceKey].api||(e.byCourseId[t.courseId][t.coursePreferenceKey].api={}),e.byCourseId[t.courseId][t.coursePreferenceKey].api.isDeleting=!1});return(0,i.Nh)(r,t)}}),d={loadCoursePreference:e=>(0,i.VP)(l.COURSE_PREFERENCE_LOAD,t=>{var r,s;return r=t(),s=0,(0,a.rM)(e).then(t=>({coursePreference:t,courseId:e.courseId})).catch(e=>{throw{err:e}})},null,[o.t3V.NotFound]),persistCoursePreference:(e,t)=>(0,i.VP)(l.COURSE_PREFERENCE_PERSIST,()=>(0,a.PY)(e,{courseId:t}).then(e=>({coursePreference:e,courseId:t})).catch(e=>{throw{err:e}}),{nextCoursePreference:e,courseId:t}),deleteCoursePreference:e=>(0,i.VP)(l.COURSE_PREFERENCE_DELETE,()=>(0,a.M0)(e).then(()=>({coursePreferenceKey:e.key,courseId:e.courseId})).catch(e=>{throw{err:e}}),{coursePreferenceKey:e.key,courseId:e.courseId})},c={getCoursePreferenceByKeyAndCourseId:(e,t,r)=>{var s,n,o;return null==(o=null==(n=null==(s=null==e?void 0:e.coursePreference)?void 0:s.byCourseId)?void 0:n[r])?void 0:o[t]},isPreferenceLoading:e=>e.coursePreference.isLoading}},168698:(e,t,r)=>{"use strict";r.d(t,{BF:()=>m,Hj:()=>p,K3:()=>g,cg:()=>d,fs:()=>I,nA:()=>c,nd:()=>E});var s=r(880537),n=r(186765),o=r(393009),i=r(336339),a=r(745341),l=r(32219);let u=n.Ay.import("parchment");class d extends l.Ay{static create(e=I()){let t=super.create(this.tagName);return t.setAttribute("table_id",e),t}formats(){return{tablebr:this.domNode.getAttribute("table_id")}}}d.blotName="tablebr",d.tagName="p",d.className="tablebr";class c extends s.A{static create(e=I()){let t=super.create(this.tagName);return t.setAttribute("cell_id",e),t}static formats(e){if(e.hasAttribute("cell_id"))return e.getAttribute("cell_id")}formats(){return{...this.domNode.hasAttribute("cell_id")?{[this.statics.tagName.toLowerCase()]:this.domNode.getAttribute("cell_id")}:{}}}getIndexAndOffset(){return this.parent?A(this,this.parent.children):-1}format(e,t){e===this.blotName&&t?this.domNode.setAttribute("cell_id",t):super.format(e,t)}formatAt(e,t,r,s){(r!==this.domNode.nodeName||s!==this.formats(this.domNode))&&super.formatAt(e,t,r,s)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}c.blotName="table-cell",c.tagName="td";class E extends c{}E.blotName="table-head",E.tagName="th";class p extends s.A{static create(e=I()){let t=super.create(this.tagName);return t.setAttribute("row_id",e),t}formats(){return{...this.domNode.hasAttribute("row_id")?{[this.statics.tagName.toLowerCase()]:this.domNode.getAttribute("row_id")}:{}}}formatAt(e,t,r,s){(r!==this.blotName||s!==this.domNode.getAttribute("row_id"))&&super.formatAt(e,t,r,s)}rowOffset(){return this.parent?A(this,this.parent.children):-1}table(){return this.parent&&this.parent.parent}}p.blotName="table-row",p.tagName="tr";class m extends s.A{}m.blotName="table-body",m.tagName="TBODY";class g extends s.A{static create(e){let t=super.create(this.tagName);return t.setAttribute("table_id",e),t}formats(){return{...this.domNode.hasAttribute("table_id")?{[this.statics.tagName.toLowerCase()]:this.domNode.getAttribute("table_id")}:{}}}formatAt(e,t,r,s){(r!==this.blotName||s!==this.domNode.getAttribute("table_id"))&&super.formatAt(e,t,r,s)}balanceRows(){let e=this.descendants(p);if(!this.checkRowsMerge(e))return;let t={};e.forEach(e=>{let r=e.domNode.getAttribute("row_id");if(!r)return;let s=!t[r];s&&(t[r]={row:e,columns:{}});let n=t[r].columns;e.children.forEach(e=>{let s=e.domNode.getAttribute("cell_id");if(!n[s]){let o=this.createCell(e.statics.blotName,e.domNode.getAttribute("cell_id"),!1);n[s]={rowCell:o},t[r].row.appendChild(o)}let o=n[s].rowCell;e.children.forEach(e=>{"header"===e.statics.blotName?o.appendChild(e):o.children.head.appendChild(e)}),e.remove()}),s||e.remove()})}checkRowsMerge(e=this.descendants(p)){let t=[];if(e.length<=1)return!0;for(let r=0;r<e.length;r++){let s=e[r].domNode.getAttribute("row_id");if(t.includes(s))return!0;t.push(s)}return!1}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){if(null==this.children.head||e<0)return;let t=this.children.head;for(;null!==t;){let r=_(t,e);null!=r&&r.remove(),t=t.next}}createCell(e="td",t=I(),r=!0){let s=u.create(e,t),n=u.create("block");return r&&n.appendChild(u.create("text",`
`)),s.appendChild(n),s}insertColumn(e,t){let r=0===e&&0===t&&this.hasHeaderCol(),s=r?E.blotName:c.blotName;r&&this.updateHeaderCol(!1),this.children.forEach(r=>{h(this.createCell(s),e,t,r)}),this.hasHeaderRow()&&this.checkHeaderRowConsistency()}insertRow(e,t){let r=u.create(p.blotName,I("row")),s=0===e&&0===t&&this.hasHeaderRow(),n=s?E.blotName:c.blotName,o=this.children.head.children.length;for(;o>0;){let e=this.createCell(n);r.appendChild(e),o-=1}s&&this.updateHeaderRow(!1),h(r,e,t,this),this.hasHeaderCol()&&this.checkHeaderColConsistency()}rows(){let e=this.children.head;return null==e?[]:e.children.map(e=>e)}updateHeaderRow(e=!0){let t=this.children.head.children.head;for(;null!==t;){let r=t.replaceWith(e?E.blotName:c.blotName,t.domNode.getAttribute("cell_id"));r.scroll&&r.formatAt(0,r.scroll.length(),e?E.tagName:c.tagName,t.domNode.getAttribute("cell_id")),t=r.next}this.checkHeaderIntersection()}updateHeaderCol(e=!0){let t=this.children.head;for(;null!==t;){let r=t.children.head,s=r.replaceWith(e?E.blotName:c.blotName,r.domNode.getAttribute("cell_id"));s.scroll&&s.formatAt(0,s.scroll.length(),e?E.tagName:c.tagName,r.domNode.getAttribute("cell_id")),t=t.next}this.checkHeaderIntersection()}hasHeaderRow(){var e;return this.children.head.children&&(this.children.head.children.tail.statics.blotName===E.blotName||(null==(e=this.children.head.children.head.next)?void 0:e.statics.blotName)===E.blotName)}hasHeaderCol(){var e;return this.children.tail.children&&(this.children.tail.children.head.statics.blotName===E.blotName||(null==(e=this.children.head.next)?void 0:e.children.head.statics.blotName)===E.blotName)}checkHeaderIntersection(){if(this.hasHeaderRow()||this.hasHeaderCol()){let e=this.children.head.children.head;e.statics.blotName!==E.blotName&&e.replaceWith(E.blotName,e.domNode.getAttribute("cell_id"))}}checkHeaderRowConsistency(){let e=this.children.head.children.head;for(;null!==e;)e.statics.blotName!==E.blotName&&e.replaceWith(E.blotName,e.domNode.getAttribute("cell_id")),e=e.next}checkHeaderColConsistency(){let e=this.children.head;for(;null!==e;){let t=e.children.head;t.statics.blotName!==E.blotName&&t.replaceWith(E.blotName,t.domNode.getAttribute("cell_id")),e=e.next}}getLastCell(){if(this.children&&this.children.head.children)return this.children.tail.children.tail}}g.blotName="table-container",g.tagName="table";let y=[...s.A.allowedChildren,i.A,a.A,o.A];function I(e="cell"){let t=Math.random().toString(36).slice(2,6);return`${e}-${t}`}function A(e,t){let r=0,s=t.head;for(;s!==e&&null!==s;)s=s.next,r+=1;return[r,s.offset(t)]}function h(e,t,r,s){if(s.children&&t+r>s.children.length-1)s.appendChild(e);else{let n=_(s,t+r);s.insertBefore(e,n)}}function _(e,t){let r=0,s=e.children.head;for(;r<e.children.length&&null!=s;){if(r===t)return s;s=s.next,r+=1}return null}g.allowedChildren=[m,p,...y],g.scope=u.Scope.BLOCK_BLOT,m.allowedChildren=[p,...y],m.requiredContainer=g,m.scope=u.Scope.BLOCK_BLOT,p.allowedChildren=[c,E,...y],p.requiredContainer=m,p.scope=u.Scope.BLOCK_BLOT,c.allowedChildren=[...y],c.requiredContainer=p,c.scope=u.Scope.BLOCK_BLOT,E.allowedChildren=[...y],E.requiredContainer=p,E.scope=u.Scope.BLOCK_BLOT},168850:(e,t,r)=>{"use strict";r.d(t,{o1:()=>c,Ff:()=>d,Lt:()=>E});let s={GOAL_MASTERY_SCALE_LOAD:"goal.mastery.scale.load"};var n=r(968554),o=r(905898),i=r(612918),a=r(91129);let l=(e,t)=>{let r=t.getState().goalMastery.scale.scale;return(0,i.qO)(null==r?void 0:r.status)},u=()=>["scale"],d=(0,n.vy)({scale:void 0},{[s.GOAL_MASTERY_SCALE_LOAD]:(0,i.vR)(u,i.vq),[(0,n.ok)(s.GOAL_MASTERY_SCALE_LOAD)]:(e,t)=>{let{scale:r}=t;return(0,o.Ay)(e,e=>{e.scale={value:r,status:i.y_}})},[(0,n.fJ)(s.GOAL_MASTERY_SCALE_LOAD)]:(0,i.vR)(u,i.JL)}),c={loadGoalMasterScale:()=>(0,n.Vy)(s.GOAL_MASTERY_SCALE_LOAD,async()=>({scale:(await (0,a.Dh)()).results}),{condition:l})},E={getGoalMasteryScale:e=>{var t,r;return null!=(r=null==(t=e.goalMastery.scale.scale)?void 0:t.value)?r:[]},isLoading:e=>{var t,r;return null==(t=e.goalMastery.scale.scale)||!t.value||(null==(r=e.goalMastery.scale.scale)?void 0:r.status)!==i.y_}}},169206:(e,t,r)=>{"use strict";var s=r(56684);s.w_,s.w_},170041:(e,t,r)=>{"use strict";var s;r.d(t,{S:()=>s}),function(e){e.Attendance="resource/x-bb-attendance",e.Audio="resource/x-bb-audio",e.Blog="resource/x-bb-bloglink",e.ClassicAssignment="resource/x-bb-assignment",e.CourseLink="resource/x-bb-courselink",e.Discussion="resource/x-bb-forumlink",e.Document="resource/x-bb-document",e.ExternalLink="resource/x-bb-externallink",e.File="resource/x-bb-file",e.Folder="resource/x-bb-folder",e.LearningModule="resource/x-bb-lesson",e.Image="resource/x-bb-image",e.Journal="resource/x-bb-journallink",e.Kaltura="resource/x-osv-kaltura/mashup",e.LtiLink="resource/x-bb-blti-link",e.LtiPlacement="resource/x-bb-bltiplacement",e.Page="resource/x-bb-page",e.PartnerCloud="resource/x-bbgs-partner-cloud",e.RusticiScorm="resource/x-plugin-scormengine",e.SurveyLink="resource/x-bb-asmt-survey-link",e.TestLink="resource/x-bb-asmt-test-link",e.Unknown="resource/x-bb-unknown",e.Video="resource/x-bb-video",e.Wiki="resource/x-bb-wiki",e.VideoContent="resource/x-bb-video-studio"}(s||(s={}))},170098:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var s=r(287627);class n extends s.mj{constructor(e){super("/v1/courses/%courseId%/assessments/attempts/%attemptId%/log",e)}}},170228:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={GRADEBOOK_GRADE_LOAD_BY_USER:"gradebook-grade.load.by.user",GRADEBOOK_GRADE_LOAD_BY_QUERY:"gradebook-grade.load.by.query",GRADEBOOK_BULKVIEW_LOAD:"gradebook-grade-bulk-view.load",GRADEBOOK_GRADES_LOAD:"gradebook-grades.load",GRADEBOOK_GRADE_PERSIST_BY_GRADE_ID:"gradebook-grade.persist.by.grade.id",GRADEBOOK_GRADE_PERSIST_BY_USER_ID:"gradebook-grade.persist.by.user.id",GRADEBOOK_GRADE_POST_GRADE_BY_GRADE_ID:"gradebook-grade.post.grade.by.grade.id",GRADEBOOK_GRADES_INVALIDATE:"gradebook-grades.invalidate",GRADEBOOK_GRADES_INVALIDATE_BY_COLUMN_ID:"gradebook-grades.invalidate.byColumnId",GRADEBOOK_GRADES_INVALIDATE_BY_GRADE_ID:"gradebook-grades.invalidate.byGradeId",GRADEBOOK_GRADE_DETAIL_LOAD:"gradebook-grade-detail.load",GRADEBOOK_UNREAD_GRADES_COUNT_LOAD:"gradebook-grades.unread-grades-count.load",GRADEBOOK_GRADE_REMOVE_UNREAD_INDICATOR:"gradebook-grade.unread-indicator.remove",GRADEBOOK_GRADE_REMOVE_UNREAD_INDICATOR_BATCH:"gradebook-grade.unread-indicator.remove.batch",GRADEBOOK_GROUP_GRADES_LOAD_BY_COLUMN_ID_AND_GROUP_ASSOCIATION_ID:"gradebook-group-grade.load.byColumnId.and.groupAssociationId",GRADEBOOK_GROUP_MEMBER_GRADES_INVALIDATE_BY_COLUMN_ID:"gradebook-group-member-grades.invalidate.byColumnId",GRADEBOOK_GRADE_DIRECT_GRADE_ENTRY_MAPPING:"gradebook-grade.direct-grade-entry-mapping"}},171994:(e,t,r)=>{"use strict";function s(e){return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1}function n(e){e.stopPropagation()}r.d(t,{jo:()=>s,kI:()=>n})},173371:(e,t,r)=>{"use strict";r.d(t,{o1:()=>d,Ff:()=>u,Lt:()=>c});var s=r(905898),n=r(968554),o=r(608719),i=r(750609);let a={SESSION_DEBUG_SUBMIT:"sessionDebug.submit",SESSION_DEBUG_RESET_STATE:"sessionDebug.resetState"},l={logCode:"",isUpdating:!1,submissionErrorCode:0},u=(0,n.vy)(l,{[a.SESSION_DEBUG_SUBMIT]:(e,t)=>(0,s.jM)(e,e=>{e.isUpdating=!0}),[(0,n.fJ)(a.SESSION_DEBUG_SUBMIT)]:(e,t)=>{var r,s;return(0,n.Nh)(e,t,{submissionErrorCode:(null==(s=null==(r=null==t?void 0:t.err)?void 0:r.error)?void 0:s.status)||o.t3V.BadRequest})},[(0,n.ok)(a.SESSION_DEBUG_SUBMIT)]:(e,t)=>(0,s.jM)(e,e=>{e.logCode=t.logCode}),[a.SESSION_DEBUG_RESET_STATE]:(e,t)=>(0,s.jM)(e,e=>{(0,n.gD)(e,l)})}),d={submitSessionDebug:e=>(0,n.VP)(a.SESSION_DEBUG_SUBMIT,()=>(0,i.QuO)(e).catch(e=>{throw{err:e}})),resetSessionDebugState:()=>(0,n.rc)(a.SESSION_DEBUG_RESET_STATE)},c={getLogCode:e=>e.sessionDebug.logCode,isUpdating:e=>e.sessionDebug.isUpdating,getSubmissionErrorCode:e=>e.sessionDebug.submissionErrorCode}},173575:(e,t,r)=>{"use strict";r.d(t,{CT:()=>a,Qv:()=>u,dQ:()=>l});var s=r(56684);let n="/v1/courses/%courseId%/rubrics",o=`${n}/%rubricId%/users/%userId%/preferences`,i=`${o}/%preferenceKey%`;class a extends s.w_{constructor(e){super(n,e)}}s.QR;class l extends s.mj{constructor(e){super(i,e)}}class u extends s.Jk{constructor(e){super(o,e)}}s.FK,s.mj},175222:(e,t,r)=>{"use strict";var s;!function(e){e.NothingToGrade="NOTHING_TO_GRADE",e.NeedsGrading="NEEDS_GRADING",e.NeedsPosting="NEEDS_POSTING",e.AllPosted="ALL_POSTED",e.AllGraded="ALL_GRADED",e.Restricted="RESTRICTED"}(s||(s={}))},175805:(e,t,r)=>{"use strict";r.d(t,{o1:()=>u,Ff:()=>l,Lt:()=>d});var s=r(905898),n=r(179181),o=r(968554),i=r(608719);let a={ATTEMPT_RECEIPT_LOAD:"attempt-receipt.load"},l=(0,o.vy)({byAttemptReceiptId:{},isLoading:!1},{[a.ATTEMPT_RECEIPT_LOAD]:o.r1,[(0,o.ok)(a.ATTEMPT_RECEIPT_LOAD)]:(e,t)=>{let{receiptId:r}=t,n=(0,s.Ay)(e,e=>{e.byAttemptReceiptId[r]=t});return(0,o.Zg)(n,t)},[(0,o.cw)(a.ATTEMPT_RECEIPT_LOAD)]:o.Zg,[(0,o.fJ)(a.ATTEMPT_RECEIPT_LOAD)]:o.Nh}),u={loadAttemptReceipt:(e,t)=>(0,o.VP)(a.ATTEMPT_RECEIPT_LOAD,async()=>{try{return await (0,n.K)(e,t)}catch(e){throw{err:e}}},null,[i.t3V.NotFound])},d={getAttemptReceipt:(e,t)=>e.attemptReceipt.byAttemptReceiptId[t],isLoading:e=>e.attemptReceipt.isLoading}},179181:(e,t,r)=>{"use strict";r.d(t,{K:()=>o});var s=r(825271),n=r(608719);let o=(0,r(853400).Y)(n.OWT,s.dZ)},188240:(e,t,r)=>{"use strict";function s(e,t){return{eventName:e,shouldActivate:t}}r.d(t,{l:()=>s})},188384:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var s,n=r(877973);!function(e){e.InputPanel="inputPanel",e.ContentPanel="contentPanel",e.PanelFooter="panelFooter"}(s||(s={}));let o=(0,n.n9)(e=>(0,n.rU)({generatedContentLayout:{display:"flex",flexDirection:"column",height:"100%",[e.breakpoints.up("md")]:{display:"grid",gridTemplateColumns:"minmax(0, 360px) 1fr",gridTemplateRows:"1fr auto",gridTemplateAreas:`
        "${s.InputPanel} ${s.ContentPanel}"
        "${s.InputPanel} ${s.PanelFooter}"
      `}},inputPanelPosition:{borderBottom:`1px solid ${e.palette.border.main}`,[e.breakpoints.up("md")]:{overflowY:"auto",borderBottom:0,borderRight:`1px solid ${e.palette.border.main}`,gridArea:s.InputPanel}},generatedContentPanelRoot:{display:"flex",flexDirection:"column"},generatedContentPanelFooter:{position:"sticky",bottom:0,[e.breakpoints.up("md")]:{gridArea:s.PanelFooter}},generatedContentPreviewRoot:{display:"flex",flexDirection:"column",flex:"1 1 auto",[e.breakpoints.up("md")]:{gridArea:s.ContentPanel}},generatedContentPreviewContent:{flex:"1 1 auto",display:"flex",flexDirection:"column",padding:"32px",[e.breakpoints.up("md")]:{height:"0",overflowY:"auto"}},generatedContentItem:{marginTop:"15px"},generatingContentProgress:{margin:"auto"}}))},193752:(e,t,r)=>{"use strict";r.d(t,{C:()=>u,Gq:()=>l,Th:()=>d});var s=r(397965),n=r(956284);let o="/v1/courses/%courseId%/gradebook/columns/%columnId%/grades/%gradeId%/attempts/%attemptId%/stagedAttemptGrades",i=`${o}/%stagedAttemptId%`,a=(e,t)=>{let{paging:r,permissions:s,results:o}=t,i={},a=(0,n.jD)(o,(t,r)=>{let{grader:s,userBeingGraded:n,...o}=r;return o.columnId=e,o.graderId=null==s?void 0:s.id,o.userBeingGradedId=null==n?void 0:n.id,s&&!i[s.id]&&(i[s.id]={...s}),n&&!i[n.id]&&(i[n.id]={...n}),t[r.stagedAttemptId]=o,t});return{paging:r,permissions:s,users:i,byStagedAttemptId:a}},l=async e=>{let{columnId:t}=e;return a(t,await (0,s.Jt)((0,s.c$)("/v1/courses/%courseId%/gradebook/columns/%columnId%/grader/%userId%/peerReviews",e)))},u=async e=>{let{columnId:t}=e;return a(t,{results:(await (0,s.Jt)((0,s.c$)(o,e))).stagedAttemptGrades})},d=async e=>{let{updatedProperties:t}=e,r={courseId:e.courseId,columnId:e.columnId,gradeId:e.gradeId,attemptId:e.attemptId,stagedAttemptId:e.stagedAttemptId};return{stagedAttempt:await (0,s.F6)((0,s.c$)(i,r),t)}}},196186:(e,t,r)=>{"use strict";r.d(t,{o1:()=>p,Ff:()=>E,Lt:()=>m});var s=r(608719),n=r(968554);let o={COURSE_RUBRICS_USER_PREFERENCE_LOAD:"course.rubrics.user.preference.load",COURSE_RUBRICS_USER_PREFERENCE_SAVE:"course.rubrics.user.preference.save"};var i=r(3266),a=r(905898),l=r(758247),u=r(300474);let d=Object.freeze({preference:void 0,isLoading:!1});function c(e,t,r){var s,n,o,i;let{courseId:a,userId:l,rubricId:u}=t,c=e.byCourseId[a]=null!=(s=e.byCourseId[a])?s:{byRubricId:{}},E=c.byRubricId[u]=null!=(n=c.byRubricId[u])?n:{byUserId:{}},p=E.byUserId[l]=null!=(o=E.byUserId[l])?o:{byPreferenceKey:{}};return p.byPreferenceKey[r]=null!=(i=p.byPreferenceKey[r])?i:{...d}}let E=(0,n.vy)({byCourseId:{}},{[o.COURSE_RUBRICS_USER_PREFERENCE_LOAD]:(e,t)=>(0,a.Ay)(e,e=>{let{courseId:r,rubricId:s,userId:n,preferenceKey:o}=t;c(e,{courseId:r,rubricId:s,userId:n},o).isLoading=!0}),[(0,n.ok)(o.COURSE_RUBRICS_USER_PREFERENCE_LOAD)]:(e,t)=>{let{courseId:r,rubricId:s,userId:n,preferenceKey:o,data:i}=t;return(0,a.Ay)(e,e=>{let t=c(e,{courseId:r,rubricId:s,userId:n},o);t.preference=i,t.isLoading=!1})},[(0,n.cw)(o.COURSE_RUBRICS_USER_PREFERENCE_LOAD)]:(e,t)=>{let{courseId:r,rubricId:s,userId:n,preferenceKey:o,data:i}=t;return(0,a.Ay)(e,e=>{let t=c(e,{courseId:r,rubricId:s,userId:n},o);t.preference=i,t.isLoading=!1})},[(0,n.fJ)(o.COURSE_RUBRICS_USER_PREFERENCE_LOAD)]:(e,t)=>{let{courseId:r,rubricId:s,userId:n,preferenceKey:o}=t;return(0,a.Ay)(e,e=>{c(e,{courseId:r,rubricId:s,userId:n},o).isLoading=!1})},[(0,n.ok)(o.COURSE_RUBRICS_USER_PREFERENCE_SAVE)]:(e,t)=>{let{courseId:r,rubricId:s,userId:n,data:o}=t;return(0,a.Ay)(e,e=>{c(e,{courseId:r,rubricId:s,userId:n},o.key).preference=o})}}),p={getCourseRubricsUserPreference:(e,t)=>(0,n.RA)(async(r,a)=>{let c=m.getCourseRubricsUserPreference(a(),e,t);if(c.isLoading||c.preference)return c.preference;let E={...e,preferenceKey:t};r((0,n.rc)(o.COURSE_RUBRICS_USER_PREFERENCE_LOAD,E));try{let e=await (0,i.E)(E);return r((0,n.rc)((0,n.ok)(o.COURSE_RUBRICS_USER_PREFERENCE_LOAD),{...E,data:e})),e}catch(e){if((0,u.rh)((0,u.xt)(e),[s.t3V.NotFound])){let e=d.preference;return r((0,n.rc)((0,n.cw)(o.COURSE_RUBRICS_USER_PREFERENCE_LOAD),{...E,data:e})),e}throw r((0,n.rc)((0,n.fJ)(o.COURSE_RUBRICS_USER_PREFERENCE_LOAD),{...E,err:e})),r((0,n.rc)((0,n.ok)(l.A.APP_ERROR),{error:e})),{err:e}}}),saveCourseRubricsUserPreference:(e,t)=>(0,n.VP)(o.COURSE_RUBRICS_USER_PREFERENCE_SAVE,async()=>{let r=await (0,i.l)({...e},t);return{...e,data:r}},e)},m={getCourseRubricsUserPreference:(e,t,r)=>{var s,n,o;let{courseId:i,userId:a,rubricId:l}=t,u=null==(o=null==(n=null==(s=e.courseRubricsUserPreference.byCourseId[i])?void 0:s.byRubricId[l])?void 0:n.byUserId[a])?void 0:o.byPreferenceKey[r];return null!=u?u:{...d}}}},196775:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});let s={ACCOMMODATION:"accommodation",COURSE:"course",COURSE_ACHIEVEMENTS:"course.achievements",COURSE_ANALYTICS:"course.analytics",COURSE_ANALYTICS_QUESTION_ANALYSIS:"course.analytics.question-analysis",COURSE_ANALYTICS_ACTIVITY:"course.analytics.course-activity",COURSE_ANALYTICS_REPORTS:"course.analytics.reports",COURSE_ANALYTICS_SCORM_REPORTS:"course.analytics.scorm-reports",COURSE_ANALYTICS_COURSE_REPORTS:"course.analytics.course-reports",COURSE_ANNOUNCEMENT_LIST:"course.announcements",COURSE_CALENDAR:"course.calendar",COURSE_CLASSIC:"course.classic",COURSE_CLASSIC_OUTLINE:"course.classic.outline",COURSE_CLASSIC_OUTLINE_ULTRA_COURSE_SELF_ENROLL:"course.classic.outline.ultra-course-self-enroll",COURSE_CONTENT_MARKET:"content-market",COURSE_DISCUSSION_PARTICIPANTS:"discussion-participants",COURSE_ENGAGEMENT:"course.engagement",COURSE_GRADES:"course.grades",COURSE_GRADES_MULTIPLE_ATTEMPT:"multiple-attempt-grading",COURSE_GROUPS:"course.groups",COURSE_GROUPS_STUDENT:"course.groups-student",COURSE_LTI:"lti",COURSE_MESSAGE:"message",COURSE_MESSAGES:"course.messages",COURSE_OUTLINE:"course.outline",EDIT_BANNER:"course-edit-banner",EDIT_ENROLLMENT:"edit-enrollment",SETTINGS:"course-settings"}},196973:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var s=r(825271),n=r(608719),o=r(449454);let i=(e={offset:0,limit:o.N})=>(0,n.Zlz)(s.dZ,e).then(e=>(function(e){let{results:t,paging:r}=e;return{courses:t.reduce((e,t)=>(e[t.courseId]=t,e),{}),paging:r}})(e))},197434:(e,t,r)=>{"use strict";r.d(t,{o1:()=>l,Ff:()=>a,Lt:()=>u});var s=r(905898),n=r(968554),o=r(143276);let i={GRADEBOOK_CATEGORIES_LOAD_BY_COURSE:"gradebook-categories.load.by.course.id",GRADEBOOK_CATEGORY_LOAD_BY_ID:"gradebook-categories.load.by.id",GRADEBOOK_CATEGORY_ADD_UPDATE:"gradebook-categories.add.update",GRADEBOOK_CATEGORY_DELETE:"gradebook-categories.delete"},a=(0,n.vy)({byCourseId:{},byId:{}},{[(0,n.ok)(i.GRADEBOOK_CATEGORIES_LOAD_BY_COURSE)]:(e,t)=>{let{courseId:r,response:o}=t;return(0,s.Ay)(e,t=>{t.byCourseId[r]=o.results.map(e=>e.id),o.results.forEach(r=>{let s=e.byId[r.id];t.byId[r.id]={...(0,n.rL)(s,r)}})})},[(0,n.ok)(i.GRADEBOOK_CATEGORY_LOAD_BY_ID)]:(e,t)=>{let{response:r}=t;return(0,s.Ay)(e,t=>{let s=e.byId[r.id];t.byId[r.id]={...(0,n.rL)(s,r)}})},[(0,n.ok)(i.GRADEBOOK_CATEGORY_ADD_UPDATE)]:(e,t)=>{let{category:r}=t;return((e,t)=>(0,s.Ay)(e,e=>{if((null==t?void 0:t.id)&&(null==t?void 0:t.courseId)){e.byId[t.id]=t;let r=e.byCourseId[t.courseId];r&&-1===r.findIndex(e=>e===t.id)&&(e.byCourseId[t.courseId]=[...r,t.id])}}))(e,r)},[(0,n.ok)(i.GRADEBOOK_CATEGORY_DELETE)]:(e,t)=>{let{courseId:r,categoryId:n}=t;return((e,t,r)=>(0,s.Ay)(e,e=>{t&&r&&(delete e.byCourseId[t],delete e.byId[r])}))(e,r,n)}}),l={loadGradebookCategoriesByCourseId:e=>(0,n.VP)(i.GRADEBOOK_CATEGORIES_LOAD_BY_COURSE,async()=>{try{let t=await o.I(e);return{courseId:e,response:t}}catch(e){throw{err:e}}}),syncUpdatedGradebookCategory:e=>(0,n.Vy)(i.GRADEBOOK_CATEGORY_ADD_UPDATE,async()=>({category:e})),syncDeletedCategory:(e,t)=>(0,n.Vy)(i.GRADEBOOK_CATEGORY_DELETE,async()=>({courseId:e,categoryId:t}))},u={getGradebookCategoriesByCourseId:(e,t)=>{let r=e.gradebookCategory.byCourseId[t];if(r)return r.map(t=>e.gradebookCategory.byId[t])},getGradebookCategoryById:(e,t)=>e.gradebookCategory.byId[t]}},209919:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(696093);s.A.createChange=(e=!0)=>({format:{bold:e}});let n=s.A},213415:(e,t,r)=>{"use strict";r(542633),r(498487),r(901048).Buffer},214198:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>A,wV:()=>g});var s=r(514041),n=r(939067),o=r.n(n),i=r(951777),a=r(293812),l=r(101713),u=r(1231),d=r(745256),c=r(139342),E=r(946328),p=r(865004);let m=({analyticsId:e,preventClosing:t,onDiscard:r})=>{let[n,o]=(0,s.useState)(!1),[a,l]=(0,s.useState)(),u=(0,p.W)(),d=()=>{o(!1)};return(0,E.bf)(e=>{t&&(e.preventRouteChange(),o(!0),l(e))}),s.createElement(i.Zd,{open:n,analyticsId:e,classes:{root:"discard-dialog-root"}},s.createElement(i.Fv,{analyticsId:`${e}.title`,onClose:d,closeLabel:u("global.close")},u("bbmlEditor.dialogs.discardDialog.title")),s.createElement(i.Wy,{analyticsId:`${e}.content`},s.createElement(i.pP,{analyticsId:`${e}.content.text`},u("bbmlEditor.dialogs.discardDialog.content"))),s.createElement(i.gS,{analyticsId:`${e}.actions`},s.createElement(i.wJ,{analyticsId:`${e}.cancel`,onClick:d},u("global.cancel")),s.createElement(i.Hu,{analyticsId:`${e}.discard`,onClick:()=>{var e,t;r(),E.QB.goRoute(null!=(e=null==a?void 0:a.toState.name)?e:"",null!=(t=null==a?void 0:a.toParams)?t:{})}},u("global.discard"))))};function g(){let e=document.querySelector("div.modal-video-everywhere-contents > iframe");e&&(e.height=`${e.offsetWidth*(700/1200)}px`)}let y="bbml-editor.modal-video.interactable.dialog";class I extends s.Component{constructor(e){super(e),this.state={isOpen:!1,shrinkScreen:!0,screenSize:"md"},this.onCancel=this.onCancel.bind(this),this.onAnimationComplete=this.onAnimationComplete.bind(this),this.onMinimizeMaximizeClick=this.onMinimizeMaximizeClick.bind(this)}componentDidMount(){this.timer=setTimeout(()=>{this.setState({isOpen:!0},()=>{window.addEventListener("resize",g)})})}UNSAFE_componentWillReceiveProps(e){!e.isOpen&&this.state.isOpen&&this.onCancel()}componentWillUnmount(){clearTimeout(this.timer),window.removeEventListener("resize",g)}onCancel(){this.setState({isOpen:!1}),this.onAnimationComplete()}onAnimationComplete(){this.props.destroy&&this.props.destroy()}getAllowAttribute(){return this.props.allowMedia?"geolocation *; microphone *; camera *; midi *; encrypted-media *; fullscreen *":null}componentDidUpdate(e,t){if(e.shrinkScreen!==this.state.shrinkScreen&&g(),this.props.mediaQuery!==t.mediaQuery||e.shrinkScreen!==this.state.shrinkScreen){let e;e=this.props.mediaQuery?this.state.shrinkScreen?"sm":"md":this.state.shrinkScreen?"md":"lg",this.state.screenSize!==e&&this.setState({screenSize:e})}}onMinimizeMaximizeClick(){this.setState(e=>({shrinkScreen:!e.shrinkScreen}))}render(){return s.createElement(s.Fragment,null,s.createElement(i.Zd,{analyticsId:`${y}.dialog`,open:this.state.isOpen,maxWidth:this.state.screenSize,hideBackdrop:!0,disableEnforceFocus:!0,disableBackdropClick:!0,PaperComponent:i.d7,classes:{root:"modal-video-everywhere-dialog",paper:"modal-video-everywhere-dialog-paper"}},s.createElement("div",{className:"dialog-header"},s.createElement(i.yl,{variant:"h3"},this.props.title),s.createElement("div",null,s.createElement(i.uJ,{analyticsId:`${y}.resize`,onClick:this.onMinimizeMaximizeClick,"aria-label":this.props.localize.translate("bbmlEditor.dialogs.icon.shrinkScreen")},this.state.shrinkScreen?s.createElement(l.h,{fontSize:"small"}):s.createElement(a.y,{fontSize:"small"})),this.props.showCloseButton&&s.createElement(i.uJ,{analyticsId:`${y}.cancel`,onClick:this.onCancel,"aria-label":this.props.localize.translate("bbmlEditor.dialogs.icon.close")},s.createElement(u.Close,{fontSize:"small"})))),s.createElement("div",{className:"modal-video-everywhere-contents"},this.props.src&&s.createElement("iframe",{tabIndex:"0",title:this.props.title,src:this.props.src,frameBorder:"0",width:"100%",height:"100%",scrolling:"no",allow:this.getAllowAttribute(),allowFullScreen:!0,onLoad:g}))),s.createElement(m,{preventClosing:this.state.isOpen,analyticsId:`${y}.confirmation-dialog`,onDiscard:this.onCancel}))}}I.propTypes={allowMedia:o().bool,destroy:o().func,isOpen:o().bool,showCloseButton:o().bool,src:o().string,title:o().string.isRequired},I.defaultProps={allowMedia:!1,destroy:null,isOpen:!1,showCloseButton:!0,src:null};let A=(0,d.E)((0,c.BIY)({query:e=>e.breakpoints.down("sm")})(I))},217981:(e,t,r)=>{"use strict";var s;r.d(t,{L:()=>s}),function(e){e.Default="default",e.MyStudents="myStudents",e.Overview="overview"}(s||(s={}))},218028:(e,t,r)=>{"use strict";r.d(t,{o1:()=>c,Ff:()=>d,Lt:()=>E});var s=r(905898),n=r(968554),o=r(985866);let i={ULTRA_SETTINGS_LOAD:"ultra-settings.load",ULTRA_SETTINGS_PERSIST:"ultra-settings.persist"};var a=r(612918);let l=(e,t)=>{let r=t.getState().ultraSettings.settings;return(0,a.qO)(null==r?void 0:r.status)},u=()=>["settings"],d=(0,n.vy)({settings:null},{[i.ULTRA_SETTINGS_LOAD]:(0,a.vR)(u,a.vq),[(0,n.ok)(i.ULTRA_SETTINGS_LOAD)]:(e,t)=>{let{settings:r}=t;return(0,s.Ay)(e,e=>{e.settings={value:r,status:a.y_}})},[(0,n.fJ)(i.ULTRA_SETTINGS_LOAD)]:(0,a.vR)(u,a.JL),[i.ULTRA_SETTINGS_PERSIST]:(0,a.vR)(u,a.vq),[(0,n.ok)(i.ULTRA_SETTINGS_PERSIST)]:(e,t)=>{let{settings:r}=t;return(0,s.Ay)(e,e=>{e.settings={status:a.y_,value:r}})},[(0,n.fJ)(i.ULTRA_SETTINGS_PERSIST)]:(0,a.vR)(u,a.JL)}),c={loadUltraSetting:()=>(0,n.Vy)(i.ULTRA_SETTINGS_LOAD,async()=>({settings:await (0,o.i)()}),{condition:l}),persistUltraSettings:e=>(0,n.Vy)(i.ULTRA_SETTINGS_PERSIST,async()=>({settings:await (0,o.m)(e)}))},E={getUltraSettings:e=>{var t,r;return null!=(r=null==(t=e.ultraSettings.settings)?void 0:t.value)?r:void 0},getUltraSettingsStatus:e=>{var t,r;return null!=(r=null==(t=e.ultraSettings.settings)?void 0:t.status)?r:a.E1}}},218091:(e,t,r)=>{"use strict";r.d(t,{jn:()=>l,_W:()=>a});var s=r(56684);s.w_;class n extends s.pT{constructor(){super("/v1/announcements")}}class o extends s.mj{constructor(e){super("/v1/announcements/%announcementId%",e)}}var i=r(542633);async function a(e,t){let r=new n;return r.withSession(e),t&&r.withPaging(t),(0,i.w)(r)}async function l(e,t){let r=new o({announcementId:t});return r.withSession(e),(0,i.w)(r)}},218916:(e,t,r)=>{"use strict";r.d(t,{o1:()=>p,Ff:()=>E,Lt:()=>m});var s=r(905898),n=r(968554),o=r(612918),i=r(91129);let a={GOAL_MASTERY_GOALS_LOAD:"goal.mastery.goals.load"};var l=r(732583);let u=(e,t)=>{var r,s;if(!t.courseId)return n.Vc;let[o,i]=null!=(s=Object.entries(null!=(r=e.views.byCourseId[t.courseId])?r:{}).find(([,e])=>(0,l.Y_)(e.query,t)))?s:[null,null];return o?{id:o,view:i}:n.Vc},d=e=>["views","byCourseId",e.courseId],c=(e,t)=>{var r;if(!(null==(r=e.query)?void 0:r.courseId))return!1;let{view:s}=u(t.getState().goalMastery.goal,e.query);return!s||!s.isLoading&&!s.isValid},E=(0,n.vy)({byId:{},views:{byCourseId:{}}},{[a.GOAL_MASTERY_GOALS_LOAD]:(0,n.Dh)(u,d),[(0,n.ok)(a.GOAL_MASTERY_GOALS_LOAD)]:(e,t)=>{let{data:r}=t,i=(0,s.Ay)(e,e=>{Object.keys(r.goalsById).forEach(t=>{e.byId[t]?e.byId[t]={value:r.goalsById[t],status:e.byId[t].status}:e.byId[t]={value:r.goalsById[t],status:o.U8}})});return(0,n.lY)(i,t,{viewResolver:u,viewsPathResolver:d,values:r.goalIds,paging:r.paging})},[(0,n.fJ)(a.GOAL_MASTERY_GOALS_LOAD)]:(0,n.To)(u,d)}),p={loadMasteryGoalsByQuery:e=>(0,n.Vy)(a.GOAL_MASTERY_GOALS_LOAD,async()=>{try{return{data:await (0,i.tX)(e),query:e}}catch(t){throw new n.GS(t).setData({query:e})}},{data:{query:e},condition:c})},m={getMasteryGoalsByQuery:(e,t)=>{let{view:r}=u(e.goalMastery.goal,t);return r?(r.values||[]).map(t=>{var r;return null==(r=e.goalMastery.goal.byId[t])?void 0:r.value}).filter(e=>!!e):[]},getMasteryGoalsViewByQuery:(e,t)=>{let{view:r}=u(e.goalMastery.goal,t);return r}}},219065:(e,t,r)=>{"use strict";r.d(t,{D:()=>a});var s=r(514041),n=r(309546),o=r(877973);let i=(0,o.n9)(e=>(0,o.rU)({caption:{...e.typography.caption,color:e.palette.text.secondary,borderInlineStart:`solid 2px ${e.palette.border.main}`,paddingBlock:e.spacing(.5),paddingInline:e.spacing(1),overflowWrap:"anywhere",textAlign:"start",display:"table-caption"},aboveCaption:{captionSide:"top",marginBlockEnd:e.spacing(1)},belowCaption:{captionSide:"bottom",marginBlockStart:e.spacing(1)},figure:{display:"table",margin:0,"@media print":{breakInside:"avoid"}}})),a=e=>{let{children:t,caption:r}=e,o=i();return s.createElement("figure",{className:o.figure},s.createElement(s.Fragment,{key:"children"},t),s.createElement("figcaption",{key:"caption",className:(0,n.A)(o.caption,"above"===r.position?o.aboveCaption:o.belowCaption)},r.value))}},219238:(e,t,r)=>{"use strict";r(56684).w_,r(542633)},222096:(e,t,r)=>{"use strict";r.d(t,{y:()=>o});var s=r(884270);function n(e,t,r,s){var n,o=arguments.length,i=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(o<3?n(i):o>3?n(t,r,i):n(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}class o{static getInstance(){return this.instance||(this.instance=new o),this.instance}onOverrideAdded(e){this.overrideAddedHandlers.add(e)}notifyOverrideAdded(e){this.overrideAddedHandlers.forEach(t=>{try{t(e)}catch(e){}})}static normalizeLocale(e){return e.toLocaleLowerCase().replace(/_/g,"-")}get root(){return this._root}get siteId(){return this._siteId}setOverrideLocation(e,t){e.endsWith("/")&&(e=e.substring(0,e.length-1)),this._root=e,this._siteId=t}addOverrideBundle(e,t){e=o.normalizeLocale(e);let r=o.normalizeLocale(t),s=o.getFallbackLocale(r);this.overrideBundles[e]={ultraLocale:r,localeForPath:t},this.baseLocaleMap[e]=this.baseLocaleMap[r]=s,this.notifyOverrideAdded(e)}getOverridePathForLocale(e){return(e=o.normalizeLocale(e),this.overrideBundles[e])?(this.overridePathPromises[e]||(this.overridePathPromises[e]=this.internalGetOverridePath(e)),this.overridePathPromises[e]):Promise.resolve(null)}async internalGetOverridePath(e){let t=this.overrideBundles[e].ultraLocale,r=this.overrideBundles[e].localeForPath,s=await this.getPathToLocale(r);return t&&s?{path:s,ultraLocale:t}:null}static getFallbackLocale(e){return e.split("-").slice(0,-1).join("-")}getPreferredLocales(e){if(e=o.normalizeLocale(e),!this.overrideBundles[e])return[e];let t=this.overrideBundles[e].ultraLocale,r=o.getFallbackLocale(t);return[t,r].filter(e=>!!e)}async getPathToLocale(e){if(!this._root||!this._siteId)return null;try{if(void 0===this.pathMap[e]){let t=`${this._root}/${this._siteId}/mapping.json`,r=await fetch(t);if(!r.ok)return this.pathMap[e]=null,null;let s=await r.json();if(!s[e])return this.pathMap[e]=null,null;this.pathMap[e]=`${this._root}${s[e][0].url}`}return this.pathMap[e]}catch(e){return null}}getBaseLocale(e){return(e=o.normalizeLocale(e),void 0===this.baseLocaleMap[e])?"":this.baseLocaleMap[e]||"en"}static async loadFromRemotePath(e){try{let t=await fetch(e);if(!t.ok)return{};return await t.json()}catch(e){return{}}}constructor(){this.overrideBundles={},this.baseLocaleMap={},this.pathMap={},this.overrideAddedHandlers=new Set,this.overridePathPromises={}}}n([(0,s.LRUMemoize)()],o,"normalizeLocale",null),n([(0,s.LRUMemoize)(2)],o,"getFallbackLocale",null)},222145:(e,t,r)=>{"use strict";r.d(t,{o1:()=>m,Ff:()=>p,Lt:()=>g});let s={GRADE_SCALE_LOAD:"grade.scale.load"};var n=r(968554),o=r(612918),i=r(905898),a=r(853400),l=r(608719),u=r(825271);let d=(0,a.Y)(l.$o0,u.dZ),c=(e,t)=>{let r=t.getState().gradeSettings.scale;return(0,o.qO)(null==r?void 0:r.status)},E=()=>["scale"],p=(0,n.vy)({scale:void 0},{[s.GRADE_SCALE_LOAD]:(0,o.vR)(E,o.vq),[(0,n.ok)(s.GRADE_SCALE_LOAD)]:(e,t)=>{let{scale:r}=t;return(0,i.Ay)(e,e=>{e.scale={value:r,status:o.y_}})},[(0,n.fJ)(s.GRADE_SCALE_LOAD)]:(0,o.vR)(E,o.JL)}),m={loadGradeScale:()=>(0,n.Vy)(s.GRADE_SCALE_LOAD,async()=>({scale:(await d()).results}),{condition:c})},g={getGradeScale:e=>{var t;return null==(t=e.gradeSettings.scale)?void 0:t.value}}},225648:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var s=r(452320);async function n(e,t,r){let n,{signal:o,pollingInterval:i=s.p.increasing()}=null!=r?r:{},a=new Promise((e,t)=>{o&&(n=()=>t(o.reason),o.addEventListener("abort",n,{once:!0}))});try{for(;!(null==o?void 0:o.aborted);){let r=await Promise.race([e(),a]);if(t(r))return r;await (0,s.w)(i.next(),a)}throw o.reason}finally{n&&(null==o||o.removeEventListener("abort",n))}}},226785:(e,t,r)=>{"use strict";r.d(t,{A:()=>E});var s=r(514041),n=r(939067),o=r.n(n),i=r(745256),a=r(3146),l=r(429944),u=r(151927),d=r(720425);class c extends s.Component{constructor(e){super(e),this.origin=new URL(e.srcURL).origin,this.postBackMashupInitConfig=this.postBackMashupInitConfig.bind(this),this.receiveMessage=this.receiveMessage.bind(this),this.onCancel=this.onCancel.bind(this),this.onInsert=this.onInsert.bind(this),this.onAnimationComplete=this.onAnimationComplete.bind(this),this.state={isOpen:!1,content:null}}UNSAFE_componentWillMount(){window.addEventListener("message",this.receiveMessage,!1),setTimeout(()=>this.setState({isOpen:!0}))}componentWillUnmount(){window.removeEventListener("message",this.receiveMessage)}postBackMashupInitConfig(){let e,{apiBasePath:t,xsrfToken:r,localize:{locale:s,isRtl:n},editingData:o}=this.props;this.iframeEl||(this.iframeEl=this.iframeContainerEl.getElementsByTagName("iframe")[0]);let i={apiBasePath:t,xsrfToken:r,locale:s,isRtl:n()};e=o?(0,d.$X)(i,o):(0,d.lm)(i),this.iframeEl.contentWindow.postMessage(e,this.origin)}receiveMessage(e){if(new URL(this.props.srcURL).origin===e.origin)switch(e.data.messageType){case u.A.incoming.pageLoaded:this.postBackMashupInitConfig();break;case u.A.incoming.canceled:this.onCancel();break;case u.A.incoming.contentReady:this.onInsert(e.data)}}onCancel(){this.setState({isOpen:!1})}onInsert(e){this.setState({isOpen:!1,content:e})}onAnimationComplete(){this.state.content&&this.props.applyChange((0,l.A)(this.state.content)),this.props.destroy()}render(){let{srcURL:e,localize:t}=this.props;return s.createElement(a.Modal,{containerClassName:"modal-youtube-video-provider",isBlocking:!1,isOpen:this.state.isOpen,onDismiss:this.onCancel,onDismissed:this.onAnimationComplete},s.createElement("div",{className:"iframe-container",ref:e=>{this.iframeContainerEl=e}},this.state.isOpen&&s.createElement("iframe",{title:t.translate("bbmlEditor.dialogs.youtubeVideoProviderModal.title"),src:e,frameBorder:0,className:"js-editor-video-container"})))}}c.propTypes={apiBasePath:o().string.isRequired,applyChange:o().func.isRequired,destroy:o().func.isRequired,editingData:o().shape(),srcURL:o().string.isRequired,xsrfToken:o().string.isRequired},c.defaultProps={editingData:null};let E=(0,i.E)(c)},226906:(e,t,r)=>{"use strict";r(362420),r(332014),r(935539),r(828650),r(362420),r(332014),r(935539),r(828650),r(362420),r(332014),r(935539),r(828650)},227663:(e,t,r)=>{"use strict";r(362420),r(332014),r(935539),r(828650)},228407:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var s=r(542633),n=r(56684);class o extends n.pT{constructor(e){super("/v1/courses/%courseId%/telemetry/reports/activityVsGrade",e)}}async function i(e,t,r,n){let i=new o({courseId:t}).withSession(e);return(null==n?void 0:n.paging)&&i.withPaging(n.paging),r&&i.withQueryParams(r),(0,s.w)(i)}},228866:(e,t,r)=>{"use strict";r.d(t,{o1:()=>p,Ff:()=>E,Lt:()=>m});var s=r(905898),n=r(921776),o=r(758247),i=r(842804);let a={QUESTION_TAG_LOAD:"question.tag.load"};var l=r(968554);let u=(e,t)=>{var r;t&&Object.values(null!=(r=e.views.byCourseId[t])?r:{}).forEach(e=>{e.isValid=!1})},d=e=>["views","byCourseId",e.courseId],c=(e,t)=>{var r;if(!t)return{id:null,view:null};let s=null!=(r=e.views.byCourseId[t.courseId])?r:{},n=Object.keys(s).find(e=>{let r=s[e];return"courseId"in r.query&&"courseId"in t&&(null==t?void 0:t.limit)===r.query.limit&&(null==t?void 0:t.offset)===r.query.offset});return{id:n,view:n?s[n]:null}},E=(0,l.vy)({isLoading:!1,paging:null,permissions:null,questionTags:{},views:{byCourseId:{}}},{[a.QUESTION_TAG_LOAD]:(0,l.Dh)(c,d),[(0,l.ok)(a.QUESTION_TAG_LOAD)]:(e,t)=>{let{paging:r,permissions:n,questionTagIds:o,questionTags:i}=t.data,a=(0,s.Ay)(e,e=>{Object.keys(i).forEach(t=>{e.questionTags[t]={...i[t]}})});return(0,l.lY)(a,t,{viewResolver:c,viewsPathResolver:d,paging:r,permissions:n,values:o})},[(0,l.fJ)(a.QUESTION_TAG_LOAD)]:(0,l.To)(c,d),[(0,l.ok)(i.g.QUESTION_DELETE)]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r}=t.prevQuestion;u(e,r)}),[(0,l.ok)(i.g.QUESTION_PERSIST)]:(e,t)=>{var r,n;let o=null!=(r=t.prevQuestion.categoryTags)?r:[],i=null!=(n=t.question.categoryTags)?n:[];return(0,s.Ay)(e,e=>{((e,t)=>{if(e.length!==t.length)return!0;let r=new Map(e.map(e=>[e.id,e]));for(let e of t){let t=r.get(e.id);if(!t||JSON.stringify(t)!==JSON.stringify(e))return!0}return!1})(o,i)&&u(e,t.question.courseId)})}}),p={loadQuestionTags:e=>(0,l.RA)(t=>(t((0,l.rc)(a.QUESTION_TAG_LOAD,{query:e})),(0,n.e)(e).then(r=>(t((0,l.rc)((0,l.ok)(a.QUESTION_TAG_LOAD),{data:r,query:e})),{...r})).catch(r=>{throw t((0,l.rc)((0,l.ok)(o.A.APP_ERROR),{error:r})),t((0,l.rc)((0,l.fJ)(a.QUESTION_TAG_LOAD),{query:e})),r})))},m={getByTagId:(e,t)=>Object.values(e.questionTag.questionTags).find(e=>e.id===t),getQuestionTagsByQuery:(e,t)=>{let{view:r}=c(e.questionTag,t);return r?(r.values||[]).map(t=>m.getByTagId(e,t)).filter(e=>!!e):[]},getQuestionTagsByQueries:(e,t)=>{let r=new Set;return t.reduce((t,s)=>{let{view:n}=c(e.questionTag,s);return[...t,...((null==n?void 0:n.values)||[]).map(t=>m.getByTagId(e,t)).filter(e=>!(!(null==e?void 0:e.id)||r.has(e.id))&&(r.add(e.id),!0))]},[])},getQuestionTagViewStatusByQuery:(e,t)=>{let{view:r}=c(e.questionTag,t);return r?{isLoading:r.isLoading,isValid:r.isValid,paging:r.paging,permissions:r.permissions}:null},getQuestionTagViewStatusByQueries:(e,t)=>t.reduce((t,r)=>{let{view:s}=c(e.questionTag,r),n=null;return s&&(n={isLoading:s.isLoading,isValid:s.isValid,paging:s.paging,permissions:s.permissions}),[...t,{query:r,view:n}]},[])}},231567:(e,t,r)=>{"use strict";function s(e,t){if(0===t.length)return"";let r=e.split("?")[0].split("/"),s=r.indexOf(t);return s+1<r.length?r[s+1]:""}function n(e,t){let r=e.split("?");if(!(r.length<2))return new URLSearchParams(r[1]).get(t)||void 0}r.d(t,{F:()=>n,k:()=>s})},232955:(e,t,r)=>{"use strict";r.d(t,{Cz:()=>E,EJ:()=>l,JN:()=>m,Rg:()=>d,Uh:()=>g,dO:()=>c,lq:()=>u,v8:()=>p});var s=r(397965),n=r(956284),o=r(300474),i=r(608719),a=r(825271);async function l(e){let{courseId:t,columnId:r}=e;return{courseId:t,columnId:r,attempt:await (0,s.Jt)((0,s.c$)("/v1/courses/%courseId%/gradebook/attempts/%attemptId%",e))}}async function u(e){let{courseId:t,columnId:r}=e;return(0,s.Jt)((0,s.c$)("/v1/courses/%courseId%/gradebook/columns/%columnId%/attempts",e)).then(e=>{let{lookup:s,paging:o}=e,i=[],a=[];return s&&Object.values(s).forEach(e=>{e.forEach(e=>{e.deletedAttempt?a.push(e):i.push(e)})}),{courseId:t,columnId:r,byGradebookAttemptId:(0,n.jD)(i),deletedAttempts:a,paging:o}})}function d(e){return e.overrideStatus===i.YLS.FeedbackOverride||e.feedbackToUser&&(e.feedbackToUser={rawText:"",fileLocation:"",webLocation:"",displayText:""}),e}async function c(e,t,r,{columnId:s}={},n){let o=await (0,i.EhG)(a.dZ,{courseId:e,attemptId:t},r,n,["toolAttemptDetail","attemptReceipt.lateSubmission"]);return o.groupAttemptId&&(o=d(o)),{attempt:{...o,courseId:e,...s?{columnId:s}:{}},resultGradeBookAttempt:r}}function E(e,t,r){return(0,i.s4F)(a.dZ,{courseId:e,columnId:r},t)}async function p(e,t){return(0,i.RQU)(a.dZ,{courseId:e,attemptId:t})}async function m(e){return(0,s.bE)((0,s.c$)("/v1/courses/%courseId%/gradebook/columns/%columnId%/grader/%userId%/users",e),{}).catch(e=>{throw(0,o.wf)(e)})}async function g(e){let{data:t,gradeIdToAttemptIdsMap:r,failedGradeIds:s}=await (0,i.O9T)(a.dZ,e.courseId,e.gradeIdColumnIdMap);return{attempts:(0,n.jD)(t),gradeIdToAttemptIdsMap:r,failedGradeIds:s}}},236003:(e,t,r)=>{"use strict";r.d(t,{o1:()=>c,Ff:()=>u,Lt:()=>d});var s=r(611826);let n={};var o=r(968554),i=r(905898),a=r(608719);let l={FEATURE_FLAG_LOAD_ALL:"feature.flags.load.all",FEATURE_FLAG_GET_VALUE_BY_KEY:"feature.flags.get.by.key",FEATURE_FLAG_UPDATE_VALUE_BY_KEY:"feature.flags.update.by.key",CLEAR_FEATURE_FLAG_BY_KEY:"feature.flags.clear.by.key"},u=(0,o.vy)({featureFlags:{byKey:{}},featureFlagValues:{byKey:{}},isLoading:!1},{[l.FEATURE_FLAG_LOAD_ALL]:o.r1,[(0,o.ok)(l.FEATURE_FLAG_LOAD_ALL)]:(e,t)=>{if(!t||!t.featureFlags)return(0,o.Zg)(e,t);let{featureFlags:r}=t;return(0,i.Ay)(e,e=>{let t={};Object.keys(r.byKey).forEach(e=>{let s={...r.byKey[e],api:{isUpdating:!1,isDeleting:!1}};t[e]=s}),e.featureFlags.byKey=t,e.isLoading=!1})},[(0,o.fJ)(l.FEATURE_FLAG_LOAD_ALL)]:o.Nh,[l.FEATURE_FLAG_GET_VALUE_BY_KEY]:(e,t)=>(0,i.Ay)(e,e=>{e.featureFlagValues.byKey[t.flagKey]||(e.featureFlagValues.byKey[t.flagKey]={}),e.featureFlagValues.byKey[t.flagKey].isLoading=!0}),[(0,o.ok)(l.FEATURE_FLAG_GET_VALUE_BY_KEY)]:(e,t)=>{if(!t||!t.flagKey||!t.flagValue)return(0,o.Zg)(e,t);let{flagKey:r,flagValue:s}=t;return(0,i.Ay)(e,e=>{e.featureFlagValues.byKey[r]={...e.featureFlagValues.byKey[r],flagKey:r,flagValue:s},e.featureFlagValues.byKey[r].isLoading=!1})},[(0,o.cw)(l.FEATURE_FLAG_GET_VALUE_BY_KEY)]:(e,t)=>(0,i.Ay)(e,e=>{e.featureFlagValues.byKey[t.flagKey]||(e.featureFlagValues.byKey[t.flagKey]={}),e.featureFlagValues.byKey[t.flagKey].isLoading=!1}),[(0,o.fJ)(l.FEATURE_FLAG_GET_VALUE_BY_KEY)]:(e,t)=>(0,i.Ay)(e,e=>{e.featureFlagValues.byKey[t.flagKey]||(e.featureFlagValues.byKey[t.flagKey]={}),e.featureFlagValues.byKey[t.flagKey].isLoading=!1}),[l.FEATURE_FLAG_UPDATE_VALUE_BY_KEY]:(e,t)=>(0,i.Ay)(e,e=>{let r=e.featureFlags.byKey[t.flagKey];r.api||(r.api={}),r.api.isUpdating=!0}),[l.CLEAR_FEATURE_FLAG_BY_KEY]:(e,t)=>(0,i.Ay)(e,e=>{delete e.featureFlagValues.byKey[t.flagKey],delete e.featureFlags.byKey[t.flagKey]}),[(0,o.ok)(l.FEATURE_FLAG_UPDATE_VALUE_BY_KEY)]:(e,t)=>{if(!t||!t.flagKey||!t.flagValue)return(0,o.Zg)(e,t);let{flagKey:r,flagValue:s}=t,a={...e.featureFlags.byKey[r],flagValue:{...e.featureFlags.byKey[r].flagValue,value:s},api:{...e.featureFlags.byKey[r].api,isUpdating:!1}},l={...e.featureFlagValues.byKey[r],flagKey:r,flagValue:n[r]?n[r]:s};return(0,i.Ay)(e,e=>{e.featureFlags.byKey[r]=a,e.featureFlagValues.byKey[r]=l})},[(0,o.fJ)(l.FEATURE_FLAG_UPDATE_VALUE_BY_KEY)]:(e,t)=>(0,i.Ay)(e,e=>{let r=e.featureFlags.byKey[t.flagKey];r.api||(r.api={}),r.api.isUpdating=!1})}),d={getFeatureFlags:e=>e.featureFlags.featureFlags.byKey,getFeatureFlagValues:e=>e.featureFlags.featureFlagValues.byKey,getFeatureFlagValue:(e,t)=>e.featureFlags.featureFlagValues.byKey[t],isLoading:e=>e.featureFlags.isLoading},c={loadFeatureFlags:()=>(0,o.VP)(l.FEATURE_FLAG_LOAD_ALL,()=>s.CL()),loadFeatureFlagValueByKey:e=>(0,o.RA)(async(t,r)=>{var i;if(function(e,t){let r=e.featureFlags.featureFlagValues.byKey[t];return!r||!1===r.isLoading}(r(),e.flagKey)){if(t((0,o.rc)(l.FEATURE_FLAG_GET_VALUE_BY_KEY,e)),n[e.flagKey]){let r={flagKey:e.flagKey,flagValue:n[e.flagKey]};t((0,o.rc)((0,o.ok)(l.FEATURE_FLAG_GET_VALUE_BY_KEY),r));return}try{let r=await s._D(e);t((0,o.rc)((0,o.ok)(l.FEATURE_FLAG_GET_VALUE_BY_KEY),r))}catch(r){if((null==(i=null==r?void 0:r.body)?void 0:i.status)===a.t3V.NotFound)return void t((0,o.rc)((0,o.cw)(l.FEATURE_FLAG_GET_VALUE_BY_KEY),{flagKey:e.flagKey}));t((0,o.rc)((0,o.fJ)(l.FEATURE_FLAG_GET_VALUE_BY_KEY),{err:r,flagKey:e.flagKey}))}}}),clearFeatureFlagByKey:e=>(0,o.RA)(t=>{t((0,o.rc)(l.CLEAR_FEATURE_FLAG_BY_KEY,{flagKey:e})),t(c.loadFeatureFlagValueByKey({flagKey:e}))}),updateFeatureFlagValueByKey:e=>(0,o.VP)(l.FEATURE_FLAG_UPDATE_VALUE_BY_KEY,()=>s.tz(e),{flagKey:e.flagKey,flagValue:e.flagValue})}},237165:(e,t,r)=>{"use strict";r.d(t,{g:()=>n,y:()=>o});var s=r(968554);let n={CONTENT_INDICATORS_LOAD:"indicators.load",REMOVE_GROUPID_FROM_INDICATORS:"indicators.removeGroupId",DISABLE_CLASS_CONVERSATION_INDICATOR:"indicators.disableClassConversationIndicator"},o=9e5;(0,s.ok)(n.CONTENT_INDICATORS_LOAD)},237500:(e,t,r)=>{"use strict";r(541543),r(542633)},239152:(e,t,r)=>{"use strict";r.d(t,{H:()=>o});var s=r(608719),n=r(825271);function o(){return(0,s.FS6)(n.dZ)}},239715:(e,t,r)=>{"use strict";r.d(t,{o1:()=>l,Ff:()=>a,Lt:()=>u});var s=r(905898),n=r(968554),o=r(429837);let i={FTUE_REGISTER:"ftue.register",FTUE_DISPLAY_NEXT:"ftue.displayNext",FTUE_PAUSE:"ftue.pause",FTUE_RESUME:"ftue.resume"},a=(0,n.vy)({ftueCollectionMap:{}},{[(0,n.ok)(i.FTUE_REGISTER)]:(e,t)=>{let r=e;if(e.ftueCollectionMap[t.collectionKey]){let n=[...e.ftueCollectionMap[t.collectionKey].ftueKeys,t.ftueKey];r=(0,s.jM)(e,e=>{e.ftueCollectionMap[t.collectionKey]||(e.ftueCollectionMap[t.collectionKey]={}),e.ftueCollectionMap[t.collectionKey].ftueKeys=n})}else{let n={isPaused:!1,ftueKeys:[t.ftueKey]};r=(0,s.jM)(e,e=>{e.ftueCollectionMap[t.collectionKey]=n})}return(0,n.Zg)(r,t)},[(0,n.fJ)(i.FTUE_REGISTER)]:n.Nh,[(0,n.ok)(i.FTUE_DISPLAY_NEXT)]:(e,t)=>{let r=Array(...e.ftueCollectionMap[t.collectionKey].ftueKeys);return r.shift(),(0,s.jM)(e,e=>{e.ftueCollectionMap[t.collectionKey]||(e.ftueCollectionMap[t.collectionKey]={}),e.ftueCollectionMap[t.collectionKey].ftueKeys=r})},[(0,n.fJ)(i.FTUE_DISPLAY_NEXT)]:n.Nh,[(0,n.ok)(i.FTUE_PAUSE)]:(e,t)=>(0,s.jM)(e,e=>{e.ftueCollectionMap[t.collectionKey]||(e.ftueCollectionMap[t.collectionKey]={}),e.ftueCollectionMap[t.collectionKey].isPaused=!0}),[(0,n.fJ)(i.FTUE_PAUSE)]:n.Nh,[(0,n.ok)(i.FTUE_RESUME)]:(e,t)=>(0,s.jM)(e,e=>{e.ftueCollectionMap[t.collectionKey]||(e.ftueCollectionMap[t.collectionKey]={}),e.ftueCollectionMap[t.collectionKey].isPaused=!1}),[(0,n.fJ)(i.FTUE_RESUME)]:n.Nh}),l={registerFtue:(e,t)=>(0,n.RA)(async(r,s)=>{var a,l;let u,d,c=`${e}.${t}`;try{await r(o.o1.loadUserPreference({key:c})),u=null==(l=null==(a=o.Lt.getUserPreferenceByKey(s(),c))?void 0:a.value)?void 0:l.value}catch(e){e&&"error"in e&&(d=e.error)}(u&&2>parseInt(u,10)||d&&404===d.status)&&r((0,n.rc)((0,n.ok)(i.FTUE_REGISTER),{collectionKey:e,ftueKey:t}))}),markCurrentFtueAsShown:e=>(0,n.RA)((t,r)=>{let s=u.getCurrentFtueKey(r(),e);if(!s)return t((0,n.rc)((0,n.fJ)(i.FTUE_DISPLAY_NEXT))),Promise.resolve(null);let a=`${e}.${s}`;t((0,n.rc)((0,n.ok)(i.FTUE_DISPLAY_NEXT),{collectionKey:e}));let l=o.Lt.getUserPreferenceByKey(r(),a),d=(null==l?void 0:l.value)?parseInt(l.value.value,10)+1:1;return t(o.o1.persistUserPreference({key:a,value:`${d}`}))}),pauseFtueSequence:e=>(0,n.rc)((0,n.ok)(i.FTUE_PAUSE),{collectionKey:e}),resumeFtueSequence:e=>(0,n.rc)((0,n.ok)(i.FTUE_RESUME),{collectionKey:e})},u={getCurrentFtueKey:(e,t)=>{let r=e.ftue.ftueCollectionMap[t];if(r){let{ftueKeys:e,isPaused:t}=r;return!t&&e?e[0]:null}return null}}},241101:(e,t,r)=>{"use strict";function s(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(e){return/\\"/.test(e)||/"+$/.test(e)}function o(e){return e.replace(/&quot;/g,'"').replace(/&amp;/g,"&")}function i(e){return new DOMParser().parseFromString(e,"text/html")}r.d(t,{Ay:()=>s,BW:()=>i,Me:()=>o,bf:()=>n})},243589:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(514041),n=r(165217),o=r(939067),i=r.n(o),a=r(214198),l=r(321672);class u extends s.Component{constructor(e){super(e),this.state={isOpen:!1}}UNSAFE_componentWillMount(){this.promise=(0,l.A)(this.props.service.getPlaybackLink(this.props.videoId)).then(e=>{this.setState({src:e.data.result,isOpen:!0},a.wV)})}componentWillUnmount(){this.promise.cancel()}render(){let{destroy:e,t,showCloseButton:r}=this.props;return s.createElement(a.Ay,{destroy:e,showCloseButton:r,src:this.state.src,isOpen:this.state.isOpen,title:t("bbmlEditor.dialogs.collab_video.playbackTitle")})}}u.propTypes={destroy:i().func,videoId:i().string.isRequired,service:i().shape({getPlaybackLink:i().func.isRequired}).isRequired,showCloseButton:i().bool},u.defaultProps={destroy:null,showCloseButton:!0};let d=(0,n.T)(u)},246206:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={GRADED_QUESTION_ATTEMPTS_LOAD:"question.gradedAttempts.load",GRADED_QUESTION_ATTEMPT_LOAD:"question.gradedAttempt.load",GRADED_QUESTION_ATTEMPTS_LOAD_BY_QUESTION_ID:"question.gradedAttempts.load.by.questionId",GRADED_QUESTION_ATTEMPT_PERSIST:"question.gradedAttempts.persist",GRADED_QUESTION_ATTEMPT_FOR_GROUP_PERSIST:"question.gradedAttemptForGroup.persist",GRADED_QUESTION_ATTEMPTS_INVALIDATE_BY_COURSE_ID:"question.gradedAttempts.invalidate.by.course.id"}},248928:(e,t,r)=>{"use strict";r.d(t,{g7:()=>i,xh:()=>o});var s=r(397965);let n="/v1/roles/institutionRoles";async function o(e){let{result:t}=await (0,s.Jt)(`${n}/${e}`);return t}async function i(e=1e3){let{results:t,institutionId:r,paging:o}=await (0,s.Jt)((0,s.c$)(n,{limit:e}));return{institutionId:r,institutionRoles:{byId:t.reduce((e,t)=>(e[t.roleId]={id:t.roleId,...t},e),{})},paging:o}}},249312:(e,t,r)=>{"use strict";r.d(t,{E:()=>o,r:()=>n});var s=r(56684);class n extends s.pT{constructor(e){super("/v1/courses/%courseId%/gradebook/attempts/assessments/%assessmentId%/questions/grading-status/summaries",e)}}class o extends s.pT{constructor(e){super("/v1/courses/%courseId%/gradebook/attempts/assessments/%assessmentId%/%questionBlockId%/questions/grading-status/summaries",e)}}},249630:(e,t,r)=>{"use strict";var s;r(542633),r(56684).mj,function(e){e.Waiting="WAITING",e.InProgress="IN_PROGRESS",e.Complete="COMPLETE",e.Error="ERROR",e.CompleteErrors="COMPLETE_ERRORS"}(s||(s={}))},251699:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});let s={ContentCollection:"myContents",Portfolios:"portfolios",Goals:"goals",BlackboardStore:"blackboardStore",EnterpriseSurveys:"enterpriseSurveys",GoalPerformance:"goalPerformance",Observer:"observer",Rubrics:"rubrics",LORCourse:"lorCourse",LORCourses:"lorCourses"}},252145:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(621425),n=r.n(s),o=r(884270),i=r(222096);class a extends n(){static #e=this._loadPromises={};constructor(e,t={defaultLocale:"en",production:!1,urlRoot:""}){super(e,t),this.babelfishInstance=e,this.options=t,this.overrideLoader=i.y.getInstance()}setUltraLocaleData(e){this.options.localeData=e}_load(e){return a._loadPromises[e]||(a._loadPromises[e]=new s.InstantPromise(t=>{r(828601)("./"+e+"/_combined.json").then(e=>t(JSON.parse(e?.default??e))).catch(()=>t(null))})),a._loadPromises[e]}getPreferredLocales(e){return[e].concat(super.getPreferredLocales(this.overrideLoader.getBaseLocale(e)||e))}}!function(e,t,r,s){var n,o=arguments.length,i=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(o<3?n(i):o>3?n(t,r,i):n(t,r))||i);o>3&&i&&Object.defineProperty(t,r,i)}([(0,o.LRUMemoize)(2)],a.prototype,"getPreferredLocales",null)},257500:(e,t,r)=>{"use strict";r.d(t,{N:()=>l});var s=r(139342),n=r(514041),o=r(899473),i=r(843144),a=r(583307);let l=e=>{let t=e.component;return(r,l,u,d)=>{var c,E;e.processValues&&(u=e.processValues(u));let p=(0,a.A)(r,l,u);p.contentEditable="false";let m=e=>{let a=e.localize.getLocalePropsForClone();i.render(n.createElement(s.NPJ,{isRtl:a.isRtl},n.createElement(o.h,{...a},n.createElement(t,{attributes:l,values:u,editorProps:e,node:r}))),p)};m(d),(p.childNodes[0]||p.appendChild(document.createElement("div"))).classList.add("no-longtext"),p.formatComponent=e=>m(e),p.unmountComponent=()=>{e.onUnmountComponent&&e.onUnmountComponent(p),i.unmountComponentAtNode(p)};let g=[...null!=(c=e.additionalRootClasses)?c:[],...null!=(E=u.additionalRootClasses)?E:[]];return p.classList.add("wants-props-update",...g),p}}},258112:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>a,Lt:()=>u,o1:()=>l});var s=r(905898),n=r(645250),o=r(968554),i=r(428555);let a=(0,o.vy)({isLoading:!1,byId:{}},{[i.g.QUESTION_DETAILS_LOAD]:o.r1,[(0,o.ok)(i.g.QUESTION_DETAILS_LOAD)]:(e,t)=>{let r=(0,s.Ay)(e,e=>{let{questionDetails:r}=t;e.byId=r});return(0,o.Zg)(r,t)},[(0,o.fJ)(i.g.QUESTION_DETAILS_LOAD)]:o.Nh}),l={},u={getByAnalysisId:(e,t)=>n.filter(e.questionAnalysis.questionDetails.byId,{analysisId:t})}},262284:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={IMPORT_GROUP_SET:"import.group.set",CLEAR_IMPORT_GROUP_SET_STATUS:"clear.import.group.set",FILE_UPLOAD_GROUP_SET_ERROR:"file.upload.group.set.error",IMPORT_GROUP_MEMBERS:"import.group.members",CLEAR_IMPORT_GROUP_MEMBERS_STATUS:"clear.import.group.members.status",FILE_UPLOAD_GROUP_MEMBERS_ERROR:"file.upload.group.members.error"}},264106:(e,t,r)=>{"use strict";r.d(t,{o1:()=>l,Ff:()=>a,Lt:()=>u});var s=r(905898),n=r(968554);let o={COLUMN_STATISTICS_LOAD:"column-statistics.load"};var i=r(559667);let a=(0,n.vy)({byColumnId:{}},{[o.COLUMN_STATISTICS_LOAD]:(e,t)=>{let r=(0,s.jM)(e,e=>{let{columnId:r}=t;e.byColumnId[r]?e.byColumnId[r].isLoading=!0:e.byColumnId[r]={isLoading:!0}});return(0,n.r1)(r,t)},[(0,n.ok)(o.COLUMN_STATISTICS_LOAD)]:(e,t)=>{let r=(0,s.jM)(e,e=>{let{columnId:r,columnStatistics:s}=t;e.byColumnId[r]={columnStatistics:s,isLoading:!1}});return(0,n.Zg)(r,t)},[(0,n.fJ)(o.COLUMN_STATISTICS_LOAD)]:(e,t)=>{let r=(0,s.jM)(e,e=>{let{columnId:r}=t;e.byColumnId[r]={isLoading:!1}});return(0,n.Nh)(r,t)}}),l={loadColumnStatistics:e=>(0,n.VP)(o.COLUMN_STATISTICS_LOAD,()=>(0,i.m)(e).then(t=>({columnId:e.columnId,columnStatistics:t})).catch(t=>{throw{columnId:e.columnId,err:t}}),{columnId:e.columnId})},u={getColumnStatisticsByColumnId:(e,t)=>{var r;return null==(r=e.columnStatistics.byColumnId[t])?void 0:r.columnStatistics},isColumnStatisticsLoading:(e,t)=>{var r,s;return null!=(s=null==(r=e.columnStatistics.byColumnId[t])?void 0:r.isLoading)&&s}}},271001:(e,t,r)=>{"use strict";r.d(t,{k:()=>s});let s={EDIT_PARTNER_CONTENT:"content-manage.edit.partner-content"}},271218:(e,t,r)=>{"use strict";r.d(t,{J:()=>n,g:()=>s});let s={GOAL_MASTERY_GOAL_PERFORMANCE_BULK_VIEW_LOAD:"goal.mastery.goals.performance.bulk-view.load",GOAL_MASTERY_GOAL_PERFORMANCE_USER_LOAD:"goal.mastery.goals.performance.user.load",GOAL_MASTERY_GOAL_PERFORMANCE_BULK_INVALIDATE:"goal.mastery.goals.performance.bulk.invalidate",GOAL_MASTERY_GOAL_PERFORMANCE_USER_INVALIDATE:"goal.mastery.goals.performance.user.invalidate"},n=e=>!!e&&"contentItems"in e},271979:(e,t,r)=>{"use strict";r(542633),r(169206),r(851711)},273475:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>u,Lt:()=>c,o1:()=>d});var s=r(645250),n=r(968554),o=r(905898),i=r(764209),a=r(487967),l=r(11396);let u=(0,n.vy)({byId:{},isLoading:!1},{[(0,n.ok)(i.g.CONTENT_LOAD)]:(e,t)=>{let r=(0,o.Ay)(e,e=>{let{blogs:r}=t;Object.keys(r||{}).forEach(t=>{e.byId[t]={...r[t],api:{isUpdating:!1,isDeleting:!1}}})});return(0,n.Zg)(r,t)},[l.g.BLOG_LOAD]:n.r1,[(0,n.ok)(l.g.BLOG_LOAD)]:(e,t)=>{let r=(0,o.Ay)(e,e=>{let{blog:r}=t;r&&(e.byId[r.id]=r)});return(0,n.Zg)(r,t)},[(0,n.fJ)(l.g.BLOG_LOAD)]:n.Nh,[(0,n.ok)(i.g.CONTENT_PERSIST)]:(e,t)=>{let r=(0,o.Ay)(e,r=>{let{blogs:s}=t;Object.values(s||{}).forEach(t=>{let s=e.byId[t.id];r.byId[t.id]={...(0,n.rL)(s,t),api:{isUpdating:!1,isDeleting:!1}}})});return(0,n.Zg)(r,t)}}),d={loadBlog:e=>(0,n.VP)(l.g.BLOG_LOAD,async()=>{try{return{blog:await a.zW(e)}}catch(e){throw{err:e}}})},c={getBlogById:(e,t)=>(0,s.find)(e.blog.blogs.byId,{id:t}),canCreateEntry:(e,t)=>{let r=e.blog.blogs.byId[t];return r&&r.permissions.createEntry},canDeleteBlog:(e,t)=>{let r=e.blog.blogs.byId[t];return r&&r.permissions.delete},canModifyBlog:(e,t)=>{let r=e.blog.blogs.byId[t];return r&&r.permissions.modify}}},274643:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={GROUP_SETS_LOAD:"group.sets.load",GROUP_SETS_LOAD_BY_QUERY:"group.sets.load.by.query",GROUP_SETS_LOAD_MORE:"group.sets.load.more",GROUP_SETS_SWITCH_SORT_CRITERIA:"group.sets.switch.sort.criteria",GROUP_SET_ADD:"group.set.add",GROUP_SET_MODIFY:"group.set.modify",GROUP_SET_REMOVE:"group.set.remove",GROUP_SET_MARK_AS_OLD:"group.set.mark.as.old",GROUP_SET_LOAD:"group.set.load",GET_COURSE_CONTEXT:"get.course.context",GET_GROUP_AND_SET_COUNT:"get.group.and.set.count",GET_GROUP_MEMBERSHIP_COUNT:"get.group.membership.count",GROUP_WORKSPACE_RESET_COUNT:"group.workspace.reset.count"}},276636:(e,t,r)=>{"use strict";r.d(t,{$:()=>n,n:()=>o});var s=r(397965);async function n(e,t){return(0,s.Jt)((0,s.c$)("/v1/courses/%courseId%/gradebook/columns/%columnId%/submissionServices",{courseId:e,columnId:t})).then(e=>e.submissionServices)}async function o(e,t,r){if(!e||!t)return Promise.reject();let n=r.uniqueHandle;return(0,s.F6)((0,s.c$)("/v1/courses/%courseId%/gradebook/columns/%columnId%/submissionServices/%uniqueHandle%",{courseId:e,columnId:t,uniqueHandle:n}),r)}},278764:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={COURSE_ENTITLEMENTS_LOAD:"courseEntitlements.load"}},284746:(e,t,r)=>{"use strict";r.d(t,{K5:()=>d,Rf:()=>c,Sr:()=>o,cZ:()=>u,ee:()=>i,lC:()=>a,yX:()=>l});var s=r(56684);let n="/v1/courses/%courseId%/safeassign/directSubmitItems";class o extends s.mj{constructor(e){super(n,e)}}class i extends s.mj{constructor(){super("v1/safeassign/pluginStatus")}}class a extends s.mj{constructor(e){super("/v1/courses/%courseId%/safeassign/pluginStatus",e)}}class l extends s.u4{constructor(e){super(n,e)}}class u extends s.u4{constructor(e){super(n,e)}}class d extends s.w_{constructor(e){super("/v1/courses/%courseId%/safeassign/directSubmitItems/batchDelete",e)}}class c extends s.w_{constructor(e){super("/v1/courses/%courseId%/safeassign/suggestedUrls",e)}}},287627:(e,t,r)=>{"use strict";r.d(t,{$X:()=>u,FK:()=>g,Jk:()=>I,QR:()=>y,V0:()=>A,cB:()=>c,kz:()=>p,mj:()=>l,pT:()=>d,u4:()=>_,w_:()=>h});var s=r(781384),n=r(16894),o=r(542633);class i extends n.ud{getUrl(){let e=super.getRelativeUrl();return e&&(e=e.startsWith("/")?e:`/${e}`),o.tU.getUrl(this.getApiBasePath()+e)}getApiBasePath(){return"/learn/api"}requiresSession(){return!0}toString(){return`[LearnApiRequest: ${this.method} ${this.getUrl()}]`}async failed(e){throw new s.om(await e.json())}}class a extends i{withFields(...e){return this.withQuery({fields:e})}}class l extends i{constructor(e,t){super(o.ym.Get,e,t)}}class u extends a{constructor(e,t){super(o.ym.Get,e,t)}}class d extends l{withPaging(e){return this.withQuery({limit:e.limit,offset:e.offset,...e.offsetId?{offsetId:e.offsetId}:{}})}withSort(...e){return this.withQuery({sort:(null!=e?e:[]).map(e=>`${e.field}(${e.direction})`)})}async validate(){await super.validate(),this.query.has("limit")||this.query.has("offset")||console.warn(`Attempting to get paged collection at ${this.path} without a filter, this might be a performance issue.`)}}class c extends i{constructor(e,t,r){super(e,t,r),this.getContentType()&&this.headers.set(n.kF,this.getContentType())}getRequestInit(){return Object.assign(super.getRequestInit(),{body:this.getBodyInit()})}withBody(e){return this.body=e,this}validate(){return super.validate().then(()=>{if(void 0===this.body)throw new s.R9("Request requires a body but none was provided")})}getBody(){return this.body}}class E extends c{getContentType(){return"application/json"}getBodyInit(){return JSON.stringify(this.body)}}class p extends i{constructor(e,t){super(o.ym.Post,e,t)}}class m extends c{getContentType(){return null}getBodyInit(){var e;let t=new FormData;return Object.keys(null!=(e=this.body)?e:{}).forEach(e=>{var r,s;t.append(e,null!=(s=null==(r=this.body)?void 0:r[e])?s:"")}),t}}class g extends i{constructor(e,t){super(o.ym.Delete,e,t)}}class y extends E{constructor(e,t){super(o.ym.Patch,e,t)}}class I extends E{constructor(e,t){super(o.ym.Put,e,t)}}class A extends i{constructor(e,t){super(o.ym.Put,e,t)}}class h extends E{constructor(e,t){super(o.ym.Post,e,t)}}class _ extends m{constructor(e,t){super(o.ym.Post,e,t)}}},294007:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});let s={LTI:"lti",LTI_LAUNCH:"lti.launch",LTI_LAUNCH_CLOUD_CREATE:"lti.launch-cloud-create",LTI_LAUNCH_FRAME:"lti.launch-frame",LTI_LAUNCH_PEEK:"lti.launch-peek",LTI_EDIT:"content-manage.edit.lti",LTI_EDIT_PLACEMENT:"content-manage.edit.placement",LTI_EDIT_CLOUD_DOCUMENT:"cloud-document-edit"}},294268:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});var s=r(397965);async function n(e,t){let r=(0,s.c$)("/v1/courses/%courseId%/imports",e);return(0,s.bE)(r,t)}},294526:(e,t,r)=>{"use strict";r.d(t,{B$:()=>n,Bz:()=>i,Fw:()=>o});var s=r(56684);s.w_,s.w_,s.QR;class n extends s.QR{constructor(e){super("v1/courses/%courseId%/discussionboards/default/forums/%forumId%/messages/%messageId%/states",e)}}class o extends s.mj{constructor(e){super("v1/courses/%courseId%/discussionboards/default/forums/%forumId%/messages/%messageId%/states",e)}}class i extends s.w_{constructor(e){super("v1/courses/%courseId%/discussionboards/default/forums/%forumId%/messages/%messageId%/reveal",e)}}},294851:(e,t,r)=>{"use strict";r(56684).w_},295092:(e,t,r)=>{"use strict";r.d(t,{MJ:()=>u,r7:()=>l,sV:()=>d});var s=r(139552),n=r(443873),o=r(732583),i=r(750609);let a=(0,s.Ad)(n.UI,o.Y_),l=e=>null==e||!e.api||!e.api.isUpdating&&!!e.api.isInvalidated,u=a((e,t,r)=>{let s=(0,i._P8)(r),n=s?r.gradeIds:r.membershipIds,o=e.gradebookGrade.byColumnId[t];if(!o)return r;let a=n.filter(e=>{if(void 0===(s?o.grades:o.byMemberId)[e])return!0;let t=s?e:o.byMemberId[e];if(!t)return!1;let r=o.grades[t];return!!s&&null!=r&&!!r.lastAttemptUrl&&(null==r||!r.lastAttemptId)||l(r)});return s?{gradeIds:a}:{membershipIds:a}},e=>e),d=a((e,t,r)=>{let s=e.gradebookGrade.byColumnId[t];if(!s)return{};let n=s.byMemberId,o=s.grades,a={},l=(0,i._P8)(r);return(l?r.gradeIds:r.membershipIds).forEach(e=>{let t=l?e:n[e];if(t){let r=o[t];r&&(a[e]=r)}}),a},e=>e)},295124:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});let s={CALENDAR_SETTINGS:"calendar-settings",CREATE_EVENT:"event-create",COURSE_SCHEDULE:"class-schedule",EDIT_EVENT:"event-edit",OFFICE_HOURS:"office-hours",VIEW_EVENT:"event-view"}},304943:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s={analyticsEventAugmentor:r(939067).PropTypes.func.isRequired}},305190:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>a,Lt:()=>u,o1:()=>l});var s=r(262284),n=r(968554),o=r(905898),i=r(750609);let a=(0,n.vy)({byCourseId:{},isLoading:!1},{[s.g.IMPORT_GROUP_MEMBERS]:n.r1,[(0,n.ok)(s.g.IMPORT_GROUP_MEMBERS)]:(e,t)=>{let r=(0,o.Ay)(e,e=>{e.byCourseId[t.courseId]={responseStatus:"SUCCESS"}});return(0,n.Zg)(r,t)},[(0,n.fJ)(s.g.IMPORT_GROUP_MEMBERS)]:(e,t)=>{let r=(0,o.Ay)(e,e=>{e.byCourseId[t.courseId]={responseStatus:"ERROR",responseCode:t.err.body.code}});return(0,n.Nh)(r,t)},[(0,n.ok)(s.g.CLEAR_IMPORT_GROUP_MEMBERS_STATUS)]:(e,t)=>{let r=(0,o.Ay)(e,e=>{e.byCourseId[t.courseId]={responseStatus:"NONE",responseCode:void 0}});return(0,n.Zg)(r,t)},[(0,n.fJ)(s.g.FILE_UPLOAD_GROUP_MEMBERS_ERROR)]:(e,t)=>{let r=(0,o.Ay)(e,e=>{e.byCourseId[t.courseId]={responseStatus:"ERROR"}});return(0,n.Nh)(r,t)}}),l={importGroupMembers:(e,t)=>(0,n.VP)(s.g.IMPORT_GROUP_MEMBERS,async()=>{try{return await (0,i.Dg6)(e,t),{courseId:e}}catch(t){throw{err:t,courseId:e}}}),clearImportGroupMembersStatus:e=>(0,n.rc)((0,n.ok)(s.g.CLEAR_IMPORT_GROUP_MEMBERS_STATUS),{courseId:e}),setFileUploadGroupMembersError:(e,t)=>(0,n.rc)((0,n.fJ)(s.g.FILE_UPLOAD_GROUP_MEMBERS_ERROR),{courseId:e,error:t})},u={getImportGroupMembersStatus:(e,t)=>e.groupMembersImport.byCourseId[t]}},306611:(e,t,r)=>{"use strict";r.d(t,{g:()=>s,l:()=>n});let s={COLUMN_SUMMARY_LOAD:"column-summary.load",COLUMN_SUMMARY_SET_LOADING:"column-summary.set.loading",COLUMN_SUMMARY_LOAD_MULTIPLE:"column-summary.multiple.load",COLUMN_SUMMARY_INVALIDATE:"column-summary-invalidate",COLUMN_SUMMARIES_OVERVIEW_LOAD_BY_QUERY:"column-summaries-overview.load.by.query",COLUMN_SUMMARIES_OVERVIEW_LOAD_COUNTS:"column-summaries-overview.load.counts",COLUMN_SUMMARY_INVALIDATE_BY_COURSE_ID:"column-summary-invalidate.by.course.id"};function n(e,t){return void 0!==e[t]}},306668:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>E,o1:()=>p});var s=r(905898),n=r(645250),o=r(968554),i=r(608719),a=r(758247),l=r(144978),u=r(588335),d=r(300474);let c={announcements:{},isLoading:!1,isSearchingSuccessful:null,searchInputState:{searchText:"",isCollapsed:!0},paging:null,announcementsCounts:{},courseContext:{id:"",courseId:"",permissions:{chooseUltraStatus:!1,export:!1,archive:!1,viewAutoArchive:!1,edit:!1,editName:!1,editAvailability:!1,editClosed:!1,editBanner:!1,editBannerVisibility:!1,copy:!1,convert:!1,import:!1,editLocale:!1,editDuration:!1,editTerm:!1,delete:!1,viewEnrollments:!1,messagesEnabled:!1}},announcement:null,detailPanelState:{},sortCriteria:[{field:i.Dn4.StartDateRestriction,direction:i.UEL.Descending}],listener:{refreshAnnouncementsCounts:!1,refreshAnnouncements:!1,resetSearchSetting:!1,resetSortSetting:!1},recentUpdatedAnnouncementIds:[]},E=(0,o.vy)(c,{[u.gK.ANNOUNCEMENT_LOAD]:(e,t)=>(0,o.r1)(e,t,{isSearchingSuccessful:null}),[(0,o.ok)(u.gK.ANNOUNCEMENT_LOAD)]:(e,t)=>(0,o.Zg)(e,t,{announcements:t.announcements,paging:t.paging,listener:{...e.listener,refreshAnnouncements:!1,resetSearchSetting:!1,resetSortSetting:!1}}),[(0,o.ok)(u.gK.ANNOUNCEMENT_LOAD_MORE)]:(e,t)=>(0,o.Zg)(e,t,{announcements:{...e.announcements,...t.announcements}}),[(0,o.ok)(u.gK.ANNOUNCEMENT_SEARCH)]:(e,t)=>(0,o.Zg)(e,t,{isSearchingSuccessful:!0}),[(0,o.fJ)(u.gK.ANNOUNCEMENT_LOAD)]:(e,t)=>(0,o.Nh)(e,t,{announcements:{},paging:null}),[(0,o.fJ)(u.gK.ANNOUNCEMENT_SEARCH)]:(e,t)=>(0,o.Nh)(e,t,{isSearchingSuccessful:!1}),[u.gK.CHANGE_SEARCH_INPUT_STATE]:(e,t)=>({...e,searchInputState:t.searchInputState}),[u.gK.CHANGE_ANNOUNCEMENT_PANEL_STATE]:(e,t)=>({...e,detailPanelState:t.detailPanelState}),[(0,o.ok)(u.gK.ANNOUNCEMENT_SAVE)]:(e,t)=>{let r=e.recentUpdatedAnnouncementIds;return t.announcement&&-1===r.indexOf(t.announcement.id)&&(r=[...e.recentUpdatedAnnouncementIds,t.announcement.id]),(0,o.Zg)(e,t,{announcements:{...e.announcements,[t.announcement.id]:{...t.announcement,isDraft:!1}},announcement:t.announcement,listener:{...e.listener,refreshAnnouncementsCounts:!0,resetSortSetting:!0,refreshAnnouncements:!0},recentUpdatedAnnouncementIds:r})},[(0,o.fJ)(u.gK.ANNOUNCEMENT_SAVE)]:(e,t)=>(0,o.Nh)(e,t,{}),[(0,o.ok)(u.gK.ANNOUNCEMENT_REMOVE)]:(e,t)=>(0,o.Zg)(e,t,{announcements:n.omit(e.announcements,t.announcementId),listener:{...e.listener,refreshAnnouncementsCounts:!0}}),[(0,o.fJ)(u.gK.ANNOUNCEMENT_REMOVE)]:(e,t)=>(0,o.Nh)(e,t,{}),[(0,o.ok)(u.gK.UPDATE_COURSE_ANNOUNCEMENTS_READ_STATUS)]:(e,t)=>(0,o.Zg)(e,t,{announcements:{...e.announcements,[t.announcement.id]:t.announcement},listener:{...e.listener,refreshAnnouncementsCounts:!0,resetSortSetting:!0,refreshAnnouncements:!0}}),[(0,o.ok)(u.gK.GET_COURSE_CONTEXT)]:(e,t)=>(0,o.Zg)(e,t,{courseContext:t.courseContext}),[(0,o.fJ)(u.gK.GET_COURSE_CONTEXT)]:(e,t)=>(0,o.Nh)(e,t,{courseContext:{}}),[(0,o.ok)(u.gK.GET_AN_ANNOUNCEMENT)]:(e,t)=>(0,o.Zg)(e,t,{announcement:t.announcement}),[(0,o.fJ)(u.gK.GET_AN_ANNOUNCEMENT)]:(e,t)=>(0,o.Nh)(e,t,{announcement:{}}),[u.gK.SWITCH_SORT_CRITERIA]:(e,t)=>({...e,sortCriteria:t.sortCriteria}),[u.gK.ANNOUNCEMENT_CLEAR]:(e,t)=>({...c}),[u.gK.REMOVE_FROM_RECENT_UPDATED]:(e,t)=>(0,s.Ay)(e,e=>{e.recentUpdatedAnnouncementIds.length>0&&n.remove(e.recentUpdatedAnnouncementIds,e=>e===t.id)})}),p={loadAnnouncements:(e,t,r=!1)=>(0,o.RA)((s,n)=>m(n())?(s((0,o.rc)(u.gK.ANNOUNCEMENT_LOAD)),(0,l.Xh)({courseId:e,filter:{searchText:t.searchText},paging:t.paging,sort:t.sort}).then(e=>(r?s((0,o.rc)((0,o.ok)(u.gK.ANNOUNCEMENT_LOAD_MORE),{...e})):(s((0,o.rc)((0,o.ok)(u.gK.ANNOUNCEMENT_LOAD),{...e})),t.searchText&&s((0,o.rc)((0,o.ok)(u.gK.ANNOUNCEMENT_SEARCH)))),e),e=>(s((0,o.rc)((0,o.ok)(a.A.APP_ERROR),{error:e})),s((0,o.rc)((0,o.fJ)(u.gK.ANNOUNCEMENT_LOAD),{err:e})),t.searchText&&s((0,o.rc)((0,o.fJ)(u.gK.ANNOUNCEMENT_SEARCH))),Promise.resolve(null)))):Promise.resolve(null)),changeSearchInputState:e=>(0,o.rc)(u.gK.CHANGE_SEARCH_INPUT_STATE,{searchInputState:e}),changeReadStatusAnnouncement:(e,t,r)=>(0,o.RA)((s,n)=>(0,l.f9)(e,t.id,r).then(()=>{s((0,o.rc)((0,o.ok)(u.gK.UPDATE_COURSE_ANNOUNCEMENTS_READ_STATUS),{announcement:{...t,readStatus:{isRead:r}}}))},e=>{s((0,o.rc)((0,o.fJ)(u.gK.UPDATE_COURSE_ANNOUNCEMENTS_READ_STATUS))),s((0,o.rc)((0,o.ok)(a.A.APP_ERROR),{error:e}))})),saveAnnouncement:(e,t)=>(0,o.RA)((r,s)=>(0,l.cD)(e,t).then(t=>{r((0,o.rc)((0,o.ok)(u.gK.ANNOUNCEMENT_SAVE),{courseId:e,announcement:t.announcement}))},e=>{r((0,o.rc)((0,o.ok)(a.A.APP_ERROR),{error:e})),r((0,o.rc)((0,o.fJ)(u.gK.ANNOUNCEMENT_SAVE),{err:e}))})),removeAnnouncement:(e,t)=>(0,o.RA)((r,s)=>(0,l.xI)(e,t).then(s=>{r((0,o.rc)((0,o.ok)(u.gK.ANNOUNCEMENT_REMOVE),{courseId:e,announcementId:t}))},e=>{r((0,o.rc)((0,o.ok)(a.A.APP_ERROR),{error:e})),r((0,o.rc)((0,o.fJ)(u.gK.ANNOUNCEMENT_REMOVE),{err:e}))})),getCourseContext:e=>(0,o.RA)((t,r)=>(0,l.P3)(e).then(e=>{t((0,o.rc)((0,o.ok)(u.gK.GET_COURSE_CONTEXT),{...e}))},e=>{t((0,o.rc)((0,o.ok)(a.A.APP_ERROR),{error:e})),t((0,o.rc)((0,o.fJ)(u.gK.GET_COURSE_CONTEXT),{err:e}))})),getAnnouncement:(e,t,r=!1)=>(0,o.RA)((s,n)=>(0,l.Wy)(e,t,r).then(e=>{s((0,o.rc)((0,o.ok)(u.gK.GET_AN_ANNOUNCEMENT),{...e}))},e=>{let t=(0,d.xt)(e);(0,d.rh)(t,[i.t3V.NotFound])||s((0,o.rc)((0,o.ok)(a.A.APP_ERROR),{error:e})),s((0,o.rc)((0,o.fJ)(u.gK.GET_AN_ANNOUNCEMENT),{err:e}))})),changeAnnouncementPanelState:e=>(0,o.rc)(u.gK.CHANGE_ANNOUNCEMENT_PANEL_STATE,{detailPanelState:e}),switchSortCriteria:e=>(0,o.rc)(u.gK.SWITCH_SORT_CRITERIA,{sortCriteria:e}),clearAnnouncements:()=>(0,o.rc)(u.gK.ANNOUNCEMENT_CLEAR),removeFromRecentUpdated:e=>(0,o.rc)(u.gK.REMOVE_FROM_RECENT_UPDATED,{id:e})},m=e=>!e.announcement.isLoading},306978:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,U:()=>o});let s=!1,n=e=>{if(!s||!e)return!1;let t=Array.from(document.querySelectorAll(".bb-editor-root")).find(t=>t.contains(e));return t&&t.shouldEnableDemoMashup},o=()=>{s=!0}},307444:(e,t,r)=>{"use strict";r.d(t,{o1:()=>y,Ff:()=>g,Lt:()=>I});var s=r(645250);let n="none",o={LOAD_ACTIVITY_CRITERIA_OPTIONS:"LOAD_ACTIVITY_CRITERIA_OPTIONS"};var i=r(968554),a=r(612918),l=r(905898),u=r(825271),d=r(853400),c=r(608719);let E=(0,d.Y)(c.y9J,u.dZ),p=(e,t)=>{let r=Object.keys(e.views).find(r=>{let n=e.views[r];return(0,s.isEqual)(n.query,t)});return r?{id:r,view:e.views[r]}:i.Vc},m=()=>["views"],g=(0,i.vy)({byActivityCriteriaOptId:{},views:{}},{[o.LOAD_ACTIVITY_CRITERIA_OPTIONS]:(0,a.FV)(p,m,a.vq),[(0,i.ok)(o.LOAD_ACTIVITY_CRITERIA_OPTIONS)]:(e,t)=>{let{paging:r,values:s}=t,o=Object.values(null!=s?s:{}).map(t=>{var r,s;let o=null!=(r=t.contentId)?r:n,l=null!=(s=t.gradebookColumnId)?s:n,u=`${o}#${l}`,d=e.byActivityCriteriaOptId[u],c={...(0,i.rL)(null==d?void 0:d.value,t),activityCriteriaOptionId:u};return{id:u,activityCriteriaWithStatus:{value:c,status:(0,a.Lx)(a.hu.Load,d,a.U8)}}}),u=(0,l.Ay)(e,e=>{for(let{id:t,activityCriteriaWithStatus:r}of o)e.byActivityCriteriaOptId[t]=r}),d=o.map(({id:e})=>e);return(0,a.FV)(p,m,a.y_,{values:d,paging:r})(u,t)},[(0,i.fJ)(o.LOAD_ACTIVITY_CRITERIA_OPTIONS)]:(0,a.FV)(p,m,a.JL)}),y={loadActivityCriteriaOptions:e=>(0,i.Vy)(o.LOAD_ACTIVITY_CRITERIA_OPTIONS,async()=>{try{let{results:t,paging:r}=await E(e);return{query:e,values:t,paging:r}}catch(t){throw new i.GS(t).setData({query:e})}},{data:{query:e},condition:(t,{getState:r})=>{var s;let n=r();return!!e&&(0,a.qO)(null==(s=I.getActivityCriteriaOptionsWithView(n.activityCriteriaOptions,e))?void 0:s.status)}})},I={getActivityCriteriaOptionsWithView:(e,t)=>{var r,s;let n=p(e,t);if(!(null==n?void 0:n.id))return;let o=e.views[n.id],i=null!=(s=null==(r=o.values)?void 0:r.map(t=>{var r;return null==(r=e.byActivityCriteriaOptId[t])?void 0:r.value}).filter(e=>!!e))?s:[];return{...o,results:i}}}},314401:(e,t,r)=>{"use strict";r.d(t,{o1:()=>l,Ff:()=>a,Lt:()=>u});var s=r(968554),n=r(905898);let o={EXPORT_GROUP_SET:"export.group.set",CLEAR_EXPORT_GROUP_SET_STATUS:"clear.export.group.set.status",GET_EXPORTED_FILES:"get.exported.files",DELETE_EXPORTED_FILE:"delete.exported.file"};var i=r(750609);let a=(0,s.vy)({byCourseId:{},isLoading:!1},{[o.EXPORT_GROUP_SET]:s.r1,[(0,s.ok)(o.EXPORT_GROUP_SET)]:(e,t)=>{let r=(0,n.Ay)(e,e=>{e.byCourseId[t.courseId]={byGroupSetId:{},responseStatus:"SUCCESS",ui:{source:t.source}}});return(0,s.Zg)(r,t)},[(0,s.fJ)(o.EXPORT_GROUP_SET)]:(e,t)=>{let r=(0,n.Ay)(e,e=>{e.byCourseId[t.courseId]={byGroupSetId:{},responseStatus:"ERROR",ui:{source:t.source}}});return(0,s.Nh)(r,t)},[(0,s.ok)(o.CLEAR_EXPORT_GROUP_SET_STATUS)]:(e,t)=>{let r=(0,n.Ay)(e,e=>{e.byCourseId[t.courseId]={byGroupSetId:{},responseStatus:"NONE",ui:{source:t.source}}});return(0,s.Zg)(r,t)},[o.GET_EXPORTED_FILES]:s.r1,[(0,s.ok)(o.GET_EXPORTED_FILES)]:(e,t)=>{let r=(0,n.Ay)(e,e=>{e.byCourseId[t.courseId]||(e.byCourseId[t.courseId]={byGroupSetId:{}}),e.byCourseId[t.courseId].byGroupSetId[t.groupSetId]={files:t.payload.results,paging:t.payload.paging}});return(0,s.Zg)(r,t)},[(0,s.fJ)(o.GET_EXPORTED_FILES)]:s.Nh,[o.DELETE_EXPORTED_FILE]:s.r1,[(0,s.ok)(o.DELETE_EXPORTED_FILE)]:s.Zg,[(0,s.fJ)(o.DELETE_EXPORTED_FILE)]:s.Nh}),l={exportGroupSet:(e,t,r,n)=>(0,s.VP)(o.EXPORT_GROUP_SET,async()=>{try{return await (0,i.dy8)(e,t,r),{courseId:e,groupSetId:t,source:n}}catch(r){throw{err:r,courseId:e,groupSetId:t,source:n}}}),clearExportGroupSetStatus:e=>(0,s.rc)((0,s.ok)(o.CLEAR_EXPORT_GROUP_SET_STATUS),{courseId:e}),getExportedFiles:(e,t,r)=>(0,s.VP)(o.GET_EXPORTED_FILES,async()=>{try{let s=await (0,i.zY5)(e,t,r);return{courseId:e,groupSetId:t,payload:s}}catch(r){throw{err:r,courseId:e,groupSetId:t}}}),deleteFile:(e,t,r)=>(0,s.VP)(o.DELETE_EXPORTED_FILE,async()=>{try{await (0,i.cZP)(e,t,r)}catch(e){throw{err:e}}})},u={getExportGroupSet:(e,t)=>e.groupSetExport.byCourseId[t]}},314557:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={QUESTION_ATTEMPT_CHAT_MESSAGE_SEND:"question.attempt.chat.message.send",QUESTION_ATTEMPT_CHAT_MESSAGE_RETRY:"question.attempt.chat.message.retry",QUESTION_ATTEMPT_CHAT_POLL:"question.attempt.chat.poll"}},315463:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var s=r(608719);async function n(e,t,r){let n=await (0,s.SON)(e,t,r),o=Array.isArray(n.results)?n.results:[],i=o.length>0?o[o.length-1]:void 0,a=null==i?void 0:i.openUrl;if(a){let e=a.split("/").pop()||"export.zip";return{openUrl:a,fileName:e}}throw Error("Open URL is missing in the export result.")}},316581:(e,t,r)=>{"use strict";r.d(t,{o1:()=>c,Ff:()=>d,Lt:()=>E});var s=r(905898),n=r(645250),o=r(968554),i=r(397965);async function a(e){let t=await (0,i.Jt)((0,i.c$)("/v1/courses/%courseId%/ultraConversionReports/%taskId%/summary",e));return{courseId:t.courseId,courseName:t.courseName,tasks:{[t.taskId]:{risks:t.risks.reduce((e,t)=>(e[t.riskClassification.toLowerCase()]={count:t.count,messages:t.exceptionMessages.reduce((e,t)=>(e[t.name]={count:t.count},e),{})},e),{})}}}}async function l(e){let t=await (0,i.Jt)((0,i.c$)("/v1/courses/%courseId%/ultraConversionReports/%taskId%/messages",e)),r=t.results;for(;t.paging.nextPage;)t=await (0,i.Jt)("/"+t.paging.nextPage.split("/").slice(3).join("/")),r=r.concat(t.results);return{courseId:e.courseId,tasks:{[e.taskId]:r.reduce((e,t)=>{let r=t.riskClassification?t.riskClassification.toLowerCase():"null";return e[r]=e[r]||{},e[r][t.message]=e[r][t.message]||[],e[r][t.message].push(t),e},{})}}}let u={CONVERSION_SUMMARY_LOAD:"conversion.summary.load",CONVERSION_MESSAGES_LOAD:"conversion.messages.load"},d=(0,o.vy)({conversionSummaries:{},conversionMessages:{},isLoading:!1},{[u.CONVERSION_SUMMARY_LOAD]:(e,t)=>(0,o.r1)(e,t),[(0,o.ok)(u.CONVERSION_SUMMARY_LOAD)]:(e,t)=>{let r={};return t&&t.data&&(r={conversionSummaries:{[t.data.courseId]:t.data}}),(0,s.jM)((0,o.Zg)(e,t),e=>{n.merge(e,r)})},[(0,o.fJ)(u.CONVERSION_SUMMARY_LOAD)]:(e,t)=>(0,o.Nh)(e,t),[u.CONVERSION_MESSAGES_LOAD]:(e,t)=>(0,o.r1)(e,t),[(0,o.ok)(u.CONVERSION_MESSAGES_LOAD)]:(e,t)=>{let r={};return t&&t.data&&(r={conversionMessages:{[t.data.courseId]:t.data}}),(0,s.jM)((0,o.Zg)(e,t),e=>{n.merge(e,r)})},[(0,o.cw)(u.CONVERSION_MESSAGES_LOAD)]:(e,t)=>{let{courseId:r,taskId:n}=t,i=(0,s.jM)(e,e=>{e.conversionMessages[r]&&e.conversionMessages[r].tasks||(e.conversionMessages[r]={courseId:r,tasks:{}}),e.conversionMessages[r].tasks[n]={}});return(0,o.Zg)(i,t)},[(0,o.fJ)(u.CONVERSION_MESSAGES_LOAD)]:(e,t)=>(0,o.Nh)(e,t)}),c={loadSummary:e=>(0,o.VP)(u.CONVERSION_SUMMARY_LOAD,t=>{let{courseId:r,taskId:s}=e;return!function(e,t,r){return!e.courseConversion.conversionSummaries[t]||!e.courseConversion.conversionSummaries[t].tasks[r]}(t(),r,s)?Promise.resolve(null):a({courseId:r,taskId:s}).then(e=>({data:e}))}),loadMessages:(e,t)=>(0,o.VP)(u.CONVERSION_MESSAGES_LOAD,t=>{let{courseId:r,taskId:s}=e;return!function(e,t,r){return!e.courseConversion.conversionMessages[t]||!e.courseConversion.conversionMessages[t].tasks[r]}(t(),r,s)?Promise.resolve(null):l({courseId:r,taskId:s}).then(e=>({courseId:r,taskId:s,data:e})).catch(e=>{throw{err:e}})},e,t)},E={getConversionSummaryById:(e,t,r)=>e.courseConversion.conversionSummaries[t]&&e.courseConversion.conversionSummaries[t].tasks[r],getConversionMessagesById:(e,t,r)=>e.courseConversion.conversionMessages[t]&&e.courseConversion.conversionMessages[t].tasks[r],getRawConversionMessagesByTaskIds:(e,t,r)=>{let s=e.courseConversion.conversionMessages[t]&&e.courseConversion.conversionMessages[t].tasks;return n.transform(s,(e,t,s)=>{if(r.indexOf(s)>-1){let r=n.transform(t,(e,t)=>{let r=n.values(t);n.flatten(r).forEach(t=>{e.push(t)})},[]);e[s]=r}},{})}}},319308:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});var s=r(645250);function n(e,t,r){for(let n=0;n<r.length;n++){let o=r[n];if(o in e!=o in t)return!1;let i=typeof e[o];if(i!==typeof t[o])return!1;if("object"===i&&null!==e[o]&&null!==t[o]){if(!(0,s.isEqual)(e[o],t[o]))return!1;continue}if(e[o]!==t[o])return!1}return!0}},320948:(e,t,r)=>{"use strict";r(828851)},321672:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=e=>{let t=!1,r=new Promise((r,s)=>{e.then(e=>t||r(e)).catch(e=>t||s(e))});return{then(e){return r.then(e),this},catch(e){return r.catch(e),this},cancel(){t=!0}}}},322327:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(877973);let n=(0,s.n9)(e=>(0,s.rU)({multiSelectContainer:{backgroundColor:e.palette.background.b1,paddingLeft:"12px",overflowX:"hidden",maxHeight:"130px","&.with-scroll":{overflowY:"scroll"}},divider:{marginRight:"0",marginBottom:"3px"},MultiselectCheckbox:{width:"100%","& fieldset":{width:"100%"}},multiselectFormControl:{"&.MuiFormControl-root":{width:"100%"}},list:{width:"100%"},listItem:{paddingTop:"0",paddingBottom:"0"}}))},323607:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var s=r(56684);class n extends s.mj{constructor(e){super("/v1/tools/%toolId%",e)}}},323691:(e,t,r)=>{"use strict";r.d(t,{Gq:()=>i,d$:()=>a,oC:()=>o});var s=r(608719),n=r(825271);async function o(e){let{courseId:t,columnId:r,groupAssociationIds:o}=e;return await (0,s.Q5)(n.dZ,{courseId:t,columnId:r},{groupAssociationIds:o})}async function i(e,t,r){return await (0,s.w6f)(n.dZ,{courseId:e,columnId:t,groupAssociationId:r})}function a(e,t,r,o){return(0,s.awz)(n.dZ,{courseId:e,columnId:t,groupAssociationId:r},o)}},326153:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>E,Lt:()=>y,o1:()=>g});var s=r(905898),n=r(645250),o=r(968554),i=r(481367),a=r(608719),l=r(758247),u=r(353170),d=r(44564),c=r(300474);let E=(0,o.vy)({institutionBrands:{byId:{}},brandAssociations:{byId:{}},brandHosts:{hostnames:[],paging:null,isLoading:!1},paging:null,permissions:null,isLoading:!1},{[u.g.INSTITUTION_BRANDS_LOAD]:o.r1,[(0,o.ok)(u.g.INSTITUTION_BRANDS_LOAD)]:(e,t)=>{if(!t||!t.institutionBrands)return(0,o.Zg)(e,t);let{permissions:r,paging:n}=t,i=m(e,t);return(0,s.Ay)(i,e=>{e.isLoading=!1,e.paging=n,e.permissions=r})},[(0,o.fJ)(u.g.INSTITUTION_BRANDS_LOAD)]:o.Nh,[u.g.INSTITUTION_BRAND_LOAD]:o.r1,[(0,o.ok)(u.g.INSTITUTION_BRAND_LOAD)]:(e,t)=>(t&&t.institutionBrands&&(e=m(e,t)),(0,o.Zg)(e,t)),[(0,o.fJ)(u.g.INSTITUTION_BRAND_LOAD)]:o.Nh,[(0,o.ok)(u.g.INSTITUTION_BRAND_CREATE)]:(e,t)=>m(e,t),[(0,o.fJ)(u.g.INSTITUTION_BRAND_CREATE)]:o.Nh,[u.g.INSTITUTION_BRANDS_UPDATE]:(e,t)=>{let{ultraBranding:r,brandAssociations:o}=t,i=r.id,a=e;return a=(0,s.Ay)(a,e=>{e.institutionBrands.byId[i]||(e.institutionBrands.byId[i]={}),e.institutionBrands.byId[i].api||(e.institutionBrands.byId[i].api={}),e.institutionBrands.byId[i].api.isUpdating=!0}),(0,n.filter)(e.brandAssociations.byId,{brandId:i}).forEach(e=>{a=(0,n.find)(o,{id:e.id})?(0,s.Ay)(a,t=>{t.brandAssociations.byId[e.id]||(t.brandAssociations.byId[e.id]={}),t.brandAssociations.byId[e.id].api||(t.brandAssociations.byId[e.id].api={}),t.brandAssociations.byId[e.id].api.isUpdating=!0}):(0,s.Ay)(a,t=>{t.brandAssociations.byId[e.id]||(t.brandAssociations.byId[e.id]={}),t.brandAssociations.byId[e.id].api||(t.brandAssociations.byId[e.id].api={}),t.brandAssociations.byId[e.id].api.isDeleting=!0})}),a},[(0,o.ok)(u.g.INSTITUTION_BRANDS_UPDATE)]:(e,t)=>{let{institutionBrands:r,brandAssociations:o}=t,i=Object.keys(r.byId)[0],a=e,l=(0,n.chain)(e.brandAssociations.byId).filter({brandId:i}).filter(e=>!o.byId[e.id]).value();return m(a=(0,s.Ay)(a,e=>{l.forEach(t=>{delete e.brandAssociations.byId[t.id]})}),t)},[(0,o.fJ)(u.g.INSTITUTION_BRANDS_UPDATE)]:(e,t)=>{let{brandWithAssociations:r}=t,i=e;if(r){let t=r.ultraBranding.id,o=(0,n.filter)(e.brandAssociations.byId,{brandId:t});i=(0,s.Ay)(i,e=>{o.forEach(t=>{e.brandAssociations.byId[t.id]||(e.brandAssociations.byId[t.id]={}),e.brandAssociations.byId[t.id].api={isDeleting:!1,isUpdating:!1}}),e.institutionBrands.byId[t]||(e.institutionBrands.byId[t]={}),e.institutionBrands.byId[t].api||(e.institutionBrands.byId[t].api={}),e.institutionBrands.byId[t].api.isUpdating=!1})}return(0,o.Nh)(i,t)},[u.g.INSTITUTION_BRAND_DELETE]:(e,t)=>{let{brandId:r}=t,o=(0,n.filter)(e.brandAssociations.byId,{brandId:r});return(0,s.Ay)(e,e=>{o.forEach(t=>{e.brandAssociations.byId[t.id]||(e.brandAssociations.byId[t.id]={}),e.brandAssociations.byId[t.id].api||(e.brandAssociations.byId[t.id].api={}),e.brandAssociations.byId[t.id].api.isDeleting=!0}),e.institutionBrands.byId[r]||(e.institutionBrands.byId[r]={}),e.institutionBrands.byId[r].api||(e.institutionBrands.byId[r].api={}),e.institutionBrands.byId[r].api.isDeleting=!0})},[(0,o.ok)(u.g.INSTITUTION_BRAND_DELETE)]:(e,t)=>{let{brandId:r}=t,o=(0,n.filter)(e.brandAssociations.byId,{brandId:r});return(0,s.Ay)(e,e=>{o.forEach(t=>{delete e.brandAssociations.byId[t.id]}),delete e.institutionBrands.byId[r]})},[(0,o.fJ)(u.g.INSTITUTION_BRAND_DELETE)]:(e,t)=>{let{brandId:r}=t,i=(0,n.filter)(e.brandAssociations.byId,{brandId:r}),a=e;return a=(0,s.Ay)(a,e=>{i.forEach(t=>{e.brandAssociations.byId[t.id]||(e.brandAssociations.byId[t.id]={}),e.brandAssociations.byId[t.id].api||(e.brandAssociations.byId[t.id].api={}),e.brandAssociations.byId[t.id].api.isDeleting=!1}),e.institutionBrands.byId[r]||(e.institutionBrands.byId[r]={}),e.institutionBrands.byId[r].api||(e.institutionBrands.byId[r].api={}),e.institutionBrands.byId[r].api.isDeleting=!1}),(0,o.Nh)(a,t)},[u.g.DEFAULT_INSTITUTION_BRAND_LOAD]:o.r1,[(0,o.ok)(u.g.DEFAULT_INSTITUTION_BRAND_LOAD)]:(e,t)=>(t&&t.institutionBrands&&(e=m(e,t)),(0,o.Zg)(e,t)),[(0,o.fJ)(u.g.DEFAULT_INSTITUTION_BRAND_LOAD)]:o.Nh,[u.g.INSTITUTION_BRAND_HOSTNAMES_LOAD]:(e,t)=>(0,s.Ay)(e,e=>{e.brandHosts.isLoading=!0}),[(0,o.ok)(u.g.INSTITUTION_BRAND_HOSTNAMES_LOAD)]:(e,t)=>{if(!t||!t.hostnames)return(0,s.Ay)(e,e=>{e.brandHosts.isLoading=!1});let{hostnames:r,paging:n}=t;return(0,s.Ay)(e,e=>{e.brandHosts.hostnames=r,e.brandHosts.paging=n,e.brandHosts.isLoading=!1})},[(0,o.fJ)(u.g.INSTITUTION_BRAND_HOSTNAMES_LOAD)]:(e,t)=>(0,s.Ay)(e,e=>{e.brandHosts.isLoading=!1})}),p=e=>(0,n.find)(e.institutionBrand.institutionBrands.byId,{isDefault:!0}),m=(e,t)=>{let{institutionBrands:r,brandAssociations:n}=t;return(0,s.Ay)(e,e=>{Object.keys(r.byId).forEach(t=>{let s={...r.byId[t],api:{isUpdating:!1,isDeleting:!1}};e.institutionBrands.byId[s.id]=s}),Object.keys(n.byId).forEach(t=>{let r={...n.byId[t],api:{isUpdating:!1,isDeleting:!1}};e.brandAssociations.byId[r.id]=r})})},g={createBrand:e=>(0,o.VP)(u.g.INSTITUTION_BRAND_CREATE,()=>(0,i.K5)(e).catch(t=>{throw{err:t,brandWithAssociations:e}})),updateBrand:e=>(0,o.VP)(u.g.INSTITUTION_BRANDS_UPDATE,()=>(0,i.JL)(e.ultraBranding.id,e).catch(t=>{throw{err:t,brandWithAssociations:e}}),e),fetchInstitutionBrand:e=>(0,o.RA)((t,r)=>{var s,n;return t((0,o.rc)(u.g.INSTITUTION_BRAND_LOAD)),((s=r(),n=e,y.getInstitutionBrandById(s,n))?Promise.resolve(null):(0,i.__)(e).catch(t=>{throw{err:t,brandId:e}})).then(e=>t((0,o.rc)((0,o.ok)(u.g.INSTITUTION_BRAND_LOAD),e))).catch(e=>{let r=(0,d.xt)(e);if(t((0,o.rc)((0,o.fJ)(u.g.INSTITUTION_BRAND_LOAD),e)),!(0,c.rh)(r,[a.t3V.NotFound]))return t((0,o.rc)((0,o.ok)(l.A.APP_ERROR),{error:r})),null;throw r.originalException})}),fetchInstitutionBrands:()=>(0,o.VP)(u.g.INSTITUTION_BRANDS_LOAD,e=>null!=e().institutionBrand.paging?Promise.resolve(null):(0,i.rl)().catch(e=>{throw{err:e}})),deleteInstitutionBrand:e=>(0,o.VP)(u.g.INSTITUTION_BRAND_DELETE,()=>(0,i.Bs)(e).then(()=>({brandId:e})).catch(t=>{throw{err:t,brandId:e}}),{brandId:e}),fetchDefaultInstitutionBrand:()=>(0,o.VP)(u.g.DEFAULT_INSTITUTION_BRAND_LOAD,e=>{var t;return(t=e(),y.getDefaultInstitutionBrand(t))?Promise.resolve(null):(0,i.__)("default").catch(e=>{throw{err:e}})}),fetchInstitutionBrandHostnames:()=>(0,o.VP)(u.g.INSTITUTION_BRAND_HOSTNAMES_LOAD,e=>null!=e().institutionBrand.brandHosts.paging?Promise.resolve(null):(0,i.mj)().catch(e=>{throw{err:e}}))},y={getInstitutionBrandById:(e,t)=>t===u.Z?p(e):(0,n.find)(e.institutionBrand.institutionBrands.byId,{id:t}),getAssociationsByBrandId:(e,t)=>{let r=p(e),s=t===u.Z?r&&r.id:t;return(0,n.filter)(e.institutionBrand.brandAssociations.byId,{brandId:s})},getAllAssociationsByBrandId:e=>(0,n.groupBy)(e.institutionBrand.brandAssociations.byId,"brandId"),getDefaultInstitutionBrand:e=>p(e)}},326199:(e,t,r)=>{"use strict";r.d(t,{o1:()=>g,Ff:()=>m,Lt:()=>y});var s=r(905898),n=r(968554),o=r(769224),i=r(566416);let a={COURSES_LOAD:"courses.load",COURSE_LOAD:"course.load",COURSE_UPDATE:"course.update",COURSE_LOAD_STUDENT_COUNT:"course.load.student.count"};var l=r(612918),u=r(645250),d=r(352290);let c=e=>["byId",e.courseId],E=(e,t)=>{let r=Object.keys(e.views).find(r=>{let s=e.views[r];return(0,u.isEqual)(s.query,t)});return r?{id:r,view:e.views[r]}:n.Vc},p=()=>["views"],m=(0,n.vy)({byId:{},views:{}},{[a.COURSES_LOAD]:(0,l.FV)(E,p,l.vq),[(0,n.ok)(a.COURSES_LOAD)]:(e,t)=>{var r;let{query:o,paging:i}=t,a=Object.values(null!=(r=t.courses)?r:{}).map(t=>({value:((e,t)=>{var r;let n=null==(r=t.byId[e.id])?void 0:r.value;return n?(0,s.jM)(n,t=>{Object.assign(t,e),Object.assign(t,{studentCount:e.studentCount})}):e})(t,e),status:(0,l.Lx)(l.hu.Load,e.byId[t.id],l.U8)})).reduce(l.TR,{}),u=(0,n.Zg)(e,t,{byId:{...e.byId,...a}});if(!o)return u;let d=Object.keys(a).filter(e=>!!e);return(0,l.FV)(E,p,l.y_,{values:d,paging:i})(u,t)},[(0,n.fJ)(a.COURSES_LOAD)]:(0,l.FV)(E,p,l.JL),[a.COURSE_LOAD]:(0,l.rK)(c,l.hu.Load,l.p_),[(0,n.fJ)(a.COURSE_LOAD)]:(0,l.rK)(c,l.hu.Load,l.XP),[(0,n.ok)(a.COURSE_LOAD)]:(e,t)=>{let{course:r}=t;return(0,s.jM)(e,t=>{var s,n;t.byId[r.id]={value:{...r,studentCount:null==(n=null==(s=e.byId[r.id])?void 0:s.value)?void 0:n.studentCount},status:(0,l.Lx)(l.hu.Load,t.byId[r.id],l.U8)}})},[d.g.GRANULAR_CONTENT_COPY_COMPLETE]:(e,t)=>{let{courseId:r}=t;return(0,s.jM)(e,e=>{e.byId[r]={status:(0,l.Lx)(l.hu.Load,e.byId[r],l.gO)}})},[a.COURSE_UPDATE]:(0,l.rK)(c,l.hu.Update,l.J7),[(0,n.fJ)(a.COURSE_UPDATE)]:(0,l.rK)(c,l.hu.Update,l.XP),[(0,n.ok)(a.COURSE_UPDATE)]:(e,t)=>{let{course:r}=t;return(0,s.jM)(e,t=>{var s,n;t.byId[r.id]={value:{...r,studentCount:null==(n=null==(s=e.byId[r.id])?void 0:s.value)?void 0:n.studentCount},status:(0,l.Lx)(l.hu.Update,t.byId[r.id],l.U8)}})},[a.COURSE_LOAD_STUDENT_COUNT]:n.r1,[(0,n.ok)(a.COURSE_LOAD_STUDENT_COUNT)]:(e,t)=>{if(!t||!t.courseId)return(0,n.Zg)(e,t);let{courseId:r,studentCount:o}=t,i=(0,s.jM)(e,e=>{var t;(null==(t=e.byId[r])?void 0:t.value)&&(e.byId[r].value.studentCount=o)});return(0,n.Zg)(i,t)},[(0,n.fJ)(a.COURSE_LOAD_STUDENT_COUNT)]:n.Nh,[(0,n.ok)(i.g.USER_MEMBERSHIPS_LOAD)]:(e,t)=>{var r;let n=null==(r=null==t?void 0:t.data)?void 0:r.courses;return n?(0,s.jM)(e,t=>{Object.values(n).forEach(r=>{var s,n;t.byId[r.id]={value:{...r,studentCount:null==(n=null==(s=e.byId[r.id])?void 0:s.value)?void 0:n.studentCount},status:(0,l.Lx)(l.hu.Load,t.byId[r.id],l.U8)}})}):e}}),g={fetchCourse:e=>(0,n.Vy)(a.COURSE_LOAD,async()=>{try{return{courseId:e,course:await (0,o.aR)(e)}}catch(t){throw new n.GS(t).setData({courseId:e})}},{data:{courseId:e},condition:(t,{getState:r})=>!!e&&(0,l.gE)(y.getCourseStatus(r(),e))}),fetchCourses:(e,t)=>(0,n.Vy)(a.COURSES_LOAD,async()=>{try{let{results:r,paging:s}=await (0,o.D)(e,t);return{query:e,courses:r,paging:s}}catch(t){throw new n.GS(t).setData({query:e})}},{data:{query:e},condition:(r,{getState:s})=>null!=t&&!!t.paging||!!e&&(0,l.qO)(y.getCourseViewStatus(s(),e))}),updateCourse:(e,t,r,s)=>(0,n.Vy)(a.COURSE_UPDATE,async()=>{try{return{courseId:e,course:await (0,o.J4)(t,r,s)}}catch(t){throw new n.GS(t).setData({courseId:e})}},{data:{courseId:e}}),fetchCourseStudentCount:e=>(0,n.Vy)(a.COURSE_LOAD_STUDENT_COUNT,async()=>{let t=await (0,o.EX)(e);return{courseId:e,studentCount:t}}),setCourseInStore:e=>(0,n.rc)((0,n.ok)(a.COURSE_LOAD),{course:e,courseId:e.id})},y={getCourseById:(e,t)=>{var r;return null==(r=e.course.byId[t])?void 0:r.value},getCourseStatus:(e,t)=>{var r;return null==(r=e.course.byId[t])?void 0:r.status},getCourseStudentCount:(e,t)=>{var r,s;return null!=(s=null==(r=e.course.byId[t].value)?void 0:r.studentCount)?s:0},getCourses:(e,t)=>{var r,s;let{view:n}=E(e.course,t);return n&&null!=(s=null==(r=n.values)?void 0:r.map(t=>{var r;return null==(r=e.course.byId[t])?void 0:r.value}).filter(e=>!!e))?s:[]},getCourseViewStatus:(e,t)=>{let{view:r}=E(e.course,t);return null==r?void 0:r.status},getCoursesWithPagination:(e,t)=>{var r,s;let n=E(e.course,t);if(n&&n.id){let t=e.course.views[n.id],o=null!=(s=null==(r=t.values)?void 0:r.map(t=>{var r;return null==(r=e.course.byId[t])?void 0:r.value}).filter(e=>!!e))?s:[];return{...t,results:o}}return{results:[]}}}},331543:(e,t,r)=>{"use strict";r.d(t,{o1:()=>p,Ff:()=>c,Lt:()=>E});var s=r(905898),n=r(645250),o=r(968554),i=r(397965);let a="/v1/courses/%courseId%/discussionboards/settings";async function l(e){return(0,i.Jt)((0,i.c$)(a,e))}async function u(e,t,r){let s=(0,i.BI)(e,t);return(0,n.isEmpty)(s)?t:(0,i.F6)((0,i.c$)(a,r),s)}let d={DISCUSSIONBOARD_SETTINGS_LOAD:"discussionboard-settings.load",DISCUSSIONBOARD_SETTINGS_PERSIST:"discussionboard-settings.persist"},c=(0,o.vy)({byCourseId:{},isLoading:!1},{[d.DISCUSSIONBOARD_SETTINGS_LOAD]:(e,t)=>(0,o.r1)(e,t),[(0,o.ok)(d.DISCUSSIONBOARD_SETTINGS_LOAD)]:(e,t)=>{let{discussionSettings:r,courseId:n}=t,i=(0,s.Ay)(e,e=>{let t={...r,api:{isUpdating:!1,isDeleting:!1}};e.byCourseId[n]=t});return(0,o.Zg)(i,t)},[(0,o.fJ)(d.DISCUSSIONBOARD_SETTINGS_LOAD)]:(e,t)=>(0,o.Nh)(e,t),[d.DISCUSSIONBOARD_SETTINGS_PERSIST]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{let t=e.byCourseId[r];e.byCourseId[r]={...t,api:{...null==t?void 0:t.api,isUpdating:!0}}})},[(0,o.ok)(d.DISCUSSIONBOARD_SETTINGS_PERSIST)]:(e,t)=>{let{discussionSettings:r,courseId:n}=t,i=(0,s.Ay)(e,e=>{let t={...r,api:{isUpdating:!1,isDeleting:!1}};e.byCourseId[n]=t});return(0,o.Zg)(i,t)},[(0,o.fJ)(d.DISCUSSIONBOARD_SETTINGS_PERSIST)]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{e.byCourseId[r].api.isUpdating=!1})}}),E={getDiscussionboardSettings:(e,t)=>(0,n.get)(e,["discussionBoardSettings","byCourseId",t],{allowStudentsToCreateDiscussionContent:!1}),isSettingLoading:e=>(0,n.get)(e,["discussionBoardSettings","isLoading"])},p={loadDiscussionboardSetting:e=>(0,o.VP)(d.DISCUSSIONBOARD_SETTINGS_LOAD,async t=>{if(!function(e,t){return!E.isSettingLoading(e)||null==e.discussionBoardSettings.byCourseId[t]}(t(),e.courseId))return Promise.resolve(null);try{return{discussionSettings:await l(e),courseId:e.courseId}}catch(e){throw{err:e}}}),persistDiscussionSettings:e=>(0,o.VP)(d.DISCUSSIONBOARD_SETTINGS_PERSIST,t=>u((0,n.get)(t(),["discussionBoardSettings","byCourseId",e.courseId],{}),e.settings,{courseId:e.courseId}).then(t=>({discussionSettings:t,courseId:e.courseId})).catch(t=>{throw{err:t,courseId:e.courseId}}),{courseId:e.courseId})}},331920:(e,t,r)=>{"use strict";r.d(t,{o1:()=>y,Ff:()=>g,Lt:()=>I});var s=r(645250),n=r(612918),o=r(968554),i=r(905898),a=r(825271),l=r(853400),u=r(608719);let d=(0,l.Y)(u.Nz$,a.dZ);var c=r(139552);let E={LOR_IH_NODES_LOAD:"lor-institutional-hierarchy-nodes-load"},p=(e,t)=>{let r=Object.keys(e.views).find(r=>{let n=e.views[r];return(0,s.isEqual)(n.query,t)});return r?{id:r,view:e.views[r]}:o.Vc},m=()=>["views"],g=(0,o.vy)({byNodeId:{},views:{}},{[E.LOR_IH_NODES_LOAD]:(0,n.FV)(p,m,n.vq),[(0,o.ok)(E.LOR_IH_NODES_LOAD)]:(e,t)=>{let{nodes:r,paging:s,sort:a}=t,l=(null!=r?r:[]).map(t=>{let r=e.byNodeId[t.id];return{value:(0,o.rL)(null==r?void 0:r.value,t),status:(0,n.Lx)(n.hu.Load,r,n.U8)}}).reduce(n.TR,{}),u=(0,i.Ay)(e,t=>{t.byNodeId=(0,o.rL)(e.byNodeId,l)}),d=Object.keys(l).filter(e=>!!e);return(0,n.FV)(p,m,n.y_,{values:d,paging:s,sort:a})(u,t)},[(0,o.fJ)(E.LOR_IH_NODES_LOAD)]:(0,n.FV)(p,m,n.JL)}),y={fetchLorInstitutionalHierarchyNodes:e=>(0,o.Vy)(E.LOR_IH_NODES_LOAD,async()=>{try{let{results:t,paging:r}=await d(e);return{query:e,nodes:t,paging:r}}catch(t){throw new o.GS(t).setData({query:e})}},{data:{query:e},condition:(t,{getState:r})=>{var s;return!!e&&(0,n.qO)(null==(s=I.getLorInstitutionalHierarchyNodesWithView(r(),e))?void 0:s.status)}})},I={getLorInstitutionalHierarchyNodesWithView:(0,c.Mz)([e=>e.lorInstitutionalHierarchy,(e,t)=>t,(e,t,r)=>r,(e,t,r,s)=>s],(e,t)=>{var r,s;let n=p(e,t);if(!n||!n.id)return;let o=e.views[n.id],i=null!=(s=null==(r=o.values)?void 0:r.map(t=>{var r;return null==(r=e.byNodeId[t])?void 0:r.value}).filter(e=>!!e))?s:[];return{...o,results:i}})}},335654:(e,t,r)=>{"use strict";r.d(t,{o1:()=>A,Ff:()=>y,Lt:()=>I});var s=r(645250),n=r(905898),o=r(968554),i=r(608719),a=r(825271);let l={PLACEMENTS_LOAD:"lti.placements.load",PLACEMENT_CREATE:"lti.placement.create",ASSET_PROCESSOR_LINK_UPDATE:"lti.placement.processor.update",INVALIDATE_ASSET_PROCESSOR:"lti.placement.processor.invalidate",LOAD_EULA_CONFIG_STATUS:"lti.eula.config.status.load",INVALIDATE_EULA_CONFIG_STATUS:"lti.eula.config.status.invalidate"};var u=r(758247),d=r(839781),c=r(139552),E=r(612918);let p=(e,t)=>{let r=Object.keys(e.views).find(r=>{let n=e.views[r];return(0,s.isEqual)(n.query,t)});return r?{id:r,view:e.views[r]}:o.Vc},m=()=>["views"],g=({courseId:e,placementId:t})=>["eulaConfigStatus","byCourseId",e,"byPlacementId",t],y=(0,o.vy)({views:{},byPlacementId:{},assetProcessorLinks:{byContentId:{}},eulaConfigStatus:{byCourseId:{}}},{[l.PLACEMENTS_LOAD]:(0,o.Dh)(p,m),[(0,o.fJ)(l.PLACEMENTS_LOAD)]:(0,o.To)(p,m),[(0,o.ok)(l.PLACEMENTS_LOAD)]:(e,t)=>{let r=(0,n.Ay)(e,e=>{t.data.results.forEach(t=>{var r;e.byPlacementId[t.id]=t,null==(r=t.processorLinks)||r.forEach(r=>{e.assetProcessorLinks.byContentId[r.contentId]={...r,placementId:t.id}})})});return(0,o.lY)(r,t,{viewResolver:p,viewsPathResolver:m,paging:t.data.paging,values:t.data.results.map(e=>e.id)})},[l.LOAD_EULA_CONFIG_STATUS]:(0,E.vR)(g,E.vq),[(0,o.ok)(l.LOAD_EULA_CONFIG_STATUS)]:(e,t)=>(0,n.Ay)(e,e=>{var r;let{pathParams:s,courseId:n,data:o}=t;null!=(r=e.eulaConfigStatus.byCourseId)[n]||(r[n]={byPlacementId:{}}),e.eulaConfigStatus.byCourseId[n].byPlacementId[s.placementId]={value:o,status:E.y_}}),[(0,o.fJ)(l.LOAD_EULA_CONFIG_STATUS)]:(0,E.vR)(g,E.JL),[(0,o.ok)(l.ASSET_PROCESSOR_LINK_UPDATE)]:(e,t)=>(0,n.Ay)(e,e=>{let r=Object.values(e.byPlacementId).find(e=>e.handle===t.data.ltiPlacementHandle);r&&(e.assetProcessorLinks.byContentId[t.data.contentId]={...t.data,placementId:r.id})}),[(0,o.ok)(l.INVALIDATE_ASSET_PROCESSOR)]:(e,t)=>(0,n.Ay)(e,e=>{((e,t)=>{let r=p(e,t);r.view&&(r.view.isValid=!1)})(e,{pathParams:t.query})}),[l.INVALIDATE_EULA_CONFIG_STATUS]:(0,E.vR)(g,E.E1)}),I={shouldLoadView:(e,t)=>{let r=p(e.ltiPlacement,t);return!r.view||!r.view.isValid&&!r.view.isLoading},getPlacementsByQuery:(0,d.n)((e,t)=>{var r,s,n;return null!=(n=null==(s=null==(r=p(e.ltiPlacement,t).view)?void 0:r.values)?void 0:s.map(t=>e.ltiPlacement.byPlacementId[t]))?n:[]},e=>e),getPlacementById:(e,t)=>e.ltiPlacement.byPlacementId[t],getAssetProcessorLinkByContentId:(e,t,r)=>{let{view:s}=p(e.ltiPlacement,{pathParams:{courseId:r,contentId:t}});return{view:s,link:e.ltiPlacement.assetProcessorLinks.byContentId[t]}},getEulaConfigStatus:(0,c.Mz)([e=>{var t;return null==(t=e.ltiPlacement.eulaConfigStatus)?void 0:t.byCourseId},(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{var s,n;return null==(n=null==(s=null==e?void 0:e[t])?void 0:s.byPlacementId)?void 0:n[r]})},A={loadPlacements:e=>(0,o.RA)(async(t,r)=>{if(!I.shouldLoadView(r(),e))return{query:e,data:I.getPlacementsByQuery(r(),e)};try{t((0,o.rc)(l.PLACEMENTS_LOAD,{query:e}));let r=await (0,i.OfL)(a.dZ,e);return t((0,o.rc)((0,o.ok)(l.PLACEMENTS_LOAD),{query:e,data:r})),{query:e,data:r}}catch(r){throw t((0,o.rc)((0,o.fJ)(l.PLACEMENTS_LOAD),{query:e,error:r})),t((0,o.rc)((0,o.ok)(u.A.APP_ERROR),{error:r})),r}}),loadAssetProcessors:e=>(0,o.RA)(async(t,r)=>{if(!I.shouldLoadView(r(),{pathParams:e}))return{pathParams:e,data:I.getPlacementsByQuery(r(),{pathParams:e})};try{t((0,o.rc)(l.PLACEMENTS_LOAD,{query:{pathParams:e}}));let r=await (0,i.HyT)(a.dZ,e);return t((0,o.rc)((0,o.ok)(l.PLACEMENTS_LOAD),{query:{pathParams:e},data:r})),{pathParams:e,data:r}}catch(r){throw t((0,o.rc)((0,o.fJ)(l.PLACEMENTS_LOAD),{query:{pathParams:e},error:r})),t((0,o.rc)((0,o.ok)(u.A.APP_ERROR),{error:r})),r}}),loadEulaConfigStatus:(e,t)=>(0,o.Vy)(l.LOAD_EULA_CONFIG_STATUS,async()=>{let r=await (0,i.zgM)(a.dZ,e,{query:{courseId:t}});return r||(r={eulaAccepted:!1,eulaRequired:!1}),{pathParams:e,courseId:t,data:r}},{data:{placementId:null==e?void 0:e.placementId,courseId:t},condition:h}),updateAssetProcessorLink:(e,t,r,s)=>(0,o.VP)(l.ASSET_PROCESSOR_LINK_UPDATE,async()=>({data:await (0,i.lKM)(a.dZ,{courseId:e,contentId:t,placementHandle:r},s)})),invalidateAssetProcessor:e=>(0,o.rc)((0,o.ok)(l.INVALIDATE_ASSET_PROCESSOR),{query:e}),createPlacement:e=>(0,o.RA)(async t=>{try{t((0,o.rc)(l.PLACEMENT_CREATE,{data:e}));let r=await (0,i.d6l)(a.dZ,e);t((0,o.rc)((0,o.ok)(l.PLACEMENT_CREATE),{data:r}))}catch(e){t((0,o.rc)((0,o.fJ)(l.PLACEMENT_CREATE),e))}}),invalidateEulaConfigStatus:(e,t)=>r=>{r((0,o.rc)(l.INVALIDATE_EULA_CONFIG_STATUS,{courseId:e,placementId:t}))}};function h(e,t){var r,s,n;let o=t.getState().ltiPlacement.eulaConfigStatus.byCourseId;return(0,E.qO)(null==(n=null==(s=null==(r=null==o?void 0:o[e.courseId])?void 0:r.byPlacementId)?void 0:s[e.placementId])?void 0:n.status)}},338562:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var s=r(877973),n=r(622246);let o=(0,s.n9)(e=>(0,s.rU)({panelHeaderControlsRoot:t=>({minWidth:t.minWidth?`${t.minWidth}px`:"auto",flex:1,display:"flex",justifyContent:"flex-end",[e.breakpoints.up("sm")]:{display:"block",flex:0,justifyContent:"center",marginLeft:0},...n.eO}),panelHeaderControlsWrapper:{display:"flex"}}))},340496:(e,t,r)=>{"use strict";r.d(t,{Y:()=>o});var s=r(608719),n=r(825271);async function o(e){var t;let{permissions:r,results:o}=await (0,s.veW)(n.dZ,e.courseId,null==(t=e.filter)?void 0:t.assessmentIds);return{data:{permissions:r,questionTypes:o.map(e=>e.key)},query:e}}},340903:(e,t,r)=>{"use strict";r.d(t,{o1:()=>g,Ff:()=>m,Lt:()=>y});var s=r(750609),n=r(968554);let o={ACHIEVEMENT_RECIPIENT_COUNTS_LOAD:"achievement.recipient.counts.load"};var i=r(905898),a=r(612918),l=r(170228),u=r(97082),d=r(895703);let c=e=>["byCourseFoundationsId",e.courseFoundationsId],E=(e,t)=>{let r=t.getState().achievementRecipientCount.byCourseFoundationsId[e.courseFoundationsId];return(0,a.qO)(null==r?void 0:r.status)},p=(e,t)=>{t&&Object.values(e.byCourseFoundationsId).forEach(e=>{var r;(null==(r=e.value)?void 0:r.courseLearnId)===t&&(e.status=a.E1)})},m=(0,n.vy)({byCourseFoundationsId:{}},{[o.ACHIEVEMENT_RECIPIENT_COUNTS_LOAD]:(0,a.vR)(c,a.vq),[(0,n.ok)(o.ACHIEVEMENT_RECIPIENT_COUNTS_LOAD)]:(e,t)=>{let{courseFoundationsId:r,counts:s}=t;return(0,i.Ay)(e,e=>{e.byCourseFoundationsId[r]={value:{counts:s.achievements,courseLearnId:t.courseLearnId},status:a.y_}})},[(0,n.fJ)(o.ACHIEVEMENT_RECIPIENT_COUNTS_LOAD)]:(0,a.vR)(c,a.JL),[(0,n.ok)(l.g.GRADEBOOK_GRADE_PERSIST_BY_GRADE_ID)]:(e,t)=>(0,i.Ay)(e,e=>{p(e,t.grade.courseId)}),[(0,n.ok)(l.g.GRADEBOOK_GRADE_PERSIST_BY_USER_ID)]:(e,t)=>(0,i.Ay)(e,e=>{p(e,t.grade.courseId)}),[(0,n.ok)(l.g.GRADEBOOK_GRADE_POST_GRADE_BY_GRADE_ID)]:(e,t)=>(0,i.Ay)(e,e=>{p(e,t.courseId)}),[(0,n.ok)(l.g.GRADEBOOK_GRADES_LOAD)]:(e,t)=>{var r;let s=new Set(null==(r=t.grades)?void 0:r.map(e=>e.courseId));return s.size?(0,i.Ay)(e,e=>{s.forEach(t=>{p(e,t)})}):e},[(0,n.ok)(u.g.GRADEBOOK_GROUP_GRADE_POST_GRADE_BY_GROUP_ASSOCIATION_ID)]:(e,t)=>(0,i.Ay)(e,e=>{p(e,t.courseId)}),[(0,n.ok)(d.g.GRADEBOOK_COLUMN_POST_READY_GRADES)]:(e,t)=>(0,i.Ay)(e,e=>{p(e,t.courseId)})}),g={loadAchievementRecipientCounts:(e,t)=>(0,n.Vy)(o.ACHIEVEMENT_RECIPIENT_COUNTS_LOAD,async()=>{try{let r=await (0,s.JEE)(e);return{courseFoundationsId:e,courseLearnId:t,counts:r}}catch(t){throw new n.GS(t).setData({courseFoundationsId:e})}},{data:{courseFoundationsId:e},condition:E})},y={getAchievementRecipientCountsByCourseFoundationsId:(e,t)=>{var r,s;return null==(s=null==(r=e.achievementRecipientCount.byCourseFoundationsId[t])?void 0:r.value)?void 0:s.counts},getAchievementRecipientCountsStatusByCourseFoundationsId:(e,t)=>{var r;return null==(r=e.achievementRecipientCount.byCourseFoundationsId[t])?void 0:r.status}}},341427:(e,t,r)=>{"use strict";r.d(t,{bT:()=>n,eE:()=>o,yS:()=>i});var s=r(56684);r(362420),r(332014),r(935539),r(828650);class n extends s.kz{constructor(){super("/v1/foundationsToken"),this.headers.set("Suppress-Session-Timestamp-Update","true")}}class o extends s.w_{constructor(){super("/v1/foundationsToken/refresh"),this.headers.set("Suppress-Session-Timestamp-Update","true")}}class i extends s.mj{constructor(){super("/v1/foundationsToken/context")}}},343320:(e,t,r)=>{"use strict";var s;r(362420),r(332014),r(935539),r(828650),function(e){e.WAITING="Waiting",e.STARTED="Started"}(s||(s={}))},343390:(e,t,r)=>{"use strict";r(435441),r(542633)},345615:(e,t,r)=>{"use strict";r.d(t,{e:()=>s});let s={CREATE_OFFLINE_ATTEMPT:"assessment-create-attempt",GRADE_AND_FEEDBACK:"grade-and-feedback",TEXT_GRADE:"text-grade",STUDENT_GRADE_AND_FEEDBACK:"student-grade-and-feedback",OFFLINE_GRADE_AND_FEEDBACK:"offline-feedback",GRADEBOOK_ITEM:"gradebook-item",GRADEBOOK_ITEM_ASSESSMENT:"gradebook-item.assessment",GRADEBOOK_TEXT_COLUMN:"gradebook-item.text-column",GRADEBOOK_TEXT_COLUMN_EDIT:"gradebook-item.text-column.edit",GRADE_ITEM_OVERALL_GRADE:"gradebook-item.overall-grade",GRADE_ITEM_TOTAL_CALCULATION:"gradebook-item.total-calculation",GRADE_SETTING:"grade-setting",GRADING_SCHEMA:"grading-schema",GROUP_SUBMISSION_GRADING:"group-submission-grading",RECONCILE_GRADE:"reconcile-grade",SUBMISSION_TEXT_ITEM:"submission-text-item",SUBMISSION_DEEP_LINK:"submission-deep-link",SUBMISSION_DEEP_LINK_FEEDBACK_TAB:"submission-deep-link.assessment-submission-feedback-tab",SUBMISSION_GRADING:"submission-grading",SUBMISSION_GRADING_FEEDBACK_TAB:"submission-grading.assessment-submission-feedback-tab",SUBMISSION_GRADING_RUBRICS_TAB:"submission-grading.inline-rubric",SUBMISSION_GRADING_ORIGINALITY_TAB:"submission-grading.originality-tab",GROUP_SUBMISSION_GRADING_FEEDBACK_TAB:"group-submission-grading.assessment-submission-feedback-tab",GROUP_SUBMISSION_GRADING_RUBRICS_TAB:"group-submission-grading.inline-rubric",GROUP_SUBMISSION_GRADING_ORIGINALITY_TAB:"group-submission-grading.originality-tab",GRADEBOOK_GRID_ADVANCED_FILTERS:"gradebook-grid-advanced-filters",GRADE_DOWNLOAD_SETTINGS:"grade-download-setting",DOWNLOAD_TEST_RESULTS:"download-test-results",ATTEMPT_RECEIPT_SEARCH:"attempt-receipt-search",GRADE_UPLOAD:"grade-upload-setting",PER_GRADABLE_ITEM_SETTINGS:"per-gradable-item-settings",PER_ASSESSMENT_SETTINGS:"per-assessment-settings",PER_ASSESSMENT_GROUP_SETTING:"per-assessment-group-settings",GRADABLE_ITEM_STATISTICS:"column-statistics",GRADE_ITEM_EDIT:"grade-item.edit",OBSERVEE_VIEW:"observee-view",ATTENDANCE:"attendance",ATTENDANCE_STUDENT_RECORDS:"attendance-student-records",VIEW_INDIVIDUAL_GRADES:"view-individual-grades",GRADES_BULK_DOWNLOAD:"grades-bulk-download",GRADE_ITEM_MANAGEMENT_SETTINGS:"items-management-settings",STUDENT_ATTENDANCE:"attendance-student-view"}},346229:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=e=>`<html>
<head>
    <title>Demo Mashup</title>
    <script>

    function getParentOrigin() {
        const parentOrigin = '${e}';
        return parentOrigin;

        // Actual external demos should use the referrer
        // However in a sourceDoc-generated mashup the referrer is empty
        // const url = new URL(document.referrer);
        // return url.origin;
    }
        window.addEventListener('message', receiveMessage);
        window.onload = () => {
            window.URL.revokeObjectURL(window.location.href);
            window.parent.postMessage({ messageType: 'page_loaded' }, getParentOrigin());
        }
        window.onunload = () => {
            window.removeEventListener('message', receiveMessage);
        }
        const MESSAGE_LINK = {
            dataType: 'link',
            dataContent: {
                src: 'www.blackboard.com',
                alt: 'Test Link',
            },
            messageType: 'content_ready',
        };
        const MESSAGE_IMAGE = {
            dataType: 'image',
            dataContent: {
                src: '',
                alt: 'Test Image',
            },
            messageType: 'content_ready',
        };
        const MESSAGE_VIDEO = {
            dataType: 'video',
            dataContent: {
                src: 'https://www.w3schools.com/tags/movie.mp4',
                alt: 'Test Video',
            },
            messageType: 'content_ready',
        };
        const MESSAGE_AUDIO = {
            dataType: 'audio',
            dataContent: {
                src: 'https://www.w3schools.com/TAGS/horse.mp3',
                alt: 'Test Audio',
            },
            messageType: 'content_ready',
        };
        const MESSAGE_IFRAME = {
            dataType: 'embedded-app',
            dataContent: {
                src: '',
                alt: 'Test IFrame',
                embeddedAppConfig: {
                    id: 'demoMashup',
                    isEditable: undefined,
                },
            },
            messageType: 'content_ready',
        };

        const ROBO_HASH_URL = "https://robohash.org/";

        function receiveMessage(event) {
            if (event.data.messageType != 'init_content' || event.origin !== getParentOrigin()) {
                return;
            }

            const { dataToDisplay } = event.data;
            const mode = dataToDisplay ? dataToDisplay.mode : 'create';
            document.querySelector('#' + mode + '-container').classList.toggle('hide-container');
            if (mode === 'view') {
                let text = 'Robohash for ' +  dataToDisplay.content.dataContent.src.split('/')[3];
                document.querySelector('#view-container h4').innerText = text;
                document.querySelector('#view-container img').src = dataToDisplay.content.dataContent.src;
            }
            if (mode === 'edit') {
                document.querySelector('#edit-container input').value = dataToDisplay.content.dataContent.src.split('/')[3];
                document.querySelector('#edit-container button').onclick = () => {
                    const message = getEmbeddedAppMessage(true);
                    message.dataContent.src = ROBO_HASH_URL + document.querySelector('#edit-container input').value;
                    window.parent.postMessage(message, getParentOrigin());
                };
            }
        }

        function getRandomString(length) {
            var text = "";
            var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

            for (var i = 0; i < length; i++)
                text += possible.charAt(Math.floor(Math.random() * possible.length));

            return text;
        }

        function getRandomRoboHashURL() {
            return ROBO_HASH_URL + getRandomString(6);
        }

        function getEmbeddedAppMessage(isEditable) {
            let newMessage = MESSAGE_IFRAME;
            newMessage.dataContent.src = getRandomRoboHashURL();
            newMessage.dataContent.embeddedAppConfig.isEditable = isEditable;
            return newMessage;
        }

        function getImageMessage() {
            let newMessage = MESSAGE_IMAGE;
            newMessage.dataContent.src = getRandomRoboHashURL() + ".png";
            return newMessage;
        }

        function sendMessage(mashupType) {
            switch (mashupType) {
                case 'link':
                    window.parent.postMessage(MESSAGE_LINK, getParentOrigin());
                    break;
                case 'image':
                    window.parent.postMessage(getImageMessage(), getParentOrigin());
                    break;
                case 'video':
                    window.parent.postMessage(MESSAGE_VIDEO, getParentOrigin());
                    break;
                case 'audio':
                    window.parent.postMessage(MESSAGE_AUDIO, getParentOrigin());
                    break;
                case 'edit-embedded-app':
                    window.parent.postMessage(getEmbeddedAppMessage(true), getParentOrigin());
                    break;
                case 'nonedit-embedded-app':
                    window.parent.postMessage(getEmbeddedAppMessage(false), getParentOrigin());
                    break;
                default:
                    break;
            }
        }
    </script>
</head>
<style>
    .hide-container {
        display: none;
    }
</style>

<body>
    <div id="create-container" class="hide-container">
        <h3>This is a sample app to demonstrate posting messages from this content provider iFrame to the parent window (ie.
            Blackboard Learn/Ultra).</h3>
        <br />
        <h4>Click an anchor tag to post the respective message</h4>
        <br />
        <ul>
            <li>
                <a href="" onClick="sendMessage('link')">link</a>
            </li>
            <li>
                <a href="" onClick="sendMessage('image')">image</a>
            </li>
            <li>
                <a href="" onClick="sendMessage('video')">video</a>
            </li>
            <li>
                <a href="" onClick="sendMessage('audio')">audio</a>
            </li>
            <li>
                <a href="" onClick="sendMessage('edit-embedded-app')">editable embedded-app</a>
            </li>
            <li>
                <a href="" onClick="sendMessage('nonedit-embedded-app')">non-editable embedded-app</a>
            </li>
        </ul>
    </div>
    <div id="view-container" class="hide-container">
    <h4></h4>
    <img></img>
    </div>
    <div id="edit-container" class="hide-container">
    <h4>Change Robohash Text</h4>
    <input/>
    <button type="submit">Save</button>
    </div>
</body>
</html>
`},349134:(e,t,r)=>{"use strict";r.d(t,{s:()=>o});var s=r(608719),n=r(825271);async function o(e,t){var r,o;let i,a=[],l=t.limit,u=t.offset;do{let{results:d,paging:c}=await (0,s.kvF)(n.dZ,e,{...t,limit:l,offset:u});i=null!=(r=null==c?void 0:c.nextPage)?r:"",u=(null!=(o=null==c?void 0:c.offset)?o:0)+l,a=a.concat(d)}while(i)return{learnExceptionDetails:a}}},351663:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>b,Lt:()=>T,o1:()=>S});var s=r(905898),n=r(139552),o=r(645250),i=r(110573),a=r(968554),l=r(457969),u=r(437272),d=r(246206),c=r(612918);function E(e){return{columnId:e.columnId,groupAttemptId:"groupAttemptId"in e?e.groupAttemptId:void 0,expand:"expand"in e?e.expand:void 0,groupAssociationId:"groupAssociationId"in e?e.groupAssociationId:void 0,groupAssignmentIds:"groupAssignmentIds"in e?e.groupAssignmentIds:void 0}}let p=(e,t)=>{var r;let s=Object.keys(t);return Object.values(null!=(r=e.views.byColumnId[t.columnId])?r:{}).filter(e=>o.isEqual(o.pick(E(t),...s),o.pick(E(e.query),...s)))},m=e=>["views","byColumnId",e.columnId],g=["columnId","groupAttemptId","groupAssociationId","groupAssignmentIds","expand"],y=(e,t)=>{var r;if(!t)return{id:null,view:null};let s=null!=(r=e.views.byColumnId[t.columnId])?r:{},n=Object.keys(s).find(e=>{let r=s[e];return o.isEqual(o.pick(E(t),...g),o.pick(E(r.query),...g))});return n?{id:n,view:s[n]}:a.Vc},I=(e,t)=>{let{view:r}=y(t.getState().gradebookGroupAttempt,e.query);return!r||!r.isLoading&&!r.isValid},A=(e,t)=>{let{view:r}=y(t.getState().gradebookGroupAttempt,e.query);return!(null==r?void 0:r.isLoading)&&(!!e.query.needsRefresh||!(null==r?void 0:r.isValid))},h=(e,t)=>{let{view:r}=y(t.getState().gradebookGroupAttempt,e.query);return!r||!r.isLoading&&(!r.isValid||!!e.forceRefresh)},_=(e,t)=>{var r;let s=null==(r=(0,l.kK)(t))?void 0:r.id;if(s&&t.id){let r=e.byGradebookGroupAttemptId[t.id].value;r&&(r.assessmentId=s)}},b=(0,a.vy)({views:{byColumnId:{}},byGradebookGroupAttemptId:{},byGradebookGroupAssignmentId:{}},{[u.g.GRADEBOOK_GROUP_ATTEMPT_LOAD]:(0,a.Dh)(y,m),[(0,a.ok)(u.g.GRADEBOOK_GROUP_ATTEMPT_LOAD)]:(e,t)=>{var r;let{groupAttempt:n,courseId:o,columnId:i,viewUrlRequested:l}=t,u=(0,s.Ay)(e,t=>{var r;if(null==n?void 0:n.id){let{attempts:s,...a}=n,u=null==(r=e.byGradebookGroupAttemptId[n.id])?void 0:r.value;t.byGradebookGroupAttemptId[n.id]={value:{...u,...a,studentSubmissionViewUrlExpanded:l?a.studentSubmission:null==u?void 0:u.studentSubmissionViewUrlExpanded,courseId:o,columnId:i},status:c.U8},_(t,a)}});return(0,a.lY)(u,t,{viewResolver:y,viewsPathResolver:m,values:[null!=(r=n.id)?r:""]})},[(0,a.fJ)(u.g.GRADEBOOK_GROUP_ATTEMPT_LOAD)]:(0,a.To)(y,m),[(0,a.ok)(u.g.GRADEBOOK_GROUP_ATTEMPT_DELETE)]:(e,t)=>{let{groupAttempt:{id:r}}=t;return(0,s.Ay)(e,e=>{r&&delete e.byGradebookGroupAttemptId[r]})},[u.g.GRADEBOOK_GROUP_ATTEMPTS_LOAD_BY_ASSIGNMENT_ID]:(0,a.Dh)(y,m),[(0,a.ok)(u.g.GRADEBOOK_GROUP_ATTEMPTS_LOAD_BY_ASSIGNMENT_ID)]:(e,t)=>{let{query:r,data:n}=t;return(0,s.Ay)(e,t=>{let s=[];Object.entries(n).forEach(([n,o])=>{let i=o.map(n=>{var o;s.push(n.id);let i=null==(o=e.byGradebookGroupAttemptId[n.id])?void 0:o.value;return t.byGradebookGroupAttemptId[n.id]={value:{...n,studentSubmissionViewUrlExpanded:null==i?void 0:i.studentSubmissionViewUrlExpanded,courseId:r.courseId,columnId:r.columnId},status:c.U8},_(t,n),n.id});t.byGradebookGroupAssignmentId[n]={status:c.U8,value:i}}),(0,a.gD)(t,(0,a.lY)(t,{type:u.g.GRADEBOOK_GROUP_ATTEMPTS_LOAD_BY_ASSIGNMENT_ID,query:r},{viewResolver:y,viewsPathResolver:m,values:s}))})},[(0,a.fJ)(u.g.GRADEBOOK_GROUP_ATTEMPTS_LOAD_BY_ASSIGNMENT_ID)]:(0,a.To)(y,m),[u.g.GRADEBOOK_GROUP_ATTEMPTS_FOR_GROUP_LOAD]:(0,a.Dh)(y,m),[(0,a.ok)(u.g.GRADEBOOK_GROUP_ATTEMPTS_FOR_GROUP_LOAD)]:(e,t)=>{let{query:r,data:n}=t;return(0,s.Ay)(e,t=>{if(!n)return void(0,a.gD)(t,(0,a.lY)(t,{type:u.g.GRADEBOOK_GROUP_ATTEMPTS_FOR_GROUP_LOAD,query:r},{viewResolver:y,viewsPathResolver:m,values:[]}));let{results:s,courseId:o,columnId:i,viewUrlRequested:l,paging:d,permissions:E}=n;s.forEach(s=>{var n;let d=null==(n=e.byGradebookGroupAttemptId[s.id])?void 0:n.value;t.byGradebookGroupAttemptId[s.id]={value:{...d,...s,studentSubmissionViewUrlExpanded:l?s.studentSubmission:null==d?void 0:d.studentSubmissionViewUrlExpanded,courseId:o,columnId:i},status:c.U8},_(t,s);let{groupAssociationId:E,...p}=r;(0,a.gD)(t,(0,a.lY)(t,{type:u.g.GRADEBOOK_GROUP_ATTEMPTS_FOR_GROUP_LOAD,query:{...p,groupAttemptId:s.id}},{viewResolver:y,viewsPathResolver:m,values:[s.id]}))}),(0,a.gD)(t,(0,a.lY)(t,{type:u.g.GRADEBOOK_GROUP_ATTEMPTS_FOR_GROUP_LOAD,query:r},{viewResolver:y,viewsPathResolver:m,paging:d,permissions:E,values:s.map(e=>e.id)}))})},[(0,a.fJ)(u.g.GRADEBOOK_GROUP_ATTEMPTS_FOR_GROUP_LOAD)]:(0,a.To)(y,m),[u.g.GRADEBOOK_GROUP_ATTEMPT_UPDATE]:(e,t)=>{let{groupAttemptId:r}=t;return(0,s.Ay)(e,e=>{e.byGradebookGroupAttemptId[r]={...e.byGradebookGroupAttemptId[r],status:c.J7}})},[(0,a.fJ)(u.g.GRADEBOOK_GROUP_ATTEMPT_UPDATE)]:(e,t)=>{let{groupAttemptId:r}=t;return r?(0,s.Ay)(e,e=>{e.byGradebookGroupAttemptId[r]={...e.byGradebookGroupAttemptId[r],status:c.XP}}):e},[(0,a.ok)(u.g.GRADEBOOK_GROUP_ATTEMPT_UPDATE)]:(e,t)=>{let{groupAttempt:r}=t,{byGradebookGroupAttemptId:n}=e;return(0,s.Ay)(e,e=>{if(null==r?void 0:r.id){let t=n[r.id],{attempts:s,...o}=r;e.byGradebookGroupAttemptId[r.id]={value:{...null==t?void 0:t.value,...o},status:c.U8}}_(e,r)})},[(0,a.ok)(u.g.SET_GRADEBOOK_GROUP_ATTEMPT_UPDATE)]:(e,t)=>{let{groupAttempt:r}=t,{byGradebookGroupAttemptId:n}=e;return(0,s.Ay)(e,e=>{if(null==r?void 0:r.id){let t=n[r.id],{attempts:s,...o}=r;e.byGradebookGroupAttemptId[r.id]={value:{...null==t?void 0:t.value,...o},status:c.U8}}_(e,r)})},[(0,a.ok)(d.g.GRADED_QUESTION_ATTEMPT_FOR_GROUP_PERSIST)]:(e,t)=>{let{dependents:{columnId:r,groupAttemptId:n}}=t.data;return(0,s.Ay)(e,e=>{if(r)for(let t of p(e,{columnId:r,groupAttemptId:n}))t.isValid=!1})},[u.g.GRADEBOOK_GROUP_ATTEMPTS_INVALIDATE_BY_COLUMN_ID]:(e,t)=>{let{columnId:r}=t;return(0,s.Ay)(e,e=>{for(let t of p(e,{columnId:r}))("groupAttemptId"in t.query&&t.query.groupAttemptId||"groupAssociationId"in t.query&&t.query.groupAssociationId)&&(t.isValid=!1)})},[u.g.GRADEBOOK_GROUP_ATTEMPT_CREATE]:(e,t)=>{let r=t.groupAttempt,n=t.courseId,o=t.columnId,i=null==r?void 0:r.groupAssociationId;return(null==r?void 0:r.id)&&n&&o?(e=(0,s.Ay)(e,e=>{for(let t of(e.byGradebookGroupAttemptId[r.id]={value:{...r,columnId:o,courseId:n},status:c.U8},p(e,{columnId:o,groupAssociationId:i})))"groupAssociationId"in t.query&&t.query.groupAssociationId&&(t.isValid=!1);_(e,r)}),(0,a.lY)(e,{type:u.g.GRADEBOOK_GROUP_ATTEMPT_CREATE,query:{groupAttemptId:r.id,columnId:o,courseId:n}},{viewResolver:y,viewsPathResolver:m,values:[r.id]})):e},[u.g.GRADEBOOK_GROUP_ATTEMPT_INVALIDATE_BY_ID]:(e,t)=>(0,s.Ay)(e,e=>{p(e,{columnId:t.columnId,groupAttemptId:t.groupAttemptId}).forEach(e=>{e.isValid=!1})})}),S={loadGradebookGroupAttemptById:(e,t)=>(0,a.Vy)(u.g.GRADEBOOK_GROUP_ATTEMPT_LOAD,async()=>{var t,r,s;try{let{needsRefresh:n,...o}=e,a=await (0,i.dJ)(o),l=null!=(s=null==(r=null==(t=e.expand)?void 0:t.split(","))?void 0:r.includes("viewUrl"))&&s,u=e.courseId,d=e.columnId;return{groupAttempt:a.groupAttempt,courseId:u,columnId:d,query:e,viewUrlRequested:l}}catch(t){throw new a.GS(t).setData({query:e})}},{allowedErrors:t,data:{query:e,forceRefresh:e.needsRefresh},condition:h}),deleteGroupAttemptById:e=>(0,a.Vy)(u.g.GRADEBOOK_GROUP_ATTEMPT_DELETE,async(t,{getState:r})=>{var s;let n=r(),{courseId:o,groupAttemptId:l}=e,u=null==(s=n.gradebookGroupAttempt.byGradebookGroupAttemptId[l])?void 0:s.value;try{return await (0,i.mF)(o,l),{groupAttempt:u}}catch(e){throw new a.GS(e).setData({groupAttempt:u})}},{data:{groupAttemptId:e.groupAttemptId}}),loadGradebookGroupAttemptsByGroupAssignmentId:e=>(0,a.Vy)(u.g.GRADEBOOK_GROUP_ATTEMPTS_LOAD_BY_ASSIGNMENT_ID,async()=>{try{return{data:await (0,i.rY)(e),query:e}}catch(t){throw new a.GS(t).setData({query:e})}},{data:{query:e},condition:A}),loadGradebookGroupAttemptsByGroupAssocationId:e=>(0,a.Vy)(u.g.GRADEBOOK_GROUP_ATTEMPTS_FOR_GROUP_LOAD,async()=>{var t,r,s;try{let n=await (0,i.kI)(e);return n.viewUrlRequested=null!=(s=null==(r=null==(t=e.expand)?void 0:t.split(","))?void 0:r.includes("viewUrl"))&&s,{data:n,query:e}}catch(t){throw new a.GS(t).setData({query:e})}},{data:{query:e},condition:I}),updateGroupAttemptById:e=>(0,a.Vy)(u.g.GRADEBOOK_GROUP_ATTEMPT_UPDATE,async()=>{let{courseId:t,columnId:r,groupAttemptId:s,payload:n,queryParams:o,expandParams:l}=e;try{return{groupAttempt:{...(await (0,i.OM)(t,s,n,o,l)).groupAttempt,columnId:r}}}catch(e){throw new a.GS(e).setData({groupAttemptId:s})}},{data:{groupAttemptId:e.groupAttemptId,courseId:e.courseId,groupAttemptStatusChanged:!!e.payload.status}}),invalidateGradebookGroupAttemptsByColumnId:e=>(0,a.rc)(u.g.GRADEBOOK_GROUP_ATTEMPTS_INVALIDATE_BY_COLUMN_ID,{columnId:e}),invalidateGradebookGroupAttemptById:e=>(0,a.rc)(u.g.GRADEBOOK_GROUP_ATTEMPT_INVALIDATE_BY_ID,e),setNewGroupAttemptInStore:e=>(0,a.rc)(u.g.GRADEBOOK_GROUP_ATTEMPT_CREATE,e),setGradeGroupAttemptInStore:e=>(0,a.rc)((0,a.ok)(u.g.SET_GRADEBOOK_GROUP_ATTEMPT_UPDATE),{groupAttempt:e})},T={getGradebookGroupAttemptById:(e,t)=>e.gradebookGroupAttempt.byGradebookGroupAttemptId[t],getGradebookGroupAttemptsByGroupAssociationId:(e,t)=>{var r;let{view:s}=y(e.gradebookGroupAttempt,t);return null==(r=null==s?void 0:s.values)?void 0:r.map(t=>{var r;return null==(r=e.gradebookGroupAttempt.byGradebookGroupAttemptId[t])?void 0:r.value}).filter(e=>!!e)},getGradebookGroupAttemptsByGroupAssignmentId:(e,t)=>t.groupAssignmentIds.reduce((t,r)=>{var s;let n=null==(s=e.gradebookGroupAttempt.byGradebookGroupAssignmentId[r])?void 0:s.value;return n&&(t[r]=n.map(t=>{var r;return null==(r=e.gradebookGroupAttempt.byGradebookGroupAttemptId[t])?void 0:r.value}).filter(e=>void 0!==e)),t},{}),getGradebookGroupAttemptViewStateByQuery:(0,n.Mz)((e,t)=>y(e.gradebookGroupAttempt,t).view,e=>{if(!e)return null;let{query:t,...r}=e;return r})}},352290:(e,t,r)=>{"use strict";r.d(t,{o:()=>l,g:()=>a});var s=r(968554),n=r(608719),o=r(825271);let i=(0,r(853400).Y)(n.tYb,o.dZ),a={GRANULAR_CONTENT_COPY_COMPLETE:"granular.content.copy.complete",CREATE_COPY_TASK:"create.copy.task"},l={notifyGCCCompleted:e=>(0,s.rc)(a.GRANULAR_CONTENT_COPY_COMPLETE,{courseId:e}),createCourseCopyTask:(e,t,r,n,o)=>(0,s.Vy)(a.CREATE_COPY_TASK,async()=>({data:await i(e,t,r,n,o)}))}},353170:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n,g:()=>s});let s={INSTITUTION_BRAND_CREATE:"institution.brand.create",INSTITUTION_BRANDS_UPDATE:"institution.brand.update",INSTITUTION_BRAND_DELETE:"institution.brand.delete",INSTITUTION_BRAND_LOAD:"institution.brand.load",INSTITUTION_BRANDS_LOAD:"institution.brands.load",DEFAULT_INSTITUTION_BRAND_LOAD:"institution.brands.default.load",INSTITUTION_BRAND_HOSTNAMES_LOAD:"institution.brand.hostnames.load",INSTITUTION_CUSTOM_CSS_UPSERT:"institution.custom.css.upsert"},n="default"},353239:(e,t,r)=>{"use strict";r.d(t,{o1:()=>h,Ff:()=>A,Lt:()=>S});var s=r(645250),n=r.n(s),o=r(905898),i=r(139552),a=r(443873),l=r(732583),u=r(968554);let d={DASHBOARD_COURSES_LOAD:"dashboardCourses.load",DASHBOARD_IS_ENTITLED_LOAD:"dashboardIsEntitled.load"};var c=r(612918),E=r(750609);let p=e=>["views","byUserId",e.userId],m=(e,t)=>{if(!t)return u.Vc;let r=e.views.byUserId[t.userId]||{},s=Object.keys(r).find(e=>{let s=r[e];return n().isEqual(s.query,t)});return s?{id:s,view:r[s]}:u.Vc},g=()=>["isEntitled"],y=(e,t)=>{let{view:r}=m(t.getState().dashboard,e.query);return!r||!r.isLoading&&!r.isValid},I=(e,t)=>{var r;let s=t.getState();return(0,c.qO)(null==(r=s.dashboard.isEntitled)?void 0:r.status)},A=(0,u.vy)({byCourseId:{},views:{byUserId:{}}},{[d.DASHBOARD_COURSES_LOAD]:(0,u.Dh)(m,p),[(0,u.ok)(d.DASHBOARD_COURSES_LOAD)]:(e,t)=>{if(!(null==t?void 0:t.data))return(0,u.Zg)(e,t);let{dashboardCourses:r,dashboardCourseIds:s,paging:n}=t.data,i=(0,o.Ay)(e,e=>{((e,t)=>{0!==Object.keys(t).length&&Object.keys(t).forEach(r=>{e.byCourseId[r]={...e.byCourseId[r],...t[r]}})})(e,r)});return(0,u.lY)(i,t,{viewResolver:m,viewsPathResolver:p,values:s,paging:n})},[(0,u.fJ)(d.DASHBOARD_COURSES_LOAD)]:(0,u.To)(m,p),[d.DASHBOARD_IS_ENTITLED_LOAD]:(0,c.vR)(g,c.vq),[(0,u.ok)(d.DASHBOARD_IS_ENTITLED_LOAD)]:(e,t)=>{let{isEntitled:r}=t.data;return(0,o.Ay)(e,e=>{e.isEntitled={value:r,status:c.y_}})},[(0,u.fJ)(d.DASHBOARD_IS_ENTITLED_LOAD)]:(0,c.vR)(g,c.JL)}),h={loadDashboardCoursesByQuery:e=>(0,u.Vy)(d.DASHBOARD_COURSES_LOAD,async()=>{try{return{data:await (0,E.fH5)(e),query:e}}catch(t){throw new u.GS(t).setData({query:e})}},{data:{query:e},condition:y}),loadDashboardIsEntitled:()=>(0,u.Vy)(d.DASHBOARD_IS_ENTITLED_LOAD,async()=>({data:await (0,E.YvV)()}),{condition:I})},_=(0,i.Ad)(a.UI,l.oJ),b=(0,i.Ad)(a.UI,l.Y_),S={getByCourseId:(e,t)=>e.dashboard.byCourseId[t],getIsEntitled:e=>{var t;return null==(t=e.dashboard.isEntitled)?void 0:t.value},getIsEntitledStatus:e=>{var t;return null==(t=e.dashboard.isEntitled)?void 0:t.status},getDashboardCoursesByQuery:_((e,t)=>{let{view:r}=m(e.dashboard,t);return r&&void 0!==r.values?r.values.map(t=>S.getByCourseId(e,t)).filter(e=>!!e):null},e=>e),getDashboardViewStatusByQuery:b((e,t)=>{let{view:r}=m(e.dashboard,t);return r?{isLoading:r.isLoading,isValid:r.isValid,paging:r.paging}:null},e=>e)}},358373:(e,t,r)=>{"use strict";r.d(t,{Qp:()=>i,_S:()=>n,uM:()=>o});var s=r(56684);class n extends s.pT{constructor(e){super("/v1/courses/%courseId%/contents/%contentId%/lti/processors",e)}}class o extends s.pT{constructor(e){super("/v1/users/%userId%/lti/eulaconfig/%placementId%",e)}}class i extends s.QR{constructor(e){super("/v1/courses/%courseId%/contents/%contentId%/lti/processors/%placementHandle%",e)}}},361562:(e,t,r)=>{"use strict";r.d(t,{G:()=>i,T:()=>l});var s=r(339574),n=r(780195),o=r.n(n);let i=new(o()).Attributor.Style("bullet-size","font-size",{scope:o().Scope.BLOCK});function a(e){let t=parseFloat(e.match(/[+-]?\d+(\.\d+)?/g));return`${(.6715*t+.7315).toFixed(3)}rem`}class l extends s.c{optimize(e){var t,r;if(super.optimize(e),this.children.length>0){let e=this.children.head,s=e.attributes;if(s&&s.attributes.size){let t=s.attributes.size.value(e.domNode),r=a(t);super.format("bullet-size",t),super.format("rtl"===document.dir?"custom-indent-rtl":"custom-indent",r);return}if(null==(r=null==(t=this.children.head.domNode)?void 0:t.style)?void 0:r.fontSize){let e=this.children.head.domNode.style.fontSize,t=a(e);super.format("bullet-size",e),super.format("rtl"===document.dir?"custom-indent-rtl":"custom-indent",t)}}else Object.prototype.hasOwnProperty.call(this.attributes,"bullet-size")&&super.format("bullet-size",null)}remove(){super.format("bullet-size",null),super.format("rtl"===document.dir?"custom-indent-rtl":"custom-indent",null),super.remove()}}},363335:(e,t,r)=>{"use strict";r.d(t,{f:()=>m});var s,n=r(514041),o=r(791839),i=r(78838),a=r(512343),l=r(299420),u=r.n(l),d=r(94396),c=r(225927);!function(e){e[e.Up=1]="Up",e[e.Down=-1]="Down"}(s||(s={}));let E=new Map([[d.Q.Hour,"h"],[d.Q.Minute,"m"],[d.Q.AmPm,"h"]]),p=e=>{e.stopPropagation();let t=e.which;(t===d.c.Up||t===d.c.Down||t===d.c.Home||t===d.c.End||t===d.c.Left||t===d.c.Right||t===d.c.Pageup||t===d.c.Pagedown)&&e.preventDefault()},m=e=>{let{formatNumber:t,parseNumber:r,isRtl:l}=(0,c.b)(),m=E.get(e.type),g=()=>{let{type:t,is24hr:r}=e;return t===d.Q.Hour?+!r:0},y=()=>{let{type:t,is24hr:r}=e;return t===d.Q.Hour?r?23:12:59},I=(e,t,r,s)=>(s.set("year",r),s.set("month",t),s.set("date",e),s.toDate()),A=(t,r,s)=>{let{onChangeValue:n}=e,o=t.date(),i=t.month(),a=t.year();t.add(r,s),n(I(o,i,a,t))},h=t=>{let{date:r,onChangeValue:s}=e,n=u()(r),o=n.date(),i=n.month(),a=n.year();e.type===d.Q.AmPm?n.add(12*t,m):n.add(+t,m),s(I(o,i,a,n))},_=n.useCallback(t=>{let{onChangeValue:r,closeSpinner:s,type:n,is24hr:o,date:i}=e,a=u()(i),c=a.date(),E=a.month(),g=a.year();if(n===d.Q.AmPm)return void((t,r)=>{let{closeSpinner:s}=e;p(t);let n=t.which;n===d.c.Esc?s():(n===d.c.Up||n===d.c.Down||n===d.c.Home||n===d.c.End||n===d.c.Left||n===d.c.Right||n===d.c.Pageup||n===d.c.Pagedown)&&A(r,12,"h")})(t,a);switch(p(t),t.which){case d.c.Esc:s();break;case d.c.Right:{let e=l()?-1:1;m&&A(a,e,m);break}case d.c.Up:m&&A(a,1,m);break;case d.c.Left:{let e=l()?1:-1;m&&A(a,e,m);break}case d.c.Down:m&&A(a,-1,m);break;case d.c.Pageup:n===d.Q.Hour&&m?A(a,3,m):n===d.Q.Minute&&m&&A(a,10,m);break;case d.c.Pagedown:n===d.Q.Hour&&m?A(a,-3,m):n===d.Q.Minute&&m&&A(a,-10,m);break;case d.c.Home:n===d.Q.Hour?(a.hour(o?23:12),r(I(c,E,g,a))):n===d.Q.Minute&&(a.minute(59),r(I(c,E,g,a)));break;case d.c.End:n===d.Q.Hour?(a.hour(+!o),r(I(c,E,g,a))):n===d.Q.Minute&&(a.minute(0),r(I(c,E,g,a)))}},[e.date]),b=n.useCallback(s=>{let{type:n,value:o,updateTimeInput:i}=e,a=s.target.value;if(n===d.Q.AmPm)return void i({amPm:a.toUpperCase()});let l=((e,s)=>{let n=r(e),o=g(),i=y();return Number.isNaN(n)?r(s).toString():n>=o&&n<=i?e:n<o?t(o):t(i)})(a,o);i(n===d.Q.Hour?{hour:l}:{minute:l})},[e.value]),S=n.useCallback(t=>{p(t),t.which===d.c.Esc&&e.closeSpinner()},[]);return n.createElement("div",{className:e.className},n.createElement(o.u,{"aria-label":e.ariaLabel.upButton,className:"spinner-btn",onKeyUp:S,onClick:()=>h(s.Up),onKeyDown:p,title:e.ariaLabel.upButton,analyticsId:e.analyticsId.upButton,"data-testid":"add-btn"},n.createElement(a.D,null)),n.createElement("input",{type:"text",className:e.className+"-input",ref:e.inputRef,"aria-label":e.ariaLabel.input,value:e.value,role:"spinbutton","aria-valuenow":parseInt(e.value,10),"aria-valuemax":y(),"aria-valuemin":g(),onChange:b,onFocus:e=>e.target.select(),onKeyUp:_,onKeyDown:p,onKeyPress:t=>{t.which===d.c.Enter&&e.closeSpinner()},onClick:e.onInputClick,"data-analytics-id":e.analyticsId.input}),n.createElement(o.u,{"aria-label":e.ariaLabel.downButton,className:"spinner-btn",onClick:()=>h(s.Down),onKeyUp:S,onKeyDown:p,title:e.ariaLabel.downButton,analyticsId:e.analyticsId.downButton,"data-testid":"sub-btn"},n.createElement(i.ArrowDown,null)))}},366990:(e,t,r)=>{"use strict";function s(e=window.document){e.body.classList.remove("hide-focus-outline")}r.d(t,{K:()=>s})},367083:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});let s={JOURNAL:"journal",JOURNAL_VIEW:"journal.view",JOURNAL_DETAILS:"journal-details",JOURNAL_SETTINGS:"journal-settings",JOURNAL_VIEW_WITH_PARTICIPATION:"journal.view.with-participation",JOURNAL_PARTICIPATION_DETAIL:"journal-participation-detail",JOURNAL_SUBMISSION_FEEDBACK:"journal-submission-feedback",JOURNAL_VIEW_WITH_PARTICIPATION_AND_RUBRIC_EVALUATION:"journal.view.with-participation.peek.rubric-evaluation",JOURNAL_VIEW_WITH_PARTICIPATION_AND_RUBRIC_VIEW:"journal.view.with-participation.peek.rubric-view",JOURNAL_GENERATE:"journal-generate"}},368384:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var s=r(56684);class n extends s.mj{constructor(e){super("/v1/courses/%courseId%/gradebook/memberships/%membershipId%/exceptions",e)}}},368737:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={BLOG_PARTICIPANTS_LOAD:"blog.participants.load",BLOG_PARTICIPANT_CLEAR_ACTIVITY_FLAG:"blog.participants.clear.ActivityFlag"}},369082:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var s=r(397965);async function n(e){return(0,s.yJ)("/v1/utilities/userSessionDebugLog",{sessionDebug:e})}},372739:(e,t,r)=>{"use strict";r.d(t,{G:()=>o,l:()=>i});var s=r(825271),n=r(608719);function o(e){return(0,n._FW)(e,s.dZ)}function i(e,t){return(0,n.ebA)(e,s.dZ,t)}},374618:(e,t,r)=>{"use strict";r.d(t,{wX:()=>a,sH:()=>l});var s=r(542633),n=r(56684);class o extends n.w_{constructor(e){super("/v1/courses/%courseId%/resources/rpc/deleteUnused",e)}}class i extends n.pT{constructor(e){super("/v1/courses/%courseId%/resources",e)}}async function a(e,t,r){let n=new o({courseId:t}).withBody(r).withSession(e);return(0,s.w)(n)}async function l(e,t,r,n){let o=new i({courseId:t}).withSession(e).withQueryParams(r).withPaging(n);return(0,s.w)(o)}},379492:(e,t,r)=>{"use strict";r.d(t,{o1:()=>I,Ff:()=>y,Lt:()=>h});var s=r(645250),n=r(905898),o=r(800996),i=r(758247),a=r(968554);let l={COURSE_LOGS_LOAD:"course-logs.load",COURSE_LOGS_DELETE:"course-logs.delete",COURSE_LOGS_INVALIDATE:"course-logs.invalidate"};var u=r(139552),d=r(443873),c=r(732583),E=r(839781);let p=(e,t)=>{var r;if(!t)return{id:null,view:null};let n=e.views.byCourseId[t.courseId]||{},o=null!=(r=Object.keys(n).find(e=>{let r=n[e],o=s.isEqual(r.query.paging,t.paging),i=s.isEqual(r.query.queryParams,t.queryParams);return o&&i}))?r:null;return{id:o,view:o?n[o]:null}},m=e=>["views","byCourseId",e.courseId],g=(e,t)=>e=(0,n.jM)(e,e=>{var r;let s=null!=(r=e.views.byCourseId[t])?r:{};Object.keys(s).forEach(e=>{s[e].isValid=!1})}),y=(0,a.vy)({byCourseLogId:{},views:{byCourseId:{}}},{[l.COURSE_LOGS_LOAD]:(0,a.Dh)(p,m),[(0,a.ok)(l.COURSE_LOGS_LOAD)]:(e,t)=>{let{data:r}=t;r||(0,a.Zg)(e,t);let{logIds:s,logs:o,paging:i}=r;return e=(0,n.jM)(e,e=>{Object.keys(o).forEach(t=>{e.byCourseLogId[t]={...e.byCourseLogId[t],...o[t]}})}),(0,a.lY)(e,t,{viewResolver:p,viewsPathResolver:m,paging:i,values:s})},[(0,a.fJ)(l.COURSE_LOGS_LOAD)]:(0,a.To)(p,m),[l.COURSE_LOGS_DELETE]:(e,t)=>(0,n.jM)(e,e=>{let r={...e.byCourseLogId[t.logId].api,isDeleting:!0};e.byCourseLogId[t.logId].api=r}),[(0,a.ok)(l.COURSE_LOGS_DELETE)]:(e,t)=>g(e,t.courseId),[(0,a.fJ)(l.COURSE_LOGS_DELETE)]:(e,t)=>(e=(0,n.jM)(e,e=>{let r={...e.byCourseLogId[t.logId].api,isDeleting:!1};e.byCourseLogId[t.logId].api=r}),(0,a.Nh)(e,t)),[l.COURSE_LOGS_INVALIDATE]:(e,t)=>g(e,t.courseId)}),I={loadCourseLogsByQuery:e=>(0,a.RA)(async(t,r)=>{if(((e,t)=>{let{view:r}=p(e.courseLogs,t);return!r||!r.isLoading&&!r.isValid})(r(),e)){t((0,a.rc)(l.COURSE_LOGS_LOAD,{query:e}));try{let r=await (0,o.z)(e);t((0,a.rc)((0,a.ok)(l.COURSE_LOGS_LOAD),{query:e,data:r}))}catch(r){throw t((0,a.rc)((0,a.fJ)(l.COURSE_LOGS_LOAD),{query:e})),t((0,a.rc)((0,a.ok)(i.A.APP_ERROR),{error:r})),{error:r}}}}),deleteCourseLogByLogId:(e,t)=>(0,a.RA)(async r=>{r((0,a.rc)(l.COURSE_LOGS_DELETE,{courseId:t,logId:e}));try{await (0,o.Z)(e,t),r((0,a.rc)((0,a.ok)(l.COURSE_LOGS_DELETE),{courseId:t,logId:e}))}catch(s){throw r((0,a.rc)((0,a.fJ)(l.COURSE_LOGS_DELETE),{courseId:t,logId:e})),r((0,a.rc)((0,a.ok)(i.A.APP_ERROR),{error:s})),{error:s}}}),invalidateCourseLogViews:e=>(0,a.RA)(async t=>{t((0,a.rc)(l.COURSE_LOGS_INVALIDATE,{courseId:e}))})},A=(0,u.Ad)(d.UI,c.Y_)((e,t)=>{let{view:r}=p(e.courseLogs,t);return r?{isLoading:r.isLoading,isValid:r.isValid,paging:r.paging}:null},e=>e),h={getCourseLogsByQuery:(0,E.n)((e,t)=>{let{view:r}=p(e.courseLogs,t);return r?(r.values||[]).map(t=>e.courseLogs.byCourseLogId[t]):[]},e=>e),getCourseLogViewStatusByQuery:A}},382385:(e,t,r)=>{"use strict";r.d(t,{Jp:()=>u,S9:()=>i,cf:()=>a,p8:()=>l});var s=r(56684);let n="/v1/courses/%courseId%/videos/%videoId%/quizzes",o=`${n}/%quizId%`;class i extends s.mj{constructor(e){super(n,e)}}class a extends s.w_{constructor(e){super(n,e)}}class l extends s.Jk{constructor(e){super(o,e)}}class u extends s.FK{constructor(e){super(o,e)}}},385863:(e,t,r)=>{"use strict";r.d(t,{o1:()=>l,Ff:()=>a,Lt:()=>u});var s=r(905898),n=r(968554);let o={PARTNER_CLOUD_SETTINGS_LOAD:"partner.cloud.settings.load"};var i=r(750609);let a=(0,n.vy)({byId:{},isLoading:!1},{[o.PARTNER_CLOUD_SETTINGS_LOAD]:n.r1,[(0,n.ok)(o.PARTNER_CLOUD_SETTINGS_LOAD)]:(e,t)=>{let{providerId:r,settings:o}=t,i=e;return r&&o&&(i=(0,s.Ay)(e,e=>{e.byId[r]={settings:o}})),(0,n.Zg)(i,t)},[(0,n.fJ)(o.PARTNER_CLOUD_SETTINGS_LOAD)]:n.Nh}),l={loadProviderSettings:e=>(0,n.VP)(o.PARTNER_CLOUD_SETTINGS_LOAD,t=>{var r,s;return(r=t(),s=e,u.getProviderSettingsById(r,s))?Promise.resolve(null):(0,i.PZM)(e).then(t=>({providerId:e,settings:t}))})},u={getProviderSettingsById:(e,t)=>{var r;return null==(r=e.partnerCloud.byId[t])?void 0:r.settings}}},386826:(e,t,r)=>{"use strict";r.d(t,{i:()=>s});let s="mdb-sa"},389807:(e,t,r)=>{"use strict";r.d(t,{u:()=>i,x:()=>a});var s=r(608719),n=r(825271),o=r(853400);let i=(0,o.Y)(s.q3n,n.dZ),a=(0,o.Y)(s.N0K,n.dZ)},391155:(e,t,r)=>{"use strict";r(603754)},394621:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});var s=r(514041),n=r(736150);let o=e=>{let t=(0,s.useRef)();t.current=e,(0,s.useEffect)(()=>n.Q.onRouteChanging(e=>{var r;return null==(r=t.current)?void 0:r.call(t,e)}),[])}},397604:(e,t,r)=>{"use strict";var s;!function(e){e.Group="group",e.User="user"}(s||(s={}))},398828:(e,t,r)=>{"use strict";r.d(t,{M:()=>o,t:()=>i});var s=r(56684);let n="/v1/courses/%courseId%/gradebook/settings";class o extends s.mj{constructor(e){super(n,e)}}class i extends s.QR{constructor(e){super(n,e)}}},400129:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(877973);let n=(0,s.n9)(e=>(0,s.rU)({inlineFieldContainer:{display:"inline-flex",padding:e.spacing(1,.5),verticalAlign:"middle"}}))},400161:(e,t,r)=>{"use strict";r.d(t,{Ip:()=>a,h0:()=>E,oY:()=>d,pW:()=>l,vK:()=>c});var s=r(608719),n=r(956284),o=r(825271);function i(e){if(e.localizableTitle){let t=e.localizableTitle.languageKey.replace(/[\W_]+/g,"_").toLowerCase();e.ui={displayTitleKey:`components.services.grade.schema.${t}`}}else e.ui={displayTitle:e.title}}async function a(e,t){let r=await (0,s._$j)(o.dZ,{courseId:e,schemaId:t});return i(r),r}async function l(e,t,r){let{paging:a,permissions:l,results:u}=await (0,s.Nx6)(o.dZ,{courseId:e},t||r?{offset:t,limit:r}:void 0);for(let t of u)i(t),null!=t.courseId||(t.courseId=e);return{byId:(0,n.jD)(u),paging:a,permissions:l}}async function u(e,t){let r,n=t.id;r=n?(0,s.$Gn)(o.dZ,{courseId:e,schemaId:n},t):(0,s.YcW)(o.dZ,{courseId:e},t);let a=await r;return i(a),a}async function d(e,t){return u(e,t)}async function c(e,t){return u(e,t)}async function E(e,t){return(0,s.zpr)(o.dZ,{courseId:e,schemaId:t})}},405339:(e,t,r)=>{"use strict";r.d(t,{a:()=>s});let s={ULTRA_SETTINGS_PEEK:"ultra-settings-admin",ULTRA_EDIT_APPROVED_PRONOUNS_PEEK:"ultra-edit-approved-pronouns-admin",ULTRA_LOCALIZATION_EDITOR:"localization",ULTRA_LEARNING_OUTCOME_SCALE_ADMIN_PEEK:"learning-outcome-scale-admin-panel"}},405757:(e,t,r)=>{"use strict";r.d(t,{Hd:()=>a,O2:()=>d,P$:()=>c,VK:()=>i,Xy:()=>l,zZ:()=>u});var s=r(514041),n=r(225927),o=r(914752);let i=e=>e.indexOf("E")>-1||e.indexOf("e")>-1,a=(e,t)=>(0,o.Zk)(e,t)?"en-us":e,l=(e,t)=>(0,o.Zk)(e,t)?"ltr":void 0,u=e=>{let t=(e=e.indexOf("E")>0?e.replace("E","e"):e).substring(e.indexOf("e"));return{integer:e.substring(0,e.length-t.length),exponentialNotation:t}},d=(e,t,r,s,n={})=>{var a,l;if(null==t||!Number.isFinite(t))return"";let u=i(t.toString())?"scientific":"standard",d=(0,o.Zk)(e,r),c={...n,notation:u};d&&(c.numberingSystem="latn");let E=null==(l=null==(a=null==s?void 0:s.getFormatterSync)?void 0:a.call(s,e).cldr)?void 0:l.locale,p=[];if(E){p.push(E);let e=E.split("-");p.push(`${e[0]}-${e[1]}`)}p.push("en-US");let m=e=>new Intl.NumberFormat(e,{...c}).formatToParts(t).map(t=>{switch(t.type){case"decimal":return"٫"!==s.number.getDecimalStringSync(e)&&d||!d?s.number.getDecimalStringSync(e):t.value;case"group":return"٬"!==s.number.getGroupingStringSync(e)&&d||!d?s.number.getGroupingStringSync(e):t.value;default:return t.value}}).join(""),g=p.shift();for(;g;)try{return m(g)}catch(e){g=p.shift()}return t.toString()},c=({value:e,numberFormatOptions:t,displayWesternNumbers:r=!1})=>{let{babelfishFormat:o,locale:i}=(0,n.b)(),[a,l]=s.useState(d(i,e,r,o,t)),[u,c]=s.useState(e);return s.useEffect(()=>{e!==u&&(c(e),l(d(i,e,r,o,t)))},[e,l,t,c,u,i,r,o]),{displayValue:a,setDisplayValue:l,numericValue:u,setNumericValue:c}}},407515:(e,t,r)=>{"use strict";r.d(t,{K:()=>u});var s=r(951777),n=r(877973),o=r(129093),i=r(514041),a=r(865004);let l=(0,n.n9)(e=>({subheader:{fontWeight:e.typography.fontWeightBold}})),u=({titleText:e,contentText:t,analyticsId:r,rootId:n,cancelButtonText:u,confirmationButtonText:d,subheaderText:c,showCancelButton:E,open:p,exitCallback:m})=>{let g=l(),y=(0,a.W)();return i.createElement(o.gT,{analyticsId:`${r}.dialog`,open:null==p||p,onClose:()=>m(),"aria-labelledby":`${n}.dialog.title`,isAlert:!0},i.createElement(s.Fv,{analyticsId:`${r}.dialog.title`,onClose:()=>m(),id:`${n}.dialog.title`,closeLabel:y("global.close")},e),i.createElement(s.Wy,{analyticsId:`${r}.dialog.content`},c&&i.createElement(s.yl,{id:`${n}.dialog.subheader`,variant:"body1",className:g.subheader,gutterBottom:!0},c),i.createElement(s.pP,{analyticsId:`${r}.dialog.description`,id:`${n}.dialog.description`},t)),i.createElement(s.gS,{analyticsId:`${r}.dialog.events`},!1!==E&&i.createElement(s.wJ,{analyticsId:`${r}.dialog.cancel.button`,onClick:()=>m()},u||y("global.cancel")),d&&i.createElement(s.Hu,{analyticsId:`${r}.dialog.confirm.button`,onClick:()=>m(!0)},d)))}},410900:(e,t,r)=>{"use strict";function s(e,t,r){let s=[{insert:`
`},{insert:!0,format:{attachment:{bbtype:"attachment",bbfile:JSON.stringify(t),href:e}}}];return r||s.push({insert:`
`}),s}r.d(t,{A:()=>s})},414008:(e,t,r)=>{"use strict";r.d(t,{p:()=>c});var s=r(514041),n=r(526660),o=r.n(n),i=r(906616),a=r.n(i);class l{constructor(e){if(l.isWirisLoaded&&l.apiBasePathUsedForLoading!==e)throw Error(`WIRIS editor source already loaded from ${l.apiBasePathUsedForLoading}. Cannot load from ${e}`);this.apiBasePath=e}async newInstance(e){if(l.isWirisLoaded)return Promise.resolve(l.getNewInstance(e));let t=await this.getConfiguration(),r=(await l.getConfigurationjs(t.data.contextPath)).data.editorUrl;return this.loadWirisJS(r,e)}convertToAbsoluteUrl(e){return`${this.apiBasePath}${e}`}getConfiguration(){let e=this.convertToAbsoluteUrl("/v1/editor/v4/configurations");return o().get(e)}static getConfigurationjs(e){return o().get(`${e}app/configurationjs`)}static getNewInstance(e){let t=e?{...e}:{language:"en"};return t.fontFamily||(t.fontFamily=l.wirisDefaultFontFamily),null!=t.mml&&t.mml.trim()||delete t.mml,t.language||(t.language="en"),com.wiris.jsEditor.JsEditor.newInstance(t)}loadWirisJS(e,t){return new Promise((r,s)=>{a()(e,()=>{try{l.apiBasePathUsedForLoading=this.apiBasePath,l.isWirisLoaded=!0,r(l.getNewInstance(t))}catch(e){l.isWirisLoaded=!1,s(e)}})})}}l.apiBasePathUsedForLoading="",l.isWirisLoaded=!1,l.wirisDefaultFontFamily="Times New Roman";let u={initError:null,isReady:!1,wirisEditorInstance:null},d=(e,t)=>{switch(t.type){case"get-new-instance":return{...u};case"ready":return{...e,isReady:!0,wirisEditorInstance:t.wirisEditorInstance};case"error":return{...e,isReady:!1,initError:t.error};default:throw Error(`Unrecognized action: ${t}`)}},c=(e,t,r,n)=>{let[{isReady:o,initError:i,wirisEditorInstance:a},c]=(0,s.useReducer)(d,u);return(0,s.useEffect)(()=>{let s,o=new l(t);return c({type:"get-new-instance"}),o.newInstance({mml:r,language:n,fontFamily:l.wirisDefaultFontFamily}).then(t=>{(s=t).insertInto(e.current),c({type:"ready",wirisEditorInstance:s})},e=>{c({type:"error",error:e})}),()=>{s&&s.close()}},[e]),(0,s.useEffect)(()=>{a&&a.getEditorModel().getParam("language")!==n&&a.setParam("language",n)},[n,a]),{initError:i,isReady:o,wirisEditorInstance:a}}},414086:(e,t,r)=>{"use strict";r.d(t,{yy:()=>n});var s=r(56684);s.w_,s.w_,s.w_;class n extends s.mj{constructor(){super("/v1/calendars/calendarEventsAvailable")}}},416488:(e,t,r)=>{"use strict";var s,n;r.d(t,{gK:()=>o,oW:()=>n,yW:()=>s});let o={FILE_UPLOAD_REQUEST:"file-upload.request",CLOUD_FILE_UPLOAD_REQUEST:"cloud.file-upload.request",INVALID_FILE_UPLOAD:"invalid-file-upload",FILE_UPLOAD:"file-upload",FILE_UPLOAD_ABORT:"file-upload.abort",FILE_UPLOAD_GROUP_ABORT:"file-upload.group.abort",FILE_UPLOAD_OVERSIZED:"file-upload.oversized",CAN_UPDATE_FILE_DETAILS:"file-upload.can-update-file-details",UPDATED_FILE_DETAILS:"file-upload.updated-file-details",DIRECTORY_UPLOAD_STATUS:"file-upload.status",UPDATE_FILE:"file-upload.update-file",REMOVE_FILE_DETAILS:"file-upload.remove-file-details"};!function(e){e.Queued="QUEUED",e.InProgress="IN PROGRESS",e.Complete="COMPLETE",e.Failed="FAILED",e.Canceled="CANCELED"}(s||(s={})),function(e){e.Api="API",e.Oversized="OVERSIZED",e.Invalid="INVALID"}(n||(n={}))},427146:(e,t,r)=>{"use strict";r.d(t,{o1:()=>E,Ff:()=>d,Lt:()=>c});var s=r(905898),n=r(968554),o=r(608719),i=r(276636),a=r(764209);let l={SUBMISSION_SERVICES_LOAD:"submissionServices.load",SUBMISSION_SERVICE_SAVE:"submissionService.save"};function u(e){let t=e();if(t)return Object.values(t).find(e=>{var t,r;return(null==e?void 0:e.available)&&(null==(r=null==(t=null==e?void 0:e.capabilities)?void 0:t.OriginalityReport)?void 0:r.default)})}let d=(0,n.vy)({byColumnId:{},isLoading:!1},{[l.SUBMISSION_SERVICES_LOAD]:n.r1,[(0,n.ok)(l.SUBMISSION_SERVICES_LOAD)]:(e,t)=>{let r=(0,s.Ay)(e,e=>{e.byColumnId={...e.byColumnId,...t.submissionServices}});return(0,n.Zg)(r,t)},[(0,n.fJ)(l.SUBMISSION_SERVICES_LOAD)]:n.Nh,[l.SUBMISSION_SERVICE_SAVE]:n.r1,[(0,n.ok)(l.SUBMISSION_SERVICE_SAVE)]:(e,t)=>{let r=(0,s.Ay)(e,e=>{let{submissionServices:r}=t;Object.keys(r).forEach(t=>{Object.keys(r[t]||{}).forEach(s=>{e.byColumnId[t][s]=r[t][s]})})});return(0,n.Zg)(r,t)},[(0,n.fJ)(l.SUBMISSION_SERVICE_SAVE)]:n.Nh,[(0,n.ok)(a.g.CONTENT_PERSIST)]:(e,t)=>(0,s.Ay)(e,e=>{let{contents:r,assessments:s}=t;Object.values(r||{}).forEach(t=>{var r,n;if((null==t?void 0:t.safeAssignOptions)&&(null==t?void 0:t.assessmentId)&&s[t.assessmentId]&&s[t.assessmentId].gradableItemId){let{safeAssignOptions:i}=t,a=s[t.assessmentId].gradableItemId,l=u(()=>{var t;return null==(t=e.byColumnId)?void 0:t[a]});l&&l.uniqueHandle===o.iMy&&(null==(n=null==(r=null==l?void 0:l.capabilities)?void 0:r.OriginalityReport)?void 0:n.enabled)!==(null==i?void 0:i.checkAttempts)&&(l.capabilities.OriginalityReport.enabled=i.checkAttempts,e.byColumnId[a]={[l.uniqueHandle]:l})}})})}),c={getDefaultOriginalityReportSubmissionService:(e,t)=>u(()=>{var r;return null==(r=e.submissionServices.byColumnId)?void 0:r[t]})},E={loadSubmissionServices:(e,t)=>(0,n.VP)(l.SUBMISSION_SERVICES_LOAD,async r=>{if(!function(e,t){var r;return!(null==(r=e.submissionServices.byColumnId)?void 0:r[t])}(r(),t))return;let s=(await (0,i.$)(e,t)).reduce((e,t)=>({...e,[t.uniqueHandle]:t}),{});return{submissionServices:{[t]:s}}},null,[o.t3V.Forbidden]),saveSubmissionService:(e,t,r)=>(0,n.VP)(l.SUBMISSION_SERVICE_SAVE,async()=>{let s=await (0,i.n)(e,t,r);return{submissionServices:{[t]:{[s.uniqueHandle]:s}}}})}},427998:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>b,Lt:()=>O,o1:()=>S});var s=r(905898),n=r(968554),o=r(736812),i=r(487967),a=r(645250),l=r(758247),u=r(139552),d=r(443873),c=r(732583),E=r(865337),p=r(839781);let m={byId:{},views:{byBlogId:{}}},g=(e,t)=>{let{blogId:r}=t,s=e.views.byBlogId[r];s&&Object.values(s).forEach(e=>{e.isValid=!1})},y=(e,t)=>{var r;if(!t)return{id:null,view:null};let s=(null==(r=e.views)?void 0:r.byBlogId[t.blogId])||{},n=Object.keys(s).find(e=>{let r=s[e],n=(0,a.isEqual)(r.query.assignedUserId,t.assignedUserId),o=(0,a.isEqual)(r.query.expand,t.expand),i=(0,a.isEqual)(r.query.paging,t.paging);return n&&o&&i});return{id:n,view:n?s[n]:null}},I=e=>["views","byBlogId",e.blogId],A=(0,n.vy)(m.byId,{[(0,n.ok)(E.g.BLOG_ENTRY_ADD)]:(e,t)=>(0,s.Ay)(e,e=>{Object.keys(t.byId||{}).forEach(r=>{e[r]=t.byId[r],e[r].api||(e[r].api={}),e[r].userStatus||(e[r].userStatus={commentCount:0}),e[r].api.isUpdating=!1,e[r].api.isDeleting=!1})}),[E.g.BLOG_ENTRY_MODIFY]:(e,t)=>(0,s.Ay)(e,e=>{e[t.entryId]||(e[t.entryId]={}),e[t.entryId].api||(e[t.entryId].api={}),e[t.entryId].api.isUpdating=!0}),[(0,n.fJ)(E.g.BLOG_ENTRY_MODIFY)]:(e,t)=>(0,s.Ay)(e,e=>{e[t.entryId]||(e[t.entryId]={}),e[t.entryId].api||(e[t.entryId].api={}),e[t.entryId].api.isUpdating=!1}),[(0,n.ok)(E.g.BLOG_ENTRY_MODIFY)]:(e,t)=>{let r=((e,t)=>t&&t.byId?(0,s.Ay)(e,e=>{Object.keys(t.byId||{}).forEach(r=>{e[r]={...e[r],...t.byId[r]}})}):e)(e,t);return(0,s.Ay)(r,e=>{e[t.entryId]||(e[t.entryId]={}),e[t.entryId].api||(e[t.entryId].api={}),e[t.entryId].api.isUpdating=!1})},[E.g.BLOG_ENTRY_REMOVE]:(e,t)=>(0,s.Ay)(e,e=>{e[t.entryId]||(e[t.entryId]={}),e[t.entryId].api||(e[t.entryId].api={}),e[t.entryId].api.isDeleting=!0}),[(0,n.fJ)(E.g.BLOG_ENTRY_REMOVE)]:(e,t)=>(0,s.Ay)(e,e=>{e[t.entryId]||(e[t.entryId]={}),e[t.entryId].api||(e[t.entryId].api={}),e[t.entryId].api.isDeleting=!1}),[(0,n.ok)(E.g.BLOG_ENTRY_REMOVE)]:(e,t)=>(0,s.Ay)(e,e=>{delete e[t.entryId]}),[(0,n.ok)(o.g.BLOG_COMMENT_ADD)]:(e,t)=>{let r=t.comment.entryId,n=e[r];return n&&n.userStatus?(0,s.Ay)(e,e=>{e[r]||(e[r]={}),e[r].userStatus||(e[r].userStatus={}),e[r].userStatus.commentCount=n.userStatus.commentCount+1}):e},[(0,n.ok)(o.g.BLOG_COMMENT_REMOVE)]:(e,t)=>{let r=t.comment,n=e[r.entryId];return n&&n.userStatus?(0,s.Ay)(e,e=>{e[r.entryId]||(e[r.entryId]={}),e[r.entryId].userStatus||(e[r.entryId].userStatus={}),e[r.entryId].userStatus.commentCount=n.userStatus.commentCount-1,new Date(r.createdDate)>new Date(n.userStatus.commentLastSeenDate)&&(e[r.entryId].userStatus.unreadCommentCount=n.userStatus.unreadCommentCount-1)}):e}}),h=(0,n.vy)(m,{[E.g.BLOG_ENTRIES_LOAD]:(0,n.Dh)(y,I),[(0,n.ok)(E.g.BLOG_ENTRIES_LOAD)]:(e,t)=>{let{data:r}=t;if(!r)return(0,n.Zg)(e,t);let{paging:o,entriesId:i}=r;return e=((e,t)=>t&&t.data.byId?(0,s.Ay)(e,e=>{Object.keys(t.data.byId||{}).forEach(r=>{e.byId[r]={...e.byId[r],...t.data.byId[r]}})}):e)(e,t),(0,n.lY)(e,t,{viewResolver:y,viewsPathResolver:I,paging:o,values:i})},[(0,n.fJ)(E.g.BLOG_ENTRIES_LOAD)]:(0,n.To)(y,I),[(0,n.ok)(E.g.BLOG_ENTRY_REMOVE)]:(e,t)=>(0,s.Ay)(e,e=>{let{entry:r}=t;g(e,r)}),[(0,n.ok)(E.g.BLOG_ENTRY_ADD)]:(e,t)=>(0,s.Ay)(e,e=>{g(e,Object.keys(t.byId||{}).map(e=>t.byId[e])[0])})}),_=(0,n.HY)({byId:A}),b=(0,n._1)(h,_,m),S={loadBlogEntriesByQuery:e=>async(t,r)=>{if(((e,t)=>{let{view:r}=y(e.blog.entries,t);return!r||!r.isLoading&&!r.isValid})(r(),e)){t((0,n.rc)(E.g.BLOG_ENTRIES_LOAD,{query:e}));try{let r=await i.aQ(e);t((0,n.rc)((0,n.ok)(E.g.BLOG_ENTRIES_LOAD),{query:e,data:r}))}catch(r){t((0,n.rc)((0,n.fJ)(E.g.BLOG_ENTRIES_LOAD),{query:e})),t((0,n.rc)((0,n.ok)(l.A.APP_ERROR),{error:r}))}}},addBlogEntry:e=>(0,n.VP)(E.g.BLOG_ENTRY_ADD,async()=>{let{nextEntry:t}=e;try{let r=await i.A3(e),s=t.assignedUserId;return{...r,entryId:t.id,assignedUserId:s}}catch(e){throw{entryId:t.id,err:e}}},{entryId:e.nextEntry.id}),modifyBlogEntry:e=>(0,n.VP)(E.g.BLOG_ENTRY_MODIFY,async()=>{let{nextEntry:t}=e;try{let r=await i.F8(e),s=t.assignedUserId;return{...r,entryId:t.id,assignedUserId:s}}catch(e){throw{entryId:t.id,err:e}}},{entryId:e.nextEntry.id}),removeBlogEntry:e=>(0,n.VP)(E.g.BLOG_ENTRY_REMOVE,async t=>{let{entryId:r}=e;try{let s=O.getBlogEntryById(t(),r);return{...await i.Yg(e),entryId:r,entry:s}}catch(e){throw{entryId:r,err:e}}})},T=(0,u.Ad)(d.UI,c.Y_)((e,t)=>{let{view:r}=y(e.blog.entries,t);return r?{isLoading:r.isLoading,isValid:r.isValid,paging:r.paging}:null},e=>e),O={getBlogEntriesByQuery:(0,p.n)((e,t)=>{let{view:r}=y(e.blog.entries,t);return r?(r.values||[]).map(t=>e.blog.entries.byId[t]):[]},e=>e),getBlogEntriesViewStatusByQuery:T,getBlogEntryById:(e,t)=>e.blog.entries.byId[t]}},428360:(e,t,r)=>{"use strict";r.d(t,{V:()=>u});var s=r(514041),n=r(951777),o=r(127863),i=r(877973);let a=(0,i.n9)(e=>(0,i.rU)({componentContainer:{justifyContent:"center",height:"100%",padding:"30px 0"},container:{display:"flex",flexDirection:"column",alignItems:"center"},horizontalTextContainer:{[e.breakpoints.up("lg")]:{alignItems:"start"}},horizontalContainer:{backgroundColor:e.palette.background.b1,padding:"20px",flexFlow:"column",[e.breakpoints.up("lg")]:{flexFlow:"row"}},illustration:{marginBottom:"20px","& svg":{width:"250px"}},horizontalIllustration:{display:"none",[e.breakpoints.up("lg")]:{display:"block",marginBottom:"0",marginRight:"20px"}},horizontalProminent:{marginBottom:"3px",fontWeight:e.typography.fontWeightBold,[e.breakpoints.up("lg")]:{textAlign:"left"}},horizontalParagraph:{textAlign:"center",marginBottom:"0",[e.breakpoints.up("lg")]:{textAlign:"left"}},subText:{textAlign:"center"}}));var l=r(309546);let u=e=>{let{illustration:t,prominentText:r,subText:i,horizontalDisplay:u,headerComponent:d="h2",className:c}=e,E=a();return s.createElement("div",{className:(0,l.A)(c,E.container,E.componentContainer,{[E.horizontalContainer]:u})},s.createElement(o.A,{image:t,className:(0,l.A)({[E.horizontalIllustration]:u,[E.illustration]:!u}),presentationOnly:!0}),s.createElement("div",{className:(0,l.A)(E.container,{[E.horizontalTextContainer]:u})},s.createElement(n.yl,{className:(0,l.A)({[E.horizontalProminent]:u}),variant:"h2",component:d},r),i&&!u&&s.createElement("span",{className:E.subText},i),i&&u&&s.createElement("p",{className:E.horizontalParagraph},i)))}},428555:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={QUESTION_DETAILS_LOAD:"question-analysis.question-details.load"}},429837:(e,t,r)=>{"use strict";r.d(t,{o1:()=>I,Ff:()=>p,Lt:()=>A});var s=r(905898),n=r(608719),o=r(968554),i=r(728959);let a={USER_PREFERENCE_LOAD:"user-preference.load",USER_PREFERENCE_DELETE:"user-preference.delete",USER_PREFERENCE_PERSIST:"user-preference.persist"};var l=r(612918);let u=e=>["byKey",e.key],d=e=>["byKey",e.userPreference.key],c=e=>(t,r)=>(0,s.jM)(t,t=>{let{userPreference:s}=r,{key:n}=s;t.byKey[n]={value:s,status:(0,l.Lx)(e,t.byKey[n],l.U8)}}),E=(e,t)=>(0,s.jM)(e,e=>{let r=e.byKey[t.key];r&&(delete r.value,r.status=(0,l.Lx)(l.hu.Load,e.byKey[t.key],l.U8),e.byKey[t.key]=r)}),p=(0,o.vy)({byKey:{}},{[a.USER_PREFERENCE_LOAD]:(0,l.rK)(u,l.hu.Load,l.p_),[(0,o.ok)(a.USER_PREFERENCE_LOAD)]:c(l.hu.Load),[(0,o.cw)(a.USER_PREFERENCE_LOAD)]:(0,l.rK)(u,l.hu.Load,l.U8),[(0,o.fJ)(a.USER_PREFERENCE_LOAD)]:(0,l.rK)(u,l.hu.Load,l.XP),[(0,o.ok)(a.USER_PREFERENCE_DELETE)]:E,[(0,o.cw)(a.USER_PREFERENCE_DELETE)]:E,[a.USER_PREFERENCE_PERSIST]:(0,l.rK)(d,l.hu.Update,l.J7),[(0,o.ok)(a.USER_PREFERENCE_PERSIST)]:c(l.hu.Update),[(0,o.fJ)(a.USER_PREFERENCE_PERSIST)]:(0,l.rK)(d,l.hu.Update,l.XP)});function m(e,t){let r=A.getUserPreferenceByKey(t.getState(),e.key);return(0,l.gE)(null==r?void 0:r.status)}function g(e,t){let r=A.getUserPreferenceByKey(t.getState(),e.key);return!r||(0,l.PH)(r.status)}function y(e,t){let r=A.getUserPreferenceByKey(t.getState(),e.userPreference.key);return!r||(0,l.zO)(r.status)}let I={loadUserPreference:e=>(0,o.Vy)(a.USER_PREFERENCE_LOAD,async()=>({userPreference:await (0,i.xO)(e)}),{allowedErrors:[n.t3V.NotFound],data:e,condition:m}),deleteUserPreference:e=>(0,o.Vy)(a.USER_PREFERENCE_DELETE,async()=>(await (0,i.jz)(e),{key:e}),{allowedErrors:[n.t3V.NotFound],data:{key:e},condition:g}),persistUserPreference:(e,t)=>(0,o.Vy)(a.USER_PREFERENCE_PERSIST,async()=>({userPreference:await (0,i.xy)(e,t?{userId:t}:void 0)}),{data:{userPreference:e},condition:y})},A={getUserPreferenceByKey:(e,t)=>e.userPreference.byKey[t]}},429944:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,k:()=>i});var s=r(593555),n=r(5392),o=r(40965);function i(e,t){let r=[{insert:!0,format:{"embedded-app":{bbtype:"embedded-app",bbfile:JSON.stringify({...e,alt:e.alt||e.src})}}}];return r.unshift({insert:`
`}),t||r.push({insert:`
`}),r}function a(e){switch(e.dataType){case"embedded-app":return i(e.dataContent);case"image":return(0,s.A)(e.dataContent.src,{alt:e.dataContent.alt});case"link":return(0,n.A)(e.dataContent.src,e.dataContent.alt);case"video":return(0,o.A)({src:e.dataContent.src,alt:e.dataContent.alt});case"audio":return function(e="",t=!0,r){let s=[{insert:!0,format:{audio:{bbtype:"audio",bbfile:JSON.stringify({alt:!0===t||"string"==typeof t&&0===t.length?e:t,src:e})}}}];return s.unshift({insert:`
`}),s.push({insert:`
`}),s}(e.dataContent.src,e.dataContent.alt);default:return null}}},430168:(e,t,r)=>{"use strict";function s(e){return null!=e&&"object"==typeof e&&"video"in e}function n(e){return null!=e&&"object"==typeof e&&"image"in e}function o(e){return null!=e&&"object"==typeof e&&"attachment"in e}r.d(t,{Fv:()=>s,v6:()=>o,vP:()=>n})},431166:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(42548),n=r(384224);class o{constructor(e){this.location=e.resizeHandleLocation,this.originalRect=e.originalRect,this.resizedRect=null,this.onStart=e.onStart,this.onResize=e.onResize,this.onEnd=e.onEnd,this.isRtl=e.isRtl,this.onCancel=e.onCancel,this.attachListeners=this.attachListeners.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.cleanupListeners=this.cleanupListeners.bind(this)}attachListeners(){document.addEventListener("pointermove",this.handlePointerMove),document.addEventListener("pointerup",this.handleEnd),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("resize",this.handleCancel),document.addEventListener("dragstart",this.handleCancel),document.addEventListener("visibilitychange",this.handleCancel),document.addEventListener("contextmenu",this.handleCancel),this.onStart()}handlePointerMove(e){e.preventDefault();let t={x:e.clientX,y:e.clientY};this.resizedRect=function(e,t,r,n){let o={x:e.x,y:e.y,width:e.width,height:e.height};if(!n&&r===s.g.InlineStart||n&&r===s.g.InlineEnd){let r=t.x-e.x;o.x=t.x,o.width=o.width-r}if(!n&&r===s.g.InlineEnd||n&&r===s.g.InlineStart){let r=t.x-(e.x+e.width);o.width=o.width+r}return o}(this.originalRect,t,this.location,this.isRtl),this.onResize(this.originalRect,this.resizedRect)}handleKeyDown(e){e.code===n.U.Escape&&this.handleCancel()}handleEnd(){this.cleanupListeners(),this.onEnd(this.originalRect,this.resizedRect)}handleCancel(){this.cleanupListeners(),this.onCancel()}cleanupListeners(){document.removeEventListener("pointermove",this.handlePointerMove),document.removeEventListener("pointerup",this.handleEnd),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("resize",this.handleCancel),document.removeEventListener("dragstart",this.handleCancel),document.removeEventListener("visibilitychange",this.handleCancel),document.removeEventListener("contextmenu",this.handleCancel)}}},432842:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var s=r(216693),n=r(601478);let o=(e,t)=>(0,n.l)(r=>s.Ltv.courseEntitlements.hasAnyCourseEntitlement(r,e,t))},434369:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>E,KQ:()=>s.z,Ki:()=>d,PL:()=>i,V1:()=>a,XZ:()=>l,i:()=>o,ik:()=>n,zM:()=>u});var s=r(507387);let n="Arial",o="Comic Sans MS",i="Courier New",a="Noto",l="Open Sans",u="Times New Roman",d="Verdana";s.z.whitelist=[n,o,i,a,l,u,d];let c=s.z.value;s.z.value=function(e){if(e.style)return c.call(s.z,e);if(e.getAttribute("style")){let t=e.getAttribute("style"),r=/font-family:([^;]+);?/g.exec(t);if(r&&r[1])return r[1].trim()}return""},s.z.createChange=(e=l)=>({format:{font:e}});let E=s.z},435341:(e,t,r)=>{"use strict";r.d(t,{D:()=>n});let s={"application/msword":["doc","dot"],"application/pdf":["pdf"],"application/excel":["xls"],"application/mspowerpoint":["ppt"],"application/powerpoint":["ppt"],"application/x-mspowerpoint":["ppt"],"application/vnd.ms-excel":["xls","xlt","xla"],"application/vnd.ms-excel.addin.macroEnabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroEnabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroEnabled.12":["xlsm"],"application/vnd.ms-excel.template.macroEnabled.12":["xltm"],"application/vnd.ms-powerpoint":["ppt","pot","pps","ppa"],"application/vnd.ms-powerpoint.addin.macroEnabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroEnabled.12":["pptm","potm"],"application/vnd.ms-powerpoint.slideshow.macroEnabled.12":["ppsm"],"application/vnd.ms-word.document.macroEnabled.12":["docm"],"application/vnd.ms-word.template.macroEnabled.12":["dotm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/x-excel":["xls","xll"],"application/x-compressed":["zip"],"application/x-zip-compressed":["zip"],"application/zip":["zip"],"audio/midi":["mid"],"audio/mpeg":["mp3"],"audio/mpeg3":["mp3"],"audio/x-mpeg":["mp3"],"audio/x-mpeg3":["mp3"],"audio/x-midi":["mid"],"audio/aiff":["aiff","aif","aifc"],"audio/x-aiff":["aiff","aif","aifc"],"audio/wav":["wav"],"audio/x-wav":["wav"],"image/bmp":["bmp","bm"],"image/x-windows-bmp":["bmp"],"image/gif":["gif"],"image/x-icon":["ico"],"image/jpeg":["jpg","jpeg"],"image/png":["png"],"image/tiff":["tif","tiff"],"image/x-tiff":["tif","tiff"],"multipart/x-zip":["zip"],"text/plain":["txt"],"video/avi":["avi"],"video/mpeg":["mpeg","mp4"],"video/msvideo":["avi"],"video/quicktime":["mov","moov"]},n=(e,t)=>!s[t]||s[t].some(t=>e.endsWith(`.${t}`))?e:`${e}.${s[t][0]}`},435441:(e,t,r)=>{"use strict";var s=r(56684);s.kz},435624:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>v,Lt:()=>C,o1:()=>f});var s=r(905898),n=r(645250),o=r(968554),i=r(956284),a=r(758247),l=r(43375),u=r(631372),d=r(274643);let c={groupSets:{byId:{},byCourseId:{}},permissions:{},paging:{count:0},status:{isLoading:!1,loadingGroupSetIds:[]},totalGroupCount:0,lastGroupSetId:"",ui:{newGroupSetIds:[]},views:{byCourseId:{}}},E=(e,t)=>{var r;if(!t)return{id:null,view:null};let s=(null==(r=e.views)?void 0:r.byCourseId[t.courseId])||{},o=Object.keys(s).find(e=>{let r=s[e],o=n.isEqual(r.query.paging,t.paging),i=n.isEqual(r.query.filter,t.filter);return o&&i});return{id:o,view:o?s[o]:null}},p=e=>["views","byCourseId",e.courseId],m=(e,t)=>{let r=e.loadingGroupSetIds.filter(e=>e!==t.groupSetId);return{...e,loadingGroupSetIds:r}},g=(0,o.vy)(c.groupSets,{[(0,o.ok)(d.g.GROUP_SET_LOAD)]:(e,t)=>(0,s.Ay)(e,e=>{e.byId[t.groupSetId]={...e.byId[t.groupSetId],...t.groupSet}}),[(0,o.ok)(d.g.GROUP_SETS_LOAD)]:(e,t)=>(0,s.Ay)(e,e=>{var r;e.byId=t.groupSets.byId;let s=null!=(r=e.byCourseId[t.courseId])?r:[];e.byCourseId[t.courseId]=[...new Set([...Object.keys(t.groupSets.byId),...s])]}),[(0,o.ok)(d.g.GROUP_SETS_LOAD_MORE)]:(e,t)=>(0,s.Ay)(e,e=>{var r;n.merge(e.byId,t.groupSets.byId);let s=null!=(r=e.byCourseId[t.courseId])?r:[];e.byCourseId[t.courseId]=[...new Set([...s,...Object.keys(t.groupSets.byId)])]}),[(0,o.ok)(d.g.GROUP_SET_ADD)]:(e,t)=>(0,s.Ay)(e,e=>{var r;let{groupSet:s,courseId:n}=t;e.byId[s.id]=s;let o=null!=(r=e.byCourseId[n])?r:[];e.byCourseId[n]=[...new Set([...o,s.id])]}),[d.g.GROUP_SET_MODIFY]:(e,t)=>(0,s.Ay)(e,e=>{let r=t.groupSet.id;e.byId[r]||(e.byId[r]={}),e.byId[r].api||(e.byId[r].api={}),e.byId[r].api.isUpdating=!0}),[(0,o.ok)(d.g.GROUP_SET_MODIFY)]:(e,t)=>(0,s.Ay)(e,e=>{let r=t.groupSet.id;e.byId[r]=t.groupSet,e.byId[r]||(e.byId[r]={}),e.byId[r].api||(e.byId[r].api={}),e.byId[r].api.isUpdating=!1}),[(0,o.fJ)(d.g.GROUP_SET_MODIFY)]:(e,t)=>(0,s.Ay)(e,e=>{let r=t.groupSet.id;e.byId[r]||(e.byId[r]={}),e.byId[r].api||(e.byId[r].api={}),e.byId[r].api.isUpdating=!1}),[(0,o.ok)(d.g.GROUP_SET_REMOVE)]:(e,t)=>(0,s.Ay)(e,e=>{let{groupSetId:r,courseId:s}=t;delete e.byId[t.groupSetId],e.byCourseId[s]=e.byCourseId[s].filter(e=>e!==r)}),[(0,o.ok)(l.A.GROUPS_ADD)]:(e,t)=>{var r;let n=null!=(r=e.byId[t.groupSetId].groupCount)?r:0;return(0,s.Ay)(e,e=>{e.byId[t.groupSetId].groupCount=n+t.addedCourseGroupIds.length})},[(0,o.ok)(l.A.GROUPS_LOAD_BY_QUERY)]:(e,t)=>(0,s.Ay)(e,e=>{let r=Object.values(t.data.groups),s=[];r.forEach(e=>{e.groupSet&&(e.groupSet.permissions=e.permissions,s.push(e.groupSet))});let n=[...s,...Object.values(e.byId)];e.byId=(0,i.jD)(n)}),[(0,o.ok)(l.A.GROUP_DELETE_BATCH)]:(e,t)=>{var r,n;let o=t.groupSetId||(null==(n=null==(r=t.deletedGroups)?void 0:r[0])?void 0:n.groupSetId),i=e.byId[o];if(o&&i){let r=i.groupCount||0;return(0,s.Ay)(e,e=>{e.byId[o].groupCount=r-t.deletedGroups.length})}return e},[(0,o.ok)(l.A.GROUP_STUDENT_COUNT_LOAD)]:(e,t)=>(0,s.Ay)(e,e=>{e.byId[t.groupSetId]||(e.byId[t.groupSetId]={}),e.byId[t.groupSetId].studentCount=t.groupSetStudentCount})}),y=(0,o.vy)(c.status,{[d.g.GROUP_SETS_LOAD]:o.r1,[d.g.GROUP_SET_LOAD]:(e,t)=>{let r=e.loadingGroupSetIds.concat(t.groupSetId);return{...e,loadingGroupSetIds:r}},[(0,o.ok)(d.g.GROUP_SETS_LOAD)]:o.Zg,[(0,o.ok)(d.g.GROUP_SET_LOAD)]:m,[(0,o.fJ)(d.g.GROUP_SETS_LOAD)]:o.Nh,[(0,o.fJ)(d.g.GROUP_SET_LOAD)]:m,[(0,o.ok)(d.g.GROUP_SETS_LOAD_MORE)]:o.Zg,[l.A.GROUPS_LOAD]:(e,t)=>{let r=e.loadingGroupSetIds.concat(t.groupSetId);return{...e,loadingGroupSetIds:r}},[(0,o.ok)(l.A.GROUPS_LOAD)]:m,[(0,o.fJ)(l.A.GROUPS_LOAD)]:m}),I=(0,o.vy)(c.permissions,{[(0,o.ok)(d.g.GROUP_SETS_LOAD)]:(e,t)=>(0,s.Ay)(e,e=>({...e,...t.permissions})),[(0,o.fJ)(d.g.GROUP_SETS_LOAD)]:(e,t)=>({}),[(0,o.ok)(d.g.GET_GROUP_AND_SET_COUNT)]:(e,t)=>(0,s.Ay)(e,e=>({...e,...t.permissions})),[(0,o.fJ)(d.g.GET_GROUP_AND_SET_COUNT)]:(e,t)=>({})}),A=(0,o.vy)(c.paging,{[(0,o.ok)(d.g.GROUP_SETS_LOAD)]:(e,t)=>t.paging,[(0,o.ok)(d.g.GROUP_SETS_LOAD_MORE)]:(e,t)=>t.paging,[(0,o.ok)(d.g.GROUP_SET_ADD)]:(e,t)=>(0,s.Ay)(e,e=>{e.count+=1}),[(0,o.ok)(d.g.GROUP_SET_REMOVE)]:(e,t)=>(0,s.Ay)(e,e=>{e.count-=1}),[(0,o.ok)(d.g.GET_GROUP_AND_SET_COUNT)]:(e,t)=>t.paging,[(0,o.fJ)(d.g.GROUP_SETS_LOAD)]:(e,t)=>c.paging,[d.g.GROUP_WORKSPACE_RESET_COUNT]:(e,t)=>c.paging}),h=(0,o.vy)(c.totalGroupCount,{[(0,o.ok)(d.g.GET_GROUP_AND_SET_COUNT)]:(e,t)=>t.results.map(e=>e.groupCount).reduce((e,t)=>e+t,0),[(0,o.ok)(d.g.GROUP_SET_REMOVE)]:(e,t)=>e-t.groupCount,[(0,o.ok)(l.A.GROUPS_ADD)]:(e,t)=>e+t.addedCourseGroupIds.length,[(0,o.ok)(l.A.GROUPS_UPDATE)]:(e,t)=>e,[(0,o.ok)(l.A.GROUP_DELETE_BATCH)]:(e,t)=>{var r,s;return t.groupSetId||(null==(s=null==(r=t.deletedGroups)?void 0:r[0])?void 0:s.groupSetId)?e-t.deletedGroups.length:e},[d.g.GROUP_WORKSPACE_RESET_COUNT]:(e,t)=>c.totalGroupCount}),_=(0,o.vy)(c.lastGroupSetId,{[(0,o.ok)(d.g.GROUP_SET_ADD)]:(e,t)=>t.groupSet.id,[(0,o.ok)(d.g.GROUP_SET_MODIFY)]:(e,t)=>t.groupSet.id}),b=(0,o.vy)(c.ui,{[(0,o.ok)(d.g.GROUP_SET_ADD)]:(e,t)=>{let r=t.groupSet.id;return -1===e.newGroupSetIds.indexOf(r)?(0,s.Ay)(e,t=>{t.newGroupSetIds=[...e.newGroupSetIds,r]}):e},[(0,o.ok)(d.g.GROUP_SET_MODIFY)]:(e,t)=>{let r=t.groupSet.id;return -1===e.newGroupSetIds.indexOf(r)?(0,s.Ay)(e,t=>{t.newGroupSetIds=[...e.newGroupSetIds,r]}):e},[d.g.GROUP_SET_MARK_AS_OLD]:(e,t)=>(0,s.Ay)(e,r=>{r.newGroupSetIds=e.newGroupSetIds.filter(e=>e!==t.groupSetId)})}),S=(0,o.vy)(c.views,{[(0,o.ok)(d.g.GROUP_SET_ADD)]:(e,t)=>{let{courseId:r}=t;return e.byCourseId[r]?(0,s.Ay)(e,e=>{Object.keys(e.byCourseId[r]).forEach(t=>{e.byCourseId[r][t].isValid=!1})}):e},[(0,o.ok)(d.g.GROUP_SET_REMOVE)]:(e,t)=>{let{courseId:r}=t;return e.byCourseId[r]?(0,s.Ay)(e,e=>{Object.keys(e.byCourseId[r]).forEach(t=>{e.byCourseId[r][t].isValid=!1})}):e}}),T=(0,o.vy)(c,{[d.g.GROUP_SETS_LOAD_BY_QUERY]:(0,o.Dh)(E,p),[(0,o.ok)(d.g.GROUP_SETS_LOAD_BY_QUERY)]:(e,t)=>{let{data:r}=t;if(!r)return(0,o.Zg)(e,t);let{groupSets:n,paging:a}=r;return e=((e,t)=>{let{groupSets:r}=t;return(0,s.Ay)(e,e=>{let t=Object.values(r.byId),s=[...Object.values(e.groupSets.byId),...t];e.groupSets.byId=(0,i.jD)(s)})})(e,r),(0,o.lY)(e,t,{viewResolver:E,viewsPathResolver:p,paging:a,values:Object.keys(n.byId)})},[(0,o.fJ)(d.g.GROUP_SETS_LOAD_BY_QUERY)]:(0,o.To)(E,p)}),O=(0,o.HY)({groupSets:g,permissions:I,paging:A,status:y,totalGroupCount:h,lastGroupSetId:_,ui:b,views:S}),v=(0,o._1)(T,O,c),f={loadGroupSetsByQuery:e=>(0,o.VP)(d.g.GROUP_SETS_LOAD_BY_QUERY,async()=>{try{return{data:await u.SR(e),query:e}}catch(t){throw{err:t,query:e}}},{query:e}),loadGroupSets:(e,t,r=!1)=>(0,o.RA)(async(s,n)=>{if(!C.isLoading(n()))try{s((0,o.rc)(d.g.GROUP_SETS_LOAD));let n=await u.LA(e,t);s(r?(0,o.rc)((0,o.ok)(d.g.GROUP_SETS_LOAD_MORE),{...n,courseId:e}):(0,o.rc)((0,o.ok)(d.g.GROUP_SETS_LOAD),{...n,courseId:e}))}catch(e){s((0,o.rc)((0,o.fJ)(d.g.GROUP_SETS_LOAD),{err:e})),s((0,o.rc)((0,o.ok)(a.A.APP_ERROR),{error:e}))}}),loadGroupSetById:(e,t)=>(0,o.RA)(async(r,s)=>{if(!C.isLoading(s(),t))try{r((0,o.rc)(d.g.GROUP_SET_LOAD,{groupSetId:t}));let s=await u.ky(e,t);r((0,o.rc)((0,o.ok)(d.g.GROUP_SET_LOAD),{...s,groupSetId:t}))}catch(e){r((0,o.rc)((0,o.fJ)(d.g.GROUP_SET_LOAD),{groupSetId:t,err:e})),r((0,o.rc)((0,o.ok)(a.A.APP_ERROR),{error:e}))}}),saveGroupSet:(e,t)=>(0,o.VP)(t.id?d.g.GROUP_SET_MODIFY:d.g.GROUP_SET_ADD,async()=>{try{let r=t.id&&"permissions,groupCount,studentCount,hasAssociatedContent";return{groupSet:await u.ib(e,t,r),courseId:e}}catch(e){throw{groupSet:t,err:e}}},{groupSet:t}),removeGroupSet:(e,t)=>(0,o.VP)(d.g.GROUP_SET_REMOVE,async r=>{try{return await u.X4(e,t),{groupSetId:t,groupCount:C.getGroupsCountByGroupSetId(r(),t),courseId:e}}catch(e){throw{err:e}}}),getGroupAndSetCount:e=>(0,o.VP)(d.g.GET_GROUP_AND_SET_COUNT,async()=>{try{return{...await u.U7(e)}}catch(e){throw{err:e}}}),markAsOld:e=>(0,o.rc)(d.g.GROUP_SET_MARK_AS_OLD,{groupSetId:e}),reset:()=>(0,o.rc)(d.g.GROUP_WORKSPACE_RESET_COUNT)},C={getGroupsSetsByQuery:(e,t)=>{let{view:r}=E(e.groupWorkspace,t);return r?(r.values||[]).map(t=>e.groupWorkspace.groupSets.byId[t]).filter(e=>!!e):[]},getCourseGroupSetsViewStatusByQuery:(e,t)=>{let{view:r}=E(e.groupWorkspace,t);return r?{isLoading:r.isLoading,isValid:r.isValid,paging:r.paging}:null},getLastCreatedGroupSetId:e=>e.groupWorkspace.lastGroupSetId,getGroupSetById:(e,t)=>t&&e.groupWorkspace.groupSets.byId.hasOwnProperty(t)?e.groupWorkspace.groupSets.byId[t]:null,getGroupsCountByGroupSetId:(e,t)=>{var r,s;return t&&null!=(s=null==(r=e.groupWorkspace.groupSets.byId[t])?void 0:r.groupCount)?s:0},getTotalGroupSetCount:e=>e.groupWorkspace.paging&&e.groupWorkspace.paging.count,getTotalGroupCount:e=>e.groupWorkspace.totalGroupCount,isLoading:(e,t)=>t?-1!==e.groupWorkspace.status.loadingGroupSetIds.indexOf(t):e.groupWorkspace.status.isLoading,canCreate:e=>e.groupWorkspace.permissions.createGroups,isNew:(e,t)=>-1!==e.groupWorkspace.ui.newGroupSetIds.indexOf(t)}},436704:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});var s=r(216693),n=r(514041),o=r(910685),i=r(601478);let a=e=>{let t=(0,o.Y)();(0,n.useEffect)(()=>{t(s.o1I.systemTools.loadSystemTool(e))},[t,e]);let r=(0,i.l)(t=>s.Ltv.systemTools.getSystemToolByIdentifier(t,e));return{status:null==r?void 0:r.status,systemTool:null==r?void 0:r.value}}},437272:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={GRADEBOOK_GROUP_ATTEMPT_LOAD:"gradebook-group-attempt.load",GRADEBOOK_GROUP_ATTEMPTS_FOR_GROUP_LOAD:"gradebook-group-attempts-for-group.load",GRADEBOOK_GROUP_ATTEMPTS_LOAD_BY_ASSIGNMENT_ID:"gradebook-group-attempts.load.byAssignmentId",GRADEBOOK_GROUP_ATTEMPT_UPDATE:"gradebook-group-attempt.update",GRADEBOOK_GROUP_ATTEMPT_DELETE:"gradebook-group-attempt.delete",GRADEBOOK_GROUP_ATTEMPTS_INVALIDATE_BY_COLUMN_ID:"gradebook-group-attempts.invalidate.byColumnId",GRADEBOOK_GROUP_ATTEMPT_CREATE:"gradebook-group-attempt.create",SET_GRADEBOOK_GROUP_ATTEMPT_UPDATE:"gradebook-group-attempt.update.set",GRADEBOOK_GROUP_ATTEMPT_INVALIDATE_BY_ID:"gradebook-group-attempt.invalidate.byId"}},438538:(e,t,r)=>{"use strict";r.d(t,{d:()=>c,v:()=>d});var s=r(514041),n=r(212035),o=r(309546),i=r(243576),a=r(877973);let l=(0,a.n9)(e=>(0,a.rU)({fileViewerContainer:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%","& img":{maxHeight:"100%",maxWidth:"100%"},"& video":{maxHeight:"100%",maxWidth:"100%",display:"inline-block",marginBottom:"-5px"},"& audio":{width:"100%",display:"inline-block",marginBottom:"-6px"},"& iframe":{width:"100%",height:"100%",minHeight:"500px","@media print":{display:"none"},[e.breakpoints.up("sm")]:{minHeight:"700px"},[e.breakpoints.up("md")]:{minHeight:"880px"},borderWidth:1,borderStyle:"solid",borderColor:e.palette.border.main}},fileViewerContainerImage:{alignItems:"stretch","& div":{backgroundColor:"unset",display:"flex"}},fileViewerContainerIframe:{alignItems:"stretch"}}));var u=r(219065);function d(e,t){let r=(0,i.ld)(e);return e.isDecorative?s.createElement("img",{src:r,...t,alt:""}):e.alternativeText?s.createElement("img",{src:r,...t,alt:e.alternativeText}):s.createElement("img",{src:r,...t})}let c=({...e})=>{var t,r;let a,c=l();e.file.viewerUrl?a=c.fileViewerContainerIframe:"image"===(0,i.Tr)(e.file)&&(a=c.fileViewerContainerImage);let E=function(e){let{file:t,inlineMediaAdditionalAttributes:r}=e;if(t.viewerUrl)return s.createElement("iframe",{src:t.viewerUrl,allowFullScreen:!0,allow:"clipboard-write *",...t.alternativeText?{title:t.isDecorative?"":t.alternativeText}:null,...r});switch((0,i.Tr)(t)){case"image":return d(t,r);case"video":return s.createElement(n.VideoPlayer,{videoSrc:t.resourceUrl,altText:t.alternativeText,additionalAttributes:r});case"audio":return s.createElement(n.AudioPlayer,{audioSrc:t.resourceUrl,altText:t.alternativeText,additionalAttributes:r});default:return s.createElement(s.Fragment,null)}}(e);return s.createElement("div",{className:(0,o.A)(c.fileViewerContainer,a,e.containerClassName)},(null==(t=e.file.caption)?void 0:t.value)&&(null==(r=e.file.caption)?void 0:r.position)?s.createElement(u.D,{caption:e.file.caption},E):E)}},441465:(e,t,r)=>{"use strict";r.d(t,{W:()=>s});let s={EDIT_EXTERNAL_LINK:"content-manage.edit.link",WEB_LINK_LAUNCH_FRAME:"content-manage.url-launch-frame"}},442810:(e,t,r)=>{"use strict";r.d(t,{d:()=>i,q:()=>o});var s=r(56684);let n="/v1/courses/%courseId%/tools/%toolId%";class o extends s.mj{constructor(e){super(n,e)}}class i extends s.QR{constructor(e){super(n,e)}}},446535:(e,t,r)=>{"use strict";var s=r(951777),n=r(251079),o=r(514041),i=r(25288);o.forwardRef((e,t)=>{let{open:r}=e,a=(0,n.Bi)();return o.useEffect(()=>(null!=r&&r?i.P.getInstance().addModal(a):i.P.getInstance().removeModal(a),()=>{i.P.getInstance().removeModal(a)}),[a,r]),o.createElement(s.yk,{...e,ref:t})}).displayName="BbUiModal"},446692:(e,t,r)=>{"use strict";r.d(t,{o1:()=>m,Ff:()=>p,Lt:()=>g});var s=r(905898);let n={COURSE_RESOURCES_BATCH_DELETE:"course.resources.batch.delete",COURSE_RESOURCES_INVALIDATE:"course.resources.invalidate",COURSE_RESOURCE_LOAD_ALL:"course.resources.load.all"};var o=r(968554),i=r(645250),a=r(750609),l=r(758247),u=r(839781);let d=(e,t)=>e=(0,s.Ay)(e,e=>{var r;let s=null!=(r=e.views.byCourseId[t])?r:{};Object.keys(s).forEach(e=>{s[e].isValid=!1})}),c=(e,t)=>{if(!t)return o.Vc;let r=e.views.byCourseId[t.courseId]||{},s=Object.keys(r).find(e=>{let s=r[e],n=i.isEqual(s.query.paging,t.paging),o=i.isEqual(s.query.queryParams,t.queryParams);return n&&o});return s?{id:s,view:r[s]}:o.Vc},E=e=>["views","byCourseId",e.courseId],p=(0,o.vy)({byCourseResourceId:{},views:{byCourseId:{}},unusedFilesTotal:{}},{[n.COURSE_RESOURCES_BATCH_DELETE]:(e,t)=>(0,s.Ay)(e,e=>{t.content.fileIdsToDelete.forEach(t=>{let r={...e.byCourseResourceId[t].api,isDeleting:!0};e.byCourseResourceId[t].api=r})}),[(0,o.ok)(n.COURSE_RESOURCES_BATCH_DELETE)]:(e,t)=>d(e,t.courseId),[(0,o.fJ)(n.COURSE_RESOURCES_BATCH_DELETE)]:(e,t)=>(e=(0,s.Ay)(e,e=>{t.content.fileIdsToDelete.forEach(t=>{let r={...e.byCourseResourceId[t].api,isDeleting:!1};e.byCourseResourceId[t].api=r})}),(0,o.Nh)(e,t)),[n.COURSE_RESOURCES_INVALIDATE]:(e,t)=>d(e,t.courseId),[n.COURSE_RESOURCE_LOAD_ALL]:(0,o.Dh)(c,E),[(0,o.ok)(n.COURSE_RESOURCE_LOAD_ALL)]:(e,t)=>{let{data:r}=t,{resourceIds:n,resources:i,paging:a,unusedFilesTotal:l}=r;return e=(0,s.Ay)(e,e=>{l&&(e.unusedFilesTotal[t.query.courseId]=l),Object.keys(i).forEach(t=>{e.byCourseResourceId[t]={...i[t]}})}),(0,o.lY)(e,t,{viewResolver:c,viewsPathResolver:E,paging:a,values:n})},[(0,o.fJ)(n.COURSE_RESOURCE_LOAD_ALL)]:(0,o.To)(c,E)}),m={batchDelete:(e,t)=>(0,o.RA)(async r=>{r((0,o.rc)(n.COURSE_RESOURCES_BATCH_DELETE,{courseId:e,content:t}));try{await (0,a.lYu)(e,t),r((0,o.rc)((0,o.ok)(n.COURSE_RESOURCES_BATCH_DELETE),{courseId:e,content:t}))}catch(s){throw r((0,o.rc)((0,o.fJ)(n.COURSE_RESOURCES_BATCH_DELETE),{courseId:e,content:t})),r((0,o.rc)((0,o.ok)(l.A.APP_ERROR),{error:s})),{error:s}}}),invalidateCourseResourceViews:e=>(0,o.RA)(async t=>{t((0,o.rc)(n.COURSE_RESOURCES_INVALIDATE,{courseId:e}))}),loadCourseResourcesByQuery:e=>(0,o.RA)(async(t,r)=>{if(((e,t)=>{let{view:r}=c(e.courseResources,t);return!r||!r.isLoading&&!r.isValid})(r(),e)){t((0,o.rc)(n.COURSE_RESOURCE_LOAD_ALL,{query:e}));try{let r=await (0,a.wD0)(e);t((0,o.rc)((0,o.ok)(n.COURSE_RESOURCE_LOAD_ALL),{query:e,data:r}))}catch(r){throw t((0,o.rc)((0,o.fJ)(n.COURSE_RESOURCE_LOAD_ALL),{query:e})),t((0,o.rc)((0,o.ok)(l.A.APP_ERROR),{error:r})),{error:r}}}})},g={getAllCourseResourcesByQuery:(0,u.n)((e,t)=>{let{view:r}=c(e.courseResources,t);return r?(r.values||[]).map(t=>e.courseResources.byCourseResourceId[t]):[]},e=>e),getCourseResourceViewStatusByQuery:(e,t)=>{var r;let{view:s}=c(e.courseResources,t);return s?{isLoading:s.isLoading,isValid:s.isValid,paging:null!=(r=s.paging)?r:null}:null},getUnusedFilesTotal:(e,t)=>e.courseResources.unusedFilesTotal[t]?e.courseResources.unusedFilesTotal[t]:null}},447666:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});let s=[/edpuzzle/i,/flipgrid/i,/genial\.ly/i,/h5p/i,/kaltura/i,/microsoftstream/i,/miro/i,/nearpod/i,/panopto/i,/prezi/i,/quizlet/i,/sharepoint.+\/(?:\:[pwx]\:|.+&referrer=StreamWebApp)/i,/slideshare/i,/soundcloud/i,/spotify/i,/vidgrid/i,/vimeo\.com/i,/voicethread/i,/youtu\.be/i,/youtube\.com/i,/yuja\.com/i],n=e=>s.some(t=>t.test(e))},447959:(e,t,r)=>{"use strict";r.d(t,{F:()=>l,Pj:()=>E,Wu:()=>d,Y$:()=>i,bG:()=>u,fN:()=>a,jK:()=>c});var s=r(825271),n=r(608719),o=r(647059);function i(e,t,r,o){return(0,n._V_)(s.dZ,{courseId:e,attemptId:t,questionAttemptId:r},o)}async function a(e,t){let r=await (0,n.XuD)(s.dZ,e,t);return{data:(0,o.jD)(r)}}function l(e,t){return(0,n.Vgq)(s.dZ,{courseId:e,attemptId:t})}function u(e,t,r,o=[]){return(0,n.BhX)(s.dZ,{courseId:e,attemptId:t,questionAttemptId:r},o)}function d(e,t,r=[]){return(0,n.wEN)(s.dZ,{courseId:e,attemptId:t},r)}function c(e,t){let{courseId:r,attemptId:o,questionAttemptId:i,groupAttemptId:a}=e;return i&&o?(0,n.wzV)(s.dZ,{courseId:r,attemptId:o,questionAttemptId:i},t,a?{groupAttemptId:a}:void 0):Promise.reject(Error("Missing the question attempt id and attempt id."))}function E(e,t,r,{paging:o,expandParams:i,filterParams:a}={}){let l={};return a&&(l.filter=a),(0,n.dBj)(s.dZ,{courseId:e,assessmentId:t,questionId:r},o,i,l)}},448056:(e,t,r)=>{"use strict";r.d(t,{o1:()=>_,Ff:()=>h,Lt:()=>b});var s=r(905898),n=r(968554),o=r(645250),i=r(400161);let a={GRADEBOOK_SCHEMA_LOAD:"gradebook-schema.load",GRADEBOOK_SCHEMAS_LOAD_BY_COURSE:"gradebook-schema.load.by.course.id",GRADEBOOK_SCHEMA_PERSIST_BY_COURSE:"gradebook-schema.persist.by.course.id",GRADEBOOK_SCHEMA_UPDATE_BY_COURSE:"gradebook-schema.update.by.course.id",GRADEBOOK_SCHEMA_DELETE_BY_COURSE:"gradebook-schema.delete.by.course.id",GRADEBOOK_SCHEMAS_INVALIDATE_DATA:"gradebook-schema.invalidate.data"};var l=r(895703),u=r(764209),d=r(758247),c=r(352290),E=r(159296),p=r(583596);let m=(e,t)=>{let r=e.views.byCourseId[t.courseId]||{},s=Object.keys(r).find(e=>{let s=r[e];return(0,o.isEqual)(s.query,t)});return s?{id:s,view:r[s]}:n.Vc},g=e=>["views","byCourseId",e.courseId],y=(e,t)=>{let r=e.views.byCourseId[t];r&&Object.values(r).forEach(e=>{e.isValid=!1})},I=(e,t)=>(0,s.Ay)(e,e=>{if(t){let r=e.views.byCourseId[t];r&&Object.keys(r).forEach(e=>r[e].isValid=!1)}}),A=(e,t)=>{let{view:r}=m(e.gradebookSchema,t);return!(null==r?void 0:r.isLoading)&&!(null==r?void 0:r.isValid)},h=(0,n.vy)({byId:{},isLoading:!1,isValid:!1,paging:null,permissions:{createGradingSchemas:!1},views:{byCourseId:{}}},{[a.GRADEBOOK_SCHEMA_LOAD]:(0,n.Dh)(m,g),[a.GRADEBOOK_SCHEMAS_LOAD_BY_COURSE]:(0,n.Dh)(m,g),[(0,n.ok)(a.GRADEBOOK_SCHEMA_LOAD)]:function(e,t){let{schema:r}=t;if(!r)return(0,n.Zg)(e,t);let o=(0,s.Ay)(e,e=>{r.id&&(e.byId[r.id]=r)});return(0,n.lY)(o,t,{viewResolver:m,viewsPathResolver:g,values:r.id?[r.id]:void 0})},[(0,n.ok)(a.GRADEBOOK_SCHEMA_PERSIST_BY_COURSE)]:function(e,t){let r=t.schema;if(!r)return(0,n.Zg)(e,t);let o=(0,s.Ay)(e,e=>{if(r.id&&(e.byId[r.id]=r,r.courseId&&e.views.byCourseId)){let t=e.views.byCourseId[r.courseId];t&&Object.keys(t).forEach(e=>{let s=t[e];(null==s?void 0:s.values)&&(null==r?void 0:r.id)&&!s.values.includes(r.id)&&s.values.push(r.id)})}});return(0,n.Zg)(o,t)},[(0,n.ok)(a.GRADEBOOK_SCHEMA_UPDATE_BY_COURSE)]:function(e,t){let r=t.schema,o=(0,s.Ay)(e,e=>{(null==r?void 0:r.id)&&(null==r?void 0:r.courseId)&&(e.byId[r.id]=r)});return(0,n.Zg)(o,t)},[(0,n.fJ)(a.GRADEBOOK_SCHEMA_LOAD)]:n.Nh,[(0,n.fJ)(a.GRADEBOOK_SCHEMAS_LOAD_BY_COURSE)]:(0,n.To)(m,g),[(0,n.ok)(a.GRADEBOOK_SCHEMAS_LOAD_BY_COURSE)]:(e,t)=>{let{schema:r,paging:o,permissions:i}=t;if(!(null==r?void 0:r.byId))return(0,n.Zg)(e,t);let a=(0,s.Ay)(e,e=>{for(let t of Object.keys(r.byId))e.byId[t]=r.byId[t];o&&(e.paging=o),i&&(e.permissions=i)});return(0,n.lY)(a,t,{viewResolver:m,viewsPathResolver:g,values:Object.keys(r.byId||{})})},[(0,n.ok)(a.GRADEBOOK_SCHEMA_DELETE_BY_COURSE)]:(e,t)=>{let{schemaId:r,courseId:i}=t.query,a=(0,s.Ay)(e,e=>{let t=e.views.byCourseId[i];t&&Object.keys(t).forEach(e=>{t[e]&&t[e].values&&(t[e].values=(0,o.filter)(t[e].values,e=>e!==r))}),e.byId[r]&&delete e.byId[r]});return(0,n.Zg)(a,t)},[(0,n.ok)(a.GRADEBOOK_SCHEMAS_INVALIDATE_DATA)]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{y(e,r)})},[c.g.GRANULAR_CONTENT_COPY_COMPLETE]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{y(e,r)})},[(0,n.ok)(l.g.GRADEBOOK_COLUMN_DELETE)]:(e,t)=>{let r=t.gradebookColumn;return(null==r?void 0:r.courseId)?I(e,null==r?void 0:r.courseId):e},[(0,n.ok)(l.g.GRADEBOOK_COLUMN_PERSIST)]:(e,t)=>{let r=t.gradebookColumn,s=t.previousGradebookColumn;return(null==r?void 0:r.courseId)&&(void 0===s||r.gradingSchemaId!==s.gradingSchemaId)?I(e,r.courseId):e},[(0,n.ok)(u.g.CONTENT_DELETE_IN_STORE)]:(e,t)=>{let{invalidateGradingSchemas:r,courseId:s}=t;return s&&r?I(e,s):e},[(0,n.ok)(u.g.CONTENT_PERSIST)]:(e,t)=>{let r,{contents:s,prevContent:n}=t,o=!!Object.values(s).find(e=>(void 0===r&&(r=e.courseId),e.contentHandler&&E.Ay.isLtiPlacement(e.contentHandler.toString()))?E.Ay.getGradingSchemaIdFromCourseContent(e)!==E.Ay.getGradingSchemaIdFromCourseContent(n):!!(0,p.iW)(e)&&(0,p.EO)(e)!==(0,p.EO)(n));return r&&o?I(e,r):e},[(0,n.ok)(d.A.ROUTER_STATE_CHANGE_SUCCESS)]:(e,t)=>{var r,s;let n=null==(s=null==(r=null==t?void 0:t.route)?void 0:r.params)?void 0:s.courseId;return n?I(e,n):e}}),_={loadGradebookSchema:e=>(0,n.Vy)(a.GRADEBOOK_SCHEMA_LOAD,async()=>({schema:await i.Ip(e.courseId,e.schemaId),query:e}),{data:{query:e},condition:(t,{getState:r})=>A(r(),e)}),loadGradebookSchemasByCourseId:e=>(0,n.Vy)(a.GRADEBOOK_SCHEMAS_LOAD_BY_COURSE,async()=>{try{return{schema:await i.pW(e.courseId),query:e}}catch(t){throw new n.GS(t).setData({query:e})}},{data:{query:e},condition:(t,{getState:r})=>A(r(),e)}),persistGradebookSchema:({courseId:e,schema:t})=>(0,n.VP)(a.GRADEBOOK_SCHEMA_PERSIST_BY_COURSE,async()=>({schema:await i.oY(e,t)})),updateGradebookSchema:({courseId:e,schema:t})=>(0,n.VP)(a.GRADEBOOK_SCHEMA_UPDATE_BY_COURSE,async()=>({schema:await i.vK(e,t)})),deleteGradebookSchema:e=>(0,n.VP)(a.GRADEBOOK_SCHEMA_DELETE_BY_COURSE,async()=>(await i.h0(e.courseId,e.schemaId),{query:e})),invalidateData:e=>(0,n.rc)((0,n.ok)(a.GRADEBOOK_SCHEMAS_INVALIDATE_DATA),e)},b={areGradebookSchemasLoading:(e,t)=>{var r;let{view:s}=m(e.gradebookSchema,{courseId:t});return null!=(r=null==s?void 0:s.isLoading)&&r},getGradebookSchemaById:(e,t)=>(0,o.find)(e.gradebookSchema.byId,{id:t}),getGradebookSchemasByCourseId:(e,t)=>{var r;let{view:s}=m(e.gradebookSchema,{courseId:t});return s&&null!=(r=(s.values||[]).filter(t=>void 0!==e.gradebookSchema.byId[t]).map(t=>e.gradebookSchema.byId[t]))?r:[]},isGradebookSchemaDataValid:(e,t)=>{var r;let{view:s}=m(e.gradebookSchema,{courseId:t});return null!=(r=null==s?void 0:s.isValid)&&r}}},448675:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var s=r(336250),n=r(583307),o=r(241101),i=r(707301),a=r(923595),l=r(944763),u=r(869366);let d="video",c=e=>!(!e.isReadOnly||e.isDisabled),E=[`[data-bbtype="${d}"][data-bbfile]`],p={type:"embed",tagName:"div",attributes:{"data-bbtype":d,"data-bbfile":null},renderDomNode:(e,t,r,s)=>{let o,a=JSON.parse((0,l.zY)(r.bbfile)),u=!i.A.some(e=>a.src&&a.src.toLowerCase().endsWith(e)),{isReadOnly:d}=s,E=document.createElement("span");E.classList.add("sr-only"),E.textContent=a.alt;let p=document.createElement("div");p.tabIndex=0,p.classList.add("video-placeholder"),p.classList.add("no-select"),d&&p.classList.add("hidden"),p.appendChild(E),o=u?(({bbFile:e,editorProps:t})=>{let r=document.createElement("iframe");return r.frameBorder=0,r.setAttribute("allowFullScreen",""),r.tabIndex=c(t)?"0":"-1",r.title=e.alt,r.src=e.src,r.classList.add("no-select"),e.width&&e.height&&(r.height=e.height,r.width=e.width),r})({bbFile:a,editorProps:s}):(({bbFile:e,editorProps:t})=>{let{isReadOnly:r,isDisabled:s}=t,n=document.createElement("video");return n.autoplay=!1,n.controls=!(!r||s),n.playsinline=!0,n.ariaLabel=e.alt,n.src=e.src,n.classList.add("no-select"),e.width&&e.height&&(n.height=e.height,n.width=e.width),n})({bbFile:a,editorProps:s});let m=document.createElement("div");m.classList.add("bb-video-embed"),a.width&&a.height?m.classList.add("bb-video-embed--resize"):m.classList.add("bb-video-embed--default"),m.appendChild(p),m.appendChild(o);let g=(0,n.A)(e,t,r);return g.contentEditable=!1,g.classList.add("bb-video"),g.classList.add("wants-props-update"),g.classList.add("ql-embed-selected--hidden"),g.formatComponent=e=>{o.tabIndex=!e.isReadOnly||e.isDisabled?"-1":"0",o.controls=!(!e.isReadOnly||e.isDisabled),p.tabIndex=!e.isReadOnly||e.isDisabled?"0":"-1",c(e)?p.classList.add("hidden"):p.classList.remove("hidden")},g.formatComponent(s),g.appendChild(m),g}};function m(e,t){let r=JSON.parse((0,l.zY)(t.bbfile));return`<a href="${r.src}" data-bbtype="${d}" data-bbfile="${(0,o.Ay)(t.bbfile)}">${function(e){if(null==e)return"";let t=document.createElement("span");return t.textContent=String(e),t.innerHTML}(r.alt)}</a>`}let g=e=>({pluginId:d,buttonConfig:{id:d,cssClass:`${d}`,iconName:"video",iconComponent:a.X,isDialog:!0,isActive:e=>!!e[d],onClick:({showModal:t,...r})=>{t(s.A,{...e,...r})}},matchers:E,module:u.A,formatter:p,toBbML:m})},449454:(e,t,r)=>{"use strict";r.d(t,{N:()=>s,g:()=>n});let s=25,n={COURSE_MESSAGE_SUMMARIES_LOAD:"course.message.summaries.load",COURSE_MESSAGE_SUMMARIES_INVALIDATE:"course.message.summaries.invalidate"}},449717:(e,t,r)=>{"use strict";r.d(t,{G:()=>o});var s,n=r(56684);!function(e){e.Name="name",e.Objects="objects"}(s||(s={}));class o extends n.pT{constructor(){super("/v1/lor/nodes")}}},451208:(e,t,r)=>{"use strict";r(295124)},451489:(e,t,r)=>{"use strict";r.d(t,{G:()=>n});var s=r(56684);class n extends s.mj{constructor(e){super("v1/courses/%courseId%/users/%userId%",e)}}},452320:(e,t,r)=>{"use strict";r.d(t,{p:()=>s,w:()=>n});class s{static increasing(){return new s([2,2,4,8])}static constant(e){return new s([e])}constructor(e){this.steps=e,this.currentStepIndex=0}next(){let e=1e3*this.steps[this.currentStepIndex],t=Math.min(this.currentStepIndex+1,this.steps.length-1);return this.currentStepIndex=t,e}}async function n(e,t){let r,s=new Promise(t=>{r=setTimeout(t,e)});try{await Promise.race([s,...t?[t]:[]])}finally{clearTimeout(r)}}},452657:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var s=r(397965);async function n(e){let{results:t}=await (0,s.Jt)((0,s.c$)("/v1/courses/%courseId%/contents/indicators",{courseId:e}));return{indicators:t}}},453328:(e,t,r)=>{"use strict";r.d(t,{BJ:()=>n,qV:()=>i,uZ:()=>o});var s=r(56684);class n extends s.pT{constructor(){super("/v1/featureFlags")}}class o extends s.mj{constructor(e){super("/v1/featureFlags/%flagKey%",e)}}class i extends s.Jk{constructor(e){super("/v1/featureFlags/%flagKey%",e)}}},455494:(e,t,r)=>{"use strict";r.d(t,{o1:()=>E,Ff:()=>c,Lt:()=>p});var s=r(968554),n=r(744756),o=r(905898),i=r(758247),a=r(352290);let l={COURSE_PROGRESS_CONFIGURATION_LOAD:"course-progress.configuration.load",COURSE_PROGRESS_CONFIGURATION_PERSIST:"course-progress.configuration.persist",COURSE_PROGRESS_CONFIGURATION_INVALIDATE:"course-progress.configuration.invalidate"},u={courseProgressConfiguration:void 0,isLoading:!1,isValid:!1,hasError:!1},d=(e,t)=>(0,o.Ay)(e,e=>{e.courseProgressConfiguration.byCourseId[t]?e.courseProgressConfiguration.byCourseId[t].isValid=!1:e.courseProgressConfiguration.byCourseId[t]={...u}}),c=(0,s.vy)({courseProgressConfiguration:{byCourseId:{}}},{[l.COURSE_PROGRESS_CONFIGURATION_LOAD]:(e,t)=>{let{courseId:r}=t;return(0,o.Ay)(e,e=>{e.courseProgressConfiguration.byCourseId[r]?e.courseProgressConfiguration.byCourseId[r].isLoading=!0:e.courseProgressConfiguration.byCourseId[r]={...u,isLoading:!0}})},[(0,s.ok)(l.COURSE_PROGRESS_CONFIGURATION_LOAD)]:(e,t)=>{let{courseId:r,courseProgressConfiguration:s}=t;return(0,o.Ay)(e,e=>{e.courseProgressConfiguration.byCourseId[r]={...u,courseProgressConfiguration:s,isValid:!0}})},[(0,s.fJ)(l.COURSE_PROGRESS_CONFIGURATION_LOAD)]:(e,t)=>{let{courseId:r}=t;return(0,o.Ay)(e,e=>{e.courseProgressConfiguration.byCourseId[r]?(e.courseProgressConfiguration.byCourseId[r].isLoading=!1,e.courseProgressConfiguration.byCourseId[r].hasError=!0):e.courseProgressConfiguration.byCourseId[r]={...u}})},[l.COURSE_PROGRESS_CONFIGURATION_PERSIST]:(e,t)=>{let{courseId:r}=t;return(0,o.Ay)(e,e=>{e.courseProgressConfiguration.byCourseId[r]?e.courseProgressConfiguration.byCourseId[r].isLoading=!0:e.courseProgressConfiguration.byCourseId[r]={...u,isLoading:!0}})},[(0,s.ok)(l.COURSE_PROGRESS_CONFIGURATION_PERSIST)]:(e,t)=>{let{courseId:r,updatedCourseProgressConfiguration:s}=t;return(0,o.Ay)(e,e=>{e.courseProgressConfiguration.byCourseId[r]={...u,courseProgressConfiguration:s,isValid:!0}})},[(0,s.fJ)(l.COURSE_PROGRESS_CONFIGURATION_PERSIST)]:(e,t)=>{let{courseId:r}=t;return(0,o.Ay)(e,e=>{e.courseProgressConfiguration.byCourseId[r]?e.courseProgressConfiguration.byCourseId[r].isLoading=!1:e.courseProgressConfiguration.byCourseId[r]={...u}})},[l.COURSE_PROGRESS_CONFIGURATION_INVALIDATE]:(e,t)=>{let{courseId:r}=t;return d(e,r)},[a.g.GRANULAR_CONTENT_COPY_COMPLETE]:(e,t)=>{let{courseId:r}=t;return d(e,r)}}),E={loadCourseProgressConfiguration:e=>async(t,r)=>{if(!function(e,t){var r,s;let n=!!(null==(r=e.courseProgress.courseProgressConfiguration.byCourseId[t])?void 0:r.isLoading),o=!!(null==(s=e.courseProgress.courseProgressConfiguration.byCourseId[t])?void 0:s.isValid);return!n&&!o}(r(),e.courseId))return p.getCourseProgressConfiguration(r(),e.courseId);t((0,s.rc)(l.COURSE_PROGRESS_CONFIGURATION_LOAD,{courseId:e.courseId}));try{let r=await (0,n.f)(e);return t((0,s.rc)((0,s.ok)(l.COURSE_PROGRESS_CONFIGURATION_LOAD),{courseProgressConfiguration:r,courseId:e.courseId})),r}catch(r){throw t((0,s.rc)((0,s.fJ)(l.COURSE_PROGRESS_CONFIGURATION_LOAD),{courseId:e.courseId,err:r})),t((0,s.rc)((0,s.ok)(i.A.APP_ERROR),{error:r})),r}},persistCourseProgress:(e,t)=>(0,s.VP)(l.COURSE_PROGRESS_CONFIGURATION_PERSIST,async()=>{try{return{updatedCourseProgressConfiguration:await (0,n.$)(e,{courseId:t}),courseId:t}}catch(e){throw{err:e}}},{courseId:t}),invalidateCourseProgressConfiguration:e=>(0,s.rc)(l.COURSE_PROGRESS_CONFIGURATION_INVALIDATE,{courseId:e})},p={getCourseProgressConfiguration:(e,t)=>{var r;return null==(r=e.courseProgress.courseProgressConfiguration.byCourseId[t])?void 0:r.courseProgressConfiguration},getCourseProgressConfigurationView:(e,t)=>e.courseProgress.courseProgressConfiguration.byCourseId[t]}},455810:(e,t,r)=>{"use strict";r.d(t,{V:()=>k});var s=r(514041),n=r(115183),o=r(877973);let i="24px",a="28px",l="10px",u="40px",d=(0,o.n9)(e=>(0,o.rU)({picker:{color:e.palette.primary.main,fontSize:e.typography.fontSizeMedium,backgroundColor:e.palette.common.white,position:"relative",textAlign:"left"},holder:{WebkitOverflowScrolling:"touch",boxSizing:"border-box",display:"none",[e.breakpoints.up("sm")]:{width:"224px"}},pickerIsOpened:{position:"relative","& $holder":{boxSizing:"border-box",display:"block"}},frame:{padding:"1px",position:"relative"},wrap:{margin:"-1px",padding:"10px",display:"flex"},dayPicker:{display:"block"},header:{display:"inline-flex",height:i,lineHeight:"44px",[e.breakpoints.up("sm")]:{lineHeight:i,flex:1,display:"flex",justifyContent:"center",alignItems:"center"}},headerAxContainer:{[e.breakpoints.up("sm")]:{display:"flex",justifyContent:"center",alignItems:"center"}},month:{display:"inline-block",color:e.palette.primary.main,"&:hover":{color:e.palette.primary.dark,cursor:"pointer"},[e.breakpoints.up("sm")]:{fontSize:"18px",color:e.palette.primary.main,"&:hover":{color:e.palette.primary.main,cursor:"default"}}},year:{marginLeft:"10px",display:"inline-block",color:e.palette.primary.main,"&:hover":{color:e.palette.primary.dark,cursor:"pointer"},[e.breakpoints.up("sm")]:{fontSize:"18px",color:e.palette.primary.main,"&:hover":{color:e.palette.primary.main,cursor:"default"}}},table:{textAlign:"center",borderCollapse:"collapse",borderSpacing:"0",tableLayout:"fixed",fontSize:"inherit",marginTop:"5px",borderTop:`1px solid ${e.palette.border.main}`,"& td":{margin:0,padding:0,border:"1px solid transparent",background:"transparent",textAlign:"center","&:hover":{outline:"1px solid transparent"}}},day:{width:a,height:i,padding:0,lineHeight:i,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.fontSizeDefault,color:e.palette.primary.main,borderRadius:"2px"},weekday:{width:a,height:"30px",padding:0,lineHeight:i,fontSize:e.typography.fontSizeDefault,color:e.palette.primary.main,fontWeight:e.typography.fontWeightBold,"& > abbr[title]":{textDecoration:"none"}},dayIsToday:{fontWeight:e.typography.fontWeightBold,backgroundColor:"inherit",color:e.palette.primary.dark,border:"transparent",[e.palette.highContrastOnly.main]:{border:`1px solid ${e.palette.secondary.main}`},"& $dayIsHighlighted[aria-selected=true]":{color:e.palette.common.white,backgroundColor:e.palette.common.black,fontWeight:e.typography.fontWeightSemiBold,border:`2px solid ${e.palette.common.black}`}},dayIsDisabled:{visibility:"hidden"},dayIsEnabled:{"&:hover":{cursor:"pointer",background:e.palette.secondary.light},"&:active":{backgroundColor:e.palette.focus.dark,border:`2px solid ${e.palette.common.black}`,color:e.palette.common.white,fontWeight:e.typography.fontWeightBold}},dayIsHighlighted:{backgroundColor:e.palette.focus.dark,border:`2px solid ${e.palette.common.black}`,color:e.palette.common.white,fontWeight:e.typography.fontWeightBold,"&:hover":{backgroundColor:e.palette.secondary.light,[e.palette.highContrastOnly.main]:{border:`1px solid ${e.palette.secondary.main}`}},"& span":{position:"absolute",margin:"-2px 0 0 -8px"}},pickerIsFocused:{"& $dayIsHighlighted":{cursor:"pointer",backgroundColor:e.palette.brand.main,"&:hover":{backgroundColor:e.palette.border.dark,[e.palette.highContrastOnly.main]:{border:`1px solid ${e.palette.secondary.main}`}}}},monthComponents:{display:"inline-flex",marginLeft:"3px"},yearComponents:{display:"inline-flex",marginLeft:"3px"},decadeComponents:{display:"inline-flex",marginLeft:"3px"},prevNext:{width:a,height:i,display:"block",textAlign:"center",lineHeight:i,fontSize:e.typography.fontSizeMedium,color:e.palette.primary.dark,position:"relative","&:hover":{color:e.palette.primary.dark,cursor:"pointer",outline:"1px solid transparent"},[e.breakpoints.up("sm")]:{fontSize:e.typography.fontSizeMedium,width:"24px",minHeight:"24px",lineHeight:"24px"}},headerToggleView:{height:i,position:"absolute",width:"130px",cursor:"pointer",backgroundColor:"transparent",color:e.palette.primary.dark,fontSize:"20px",left:"auto",top:"auto",textAlign:"center",fontWeight:e.typography.fontWeightRegular,"&:focus":{backgroundColor:"transparent",position:"absolute"},"&:hover":{backgroundColor:"transparent"}},navContainer:{display:"flex",justifyContent:"center",padding:"0 10px"},currentDecadeYear:{display:"block",fontSize:"14px",color:e.palette.primary.main,lineHeight:"14px",marginBottom:"2px",textAlign:"center"},monthPickerCurrentYear:{display:"flex",alignItems:"center",fontSize:"18px",lineHeight:"1.4",marginBottom:0},optionGrid:{position:"relative",height:"210px",margin:"12px 0 0 0"},yearMonthOption:{width:"60px",height:"60px",lineHeight:"60px",cursor:"pointer",float:"left",margin:"0 10px 10px 0",fontSize:e.typography.fontSizeSmall,color:e.palette.primary.light,textAlign:"center",[e.breakpoints.up("sm")]:{width:u,height:u,lineHeight:u,margin:"0 11px 11px 0","&:hover":{outline:"1px solid transparent"},"&:nth-child(4n+4)":{margin:"0 0px 11px 0"}},"&:active":{backgroundColor:e.palette.primary.dark,color:e.palette.common.white,fontWeight:e.typography.fontWeightBold},"&:hover":{color:e.palette.primary.dark,outline:"1px solid transparent"}},goToday:{bottom:"9px",cursor:"pointer",color:e.palette.primary.main,height:"30px",lineHeight:"30px",padding:"0 10px",position:"absolute",right:"13px",width:"auto",fontSize:e.typography.fontSizeSmall,"&:hover":{color:e.palette.brand.main,outline:"1px solid transparent"},"&:active":{color:e.palette.primary.dark}},goTodaySpacing:{marginBottom:"30px"},isPickingYears:{"& $dayPicker":{display:"none"},"& $monthComponents":{display:"none"},"& $monthPicker":{display:"none"}},monthPickerVisible:{"& $dayPicker":{margin:`-${l} 0`,padding:`${l} 0`,boxSizing:"border-box",borderRight:`1px solid, ${e.palette.primary.light}`,width:"214px"},"& $monthPicker":{display:"block"},"& $optionGrid":{height:"150px"},"& $goToday":{boxSizing:"border-box",fontSize:"12px",height:i,lineHeight:i,padding:"0 10px",right:"10px",textAlign:"right",top:"199px"},"& $isPickingYears":{"& $dayPicker":{display:"block"},"& $monthComponents":{display:"block"},"& $monthPicker":{display:"none"}}},calendarsInline:{"& $wrap":{padding:"10px"},"& $holder":{width:"440px",height:"auto"},"& $table":{marginRight:"10px"},"& $monthPicker":{marginLeft:"10px"},"& $goToday":{right:"13px"}},nextPrevMonth:{display:"inline-block"},nextPrevDateDisabled:{visibility:"hidden"},itemIsHighlighted:{backgroundColor:e.palette.primary.dark,color:e.palette.primary.contrastText,fontWeight:e.typography.fontWeightBold,"&:hover":{color:e.palette.primary.contrastText,fontWeight:e.typography.fontWeightBold}},monthIsCurrentMonth:{fontWeight:e.typography.fontWeightSemiBold,color:e.palette.primary.contrastText,backgroundColor:e.palette.brand.main,"&:hover":{color:e.palette.primary.contrastText,fontWeight:e.typography.fontWeightBold}},monthOption:{"&:active":{backgroundColor:e.palette.primary.dark,color:e.palette.common.white,fontWeight:e.typography.fontWeightBold}},dateIsUnfocused:{cursor:"not-allowed",color:e.palette.action.disabled,fontWeight:e.typography.fontWeightRegular},topLeftCornerDate:{borderRadius:0},topRightCornerDate:{borderRadius:0},bottomLeftCornerDate:{borderRadius:0},bottomRightCornerDate:{borderRadius:0},singleTopDate:{borderRadius:0},singleBottomDate:{borderRadius:0},monthPicker:{},root:{boxSizing:"border-box",boxShadow:"none"}}));var c=r(951777),E=r(99625),p=r(498858),m=r(377325),g=r(865004),y=r(225927),I=r(565473),A=r(247803),h=r(212263),_=r(580445),b=r(175630),S=r(479889),T=r(384224),O=r(309546);let v=e=>{let t=d(),{firstDayOfWeek:r,strings:o,navigatedDate:i,dateRangeType:a,dateTimeFormatter:l,onNavigateDate:u,onHeaderSelect:v,analyticsId:f,navigatedDayRef:C,restrictions:R,showGoToToday:D,goToTodayButtonRef:L,prevButtonRef:N}=e,U=(0,g.W)(),{isRtl:P}=(0,y.b)(),w="DatePickerDay-dayPicker",k="DatePickerDay-month",M="DatePickerDay-year",B=s.useCallback(()=>{u((0,I.A)(i,1),!1)},[i,u]),G=s.useCallback(()=>{u((0,I.A)(i,-1),!1)},[i,u]),x=s.useCallback(t=>{let{onSelectDate:r,dateRangeType:s,firstDayOfWeek:n,navigatedDate:o,autoNavigateOnSelection:i}=e,a=(0,E.xe)(t,s,n);if(r&&r(t,a),i&&t.getMonth()!==o.getMonth()){let e=(0,A.A)(t,o);e<0?G():e>0&&B()}},[e,B,G]),V=s.useCallback(e=>{let{navigatedDate:t,selectedDate:r,dateRangeType:s,firstDayOfWeek:o,today:i,restrictions:a}=e,l=new Date(t.getFullYear(),t.getMonth(),1),u=i||new Date,d=[];for(;l.getDay()!==o;)l.setDate(l.getDate()-1);let c=!1,p=(0,E.xe)(r,s,o);for(let e=0;!c;e++){let e=[];c=!0;for(let r=0;r<7;r++){let r=new Date(l.toString()),s=!0;a&&(s=(0,E.$Q)(r,{singleRestriction:a.singleRestriction})===n.Pv.None);let o={key:l.toString(),date:l.getDate().toString(),originalDate:r,isEnabled:s,isInMonth:l.getMonth()===t.getMonth(),isToday:(0,E.H$)(u,l),isSelected:(0,E.yw)(l,p),onSelected:()=>x(r)};e.push(o),o.isInMonth&&(c=!1),l.setDate(l.getDate()+1)}c||d.push(e)}return d},[x]),q="DatePickerDay-active",[F,K]=s.useState(V(e)),j=(e=>{let t=s.useRef();return s.useEffect(()=>{t.current=e}),t.current})(e),H=s.useRef(null);function Y(e,t){(t.key===T.U.Enter||" "===t.key)&&(t.preventDefault(),e())}return s.useEffect(()=>{j!==e&&K(V(e))},[e,V,j]),s.createElement("div",{"data-analytics-id":f,className:t.dayPicker,id:w},s.createElement("div",null,s.createElement("div",{className:t.currentDecadeYear,id:M},l.formatYear(i)),s.createElement("div",{className:t.navContainer},s.createElement(c.uJ,{className:(0,O.A)(t.nextPrevMonth,t.prevNext,{[t.nextPrevDateDisabled]:!(0,E.aR)(R,i,n.ci.Month,!1)}),"aria-controls":w,"aria-label":o.prevMonthAriaLabel,onClick:G,onKeyDown:function(e){if(e.key===T.U.Tab&&e.shiftKey){if(D&&L.current){e.preventDefault(),L.current.focus();return}if(C.current){e.preventDefault(),C.current.focus();return}}Y(G,e)},analyticsId:`${f}.prevMonth.button`,ref:N},s.createElement(p.Y,null)),s.createElement("div",{className:t.header},s.createElement("div",{className:t.headerAxContainer,role:"status","aria-live":"assertive","aria-relevant":"text","aria-atomic":"true",id:k},v?null:s.createElement("div",{className:t.month},l.formatMonth(i,o))),v?s.createElement(c.wJ,{className:t.headerToggleView,onClick:()=>v(!0),onKeyDown:function(e){Y(()=>null==v?void 0:v(!0),e)},"aria-describedby":M,analyticsId:`${f}monthPicker`},l.formatMonth(i,o)):null),s.createElement(c.uJ,{className:(0,O.A)(t.nextPrevMonth,t.prevNext,{[t.nextPrevDateDisabled]:!(0,E.aR)(R,i,n.ci.Month,!0)}),"aria-controls":w,"aria-label":o.nextMonthAriaLabel,onClick:B,onKeyDown:function(e){Y(B,e)},analyticsId:`${f}.nextMonth.button`,ref:H},s.createElement(m.H,null)))),s.createElement("table",{className:t.table,"aria-readonly":"true","aria-multiselectable":a===n.ci.Week?"true":"false","aria-labelledby":k,"aria-activedescendant":q,role:"grid"},s.createElement("thead",null,s.createElement("tr",null,o.shortDays.map((e,n)=>s.createElement("th",{className:t.weekday,scope:"col",key:n,"aria-label":o.days[(n+r)%7],role:"columnheader",id:`th${n}`},s.createElement("abbr",null,o.shortDays[(n+r)%7]))))),s.createElement("tbody",null,F.map((r,d)=>s.createElement("tr",{key:d},r.map((r,d)=>s.createElement("td",{key:r.key,role:"gridcell"},s.createElement("div",{className:(0,O.A)(t.day,{[t.dayIsEnabled]:r.isEnabled,[t.dayIsDisabled]:!!R&&!r.isInMonth,[t.dateIsUnfocused]:!(r.isInMonth&&r.isEnabled),[t.dayIsToday]:r.isToday,[t.dayIsHighlighted]:r.isSelected&&a===n.ci.Day,[t.itemIsHighlighted]:(0,E.H$)(i,r.originalDate)}),role:"button","data-analytics-id":`${f}.daySelected`,onClick:r.isEnabled?r.onSelected:void 0,onKeyDown:function(t,r){return s=>{if((s.key===T.U.Enter||" "===s.key)&&r)return void x(t);if(s.key===T.U.Tab){if(!s.shiftKey){if(D&&L.current){s.preventDefault(),L.current.focus();return}if(N.current){s.preventDefault(),N.current.focus();return}}if(s.shiftKey&&H.current){s.preventDefault(),H.current.focus();return}}let{navigatedDate:o,restrictions:i}=e,a=t;s.key===T.U.ArrowUp?a=(0,h.A)(t,-1):s.key===T.U.ArrowDown?a=(0,h.A)(t,1):s.key===T.U.ArrowRight?a=(0,_.A)(t,P()?-1:1):s.key===T.U.ArrowLeft?a=(0,_.A)(t,P()?1:-1):s.altKey&&s.key===T.U.PageUp?a=(0,I.A)(t,-12):s.altKey&&s.key===T.U.PageDown?a=(0,I.A)(t,12):s.key===T.U.PageUp?a=(0,I.A)(t,-1):s.key===T.U.PageDown?a=(0,I.A)(t,1):s.key===T.U.Home?a=(0,b.A)(t):s.key===T.U.End&&(a=(0,S.A)(t)),(a.getMonth()===o.getMonth()||(0,E.aR)(i,o,n.ci.Month,a>o))&&u(a,!0),s.preventDefault()}}(r.originalDate,r.isEnabled),"aria-current":r.isToday?"date":void 0,"aria-label":function(e,t){let r=l.formatMonthDayYear(e.originalDate,o);return t?U("cr.components.calendar.ariaSelectedDateLabel",{selectedDate:r}):r}(r,r.isSelected),"aria-describedby":`th${d}`,"aria-disabled":!r.isEnabled,id:(0,E.H$)(i,r.originalDate)?q:void 0,"data-is-focusable":!0,ref:(0,E.H$)(i,r.originalDate)?C:void 0,key:(0,E.H$)(i,r.originalDate)?"navigatedDay":void 0},s.createElement("span",null,l.formatDay(r.originalDate))))))))))};var f=r(409216),C=r(4280),R=r(802928),D=r(126996);let L=e=>{let{index:t,month:r,navigatedDate:o,strings:i,highlightCurrentMonth:a,analyticsEventAugmentor:l,navigatedMonthRef:u,prevYearButtonRef:c,nextYearButtonRef:p,selectMonthCallbacks:m,dateTimeFormatter:A,restrictions:h,analyticsId:_,showGoToToday:v,goToTodayButtonRef:f}=e,C=d(),L=(0,g.W)(),{isRtl:N}=(0,y.b)(),U=function(t){let{restrictions:r,navigatedDate:s}=e;if(r&&!(0,D.A)(new Date(s.getFullYear(),t))){let e=new Date(s.getFullYear(),t,1),o=(0,b.A)(e),i=(0,S.A)(e);return(0,E.$Q)(o,{singleRestriction:r.singleRestriction})===n.Pv.None||(0,E.$Q)(i,{singleRestriction:r.singleRestriction})===n.Pv.None}return!0}(t),P=(0,D.A)(new Date(o.getFullYear(),t));return s.createElement("span",{role:"button",className:(0,O.A)(C.monthOption,C.yearMonthOption,{[C.monthIsCurrentMonth]:a&&P,[C.itemIsHighlighted]:a&&o.getMonth()===t&&U,[C.dateIsUnfocused]:!U}),key:t,onClick:U?l(R.AnalyticsEventTypes.CLICK_EVENT,m[t],`${_}.monthSelected`):void 0,onKeyDown:r=>{if((r.key===T.U.Enter||" "===r.key)&&U)return void m[t]();if(r.key===T.U.Tab)if(r.shiftKey){if(r.shiftKey&&p.current){r.preventDefault(),p.current.focus();return}}else{if(v&&f.current){r.preventDefault(),f.current.focus();return}if(c.current){r.preventDefault(),c.current.focus();return}}let{onNavigateDate:s,navigatedDate:i}=e,a=o;r.key===T.U.ArrowUp?a=(0,I.A)(o,-4):r.key===T.U.ArrowDown?a=(0,I.A)(o,4):r.key===T.U.ArrowRight?a=(0,I.A)(o,N()?-1:1):r.key===T.U.ArrowLeft?a=(0,I.A)(o,N()?1:-1):r.altKey&&r.key===T.U.PageUp?a=(0,I.A)(o,-12):r.altKey&&r.key===T.U.PageDown?a=(0,I.A)(o,12):r.key===T.U.PageUp?a=(0,I.A)(o,-12):r.key===T.U.PageDown?a=(0,I.A)(o,12):r.key===T.U.Home?a=(0,b.A)(o):r.key===T.U.End&&(a=(0,S.A)(o)),(a.getFullYear()===i.getFullYear()||(0,E.aR)(h,i,n.ci.Year,a>i))&&s(a,!0),r.preventDefault()},"data-analytics-id":`${_}.monthSelected`,"aria-current":P?"date":void 0,"aria-label":function(e,t){let r=o.getMonth()===e,s=function(e,t){let r=new Date(2019,e,1);return A.formatMonth(r,t)}(e,t);return r?L("cr.components.calendar.ariaSelectedDateLabel",{selectedDate:s}):s}(t,i),"aria-describedby":"year_","aria-disabled":!U,"data-is-focusable":!0,ref:o.getMonth()===t?u:void 0},r)},N=(0,R.withAnalytics)(e=>{let t=d(),{navigatedDate:r,strings:o,highlightCurrentMonth:i,dateTimeFormatter:a,navigatedMonthRef:l,analyticsEventAugmentor:u,analyticsId:g,restrictions:y,onNavigateDate:I,showGoToToday:A,goToTodayButtonRef:h,prevButtonRef:_}=e,b=[],S=s.useRef(null);function v(e,t){(t.key===T.U.Enter||" "===t.key)&&(t.preventDefault(),e())}function R(){let{navigatedDate:t,onNavigateDate:r}=e;r((0,f.A)(t,1),!1)}function D(){let{navigatedDate:t,onNavigateDate:r}=e;r((0,f.A)(t,-1),!1)}function N(){let{onHeaderSelect:t}=e;t&&t(!0)}return o.shortMonths.map((t,r)=>b[r]=()=>(function(t){let{navigatedDate:r,onNavigateDate:s,onHeaderSelect:n}=e;n&&n(!0),s((0,C.A)(r,t),!0)})(r)),s.createElement("div",{"data-analytics-id":g,className:t.monthPicker},s.createElement("div",{className:t.navContainer},s.createElement(c.uJ,{className:(0,O.A)(t.prevNext,t.nextPrevMonth,{[t.nextPrevDateDisabled]:!(0,E.aR)(y,r,n.ci.Year,!1)}),"aria-label":o.prevYearAriaLabel,onClick:D,onKeyDown:function(e){if(e.key===T.U.Tab&&e.shiftKey){if(A&&h.current){e.preventDefault(),h.current.focus();return}if(l.current){e.preventDefault(),l.current.focus();return}}v(D,e)},analyticsId:`${g}.prevYear.button`,ref:_},s.createElement(p.Y,null)),s.createElement("div",{className:t.header},s.createElement("div",{role:e.onHeaderSelect?"button":void 0,tabIndex:e.onHeaderSelect?0:-1,onClick:e.onHeaderSelect?N:void 0,onKeyDown:function(t){v(()=>e.onHeaderSelect&&N(),t)},"data-analytics-id":`${g}.headerToggle`,className:e.onHeaderSelect?t.headerToggleView:(0,O.A)(t.currentDecadeYear,t.monthPickerCurrentYear),id:"year_"},a.formatYear(r))),s.createElement(c.uJ,{className:(0,O.A)(t.nextPrevMonth,t.prevNext,{[t.nextPrevDateDisabled]:!(0,E.aR)(y,r,n.ci.Year,!0)}),"aria-label":o.nextYearAriaLabel,onClick:R,onKeyDown:function(e){v(R,e)},analyticsId:`${g}nextYear.button`,ref:S},s.createElement(m.H,null))),s.createElement("div",{className:t.optionGrid,onFocus:function(){l.current&&(l.current.tabIndex=0,l.current.focus())},tabIndex:0},o.shortMonths.map((e,t)=>s.createElement(L,{key:t,month:e,index:t,highlightCurrentMonth:i,navigatedDate:r,navigatedMonthRef:l,prevYearButtonRef:_,nextYearButtonRef:S,selectMonthCallbacks:b,strings:o,analyticsId:g,dateTimeFormatter:a,onNavigateDate:I,analyticsEventAugmentor:u,restrictions:y,showGoToToday:A,goToTodayButtonRef:h}))))});var U=r(737234);let P={leftNavigation:"Up",rightNavigation:"Down"},w={formatMonthDayYear:(e,t)=>`${null==t?void 0:t.months[e.getMonth()]} ${e.getDate()}, ${e.getFullYear()}`,formatMonthYear:(e,t)=>`${null==t?void 0:t.months[e.getMonth()]} ${e.getFullYear()}`,formatMonth:(e,t)=>`${null==t?void 0:t.months[e.getMonth()]}`,formatDay:(e,t)=>t?t(e.getDate()):e.getDate().toString(),formatYear:(e,t)=>t?t(e.getFullYear()):e.getFullYear().toString()},k=s.forwardRef(function(e,t){var r;let o=d(),i=(0,g.W)(),{showMonthPickerAsOverlay:a=!1,today:l=(0,U.A)(new Date),firstDayOfWeek:u=n.ob.Sunday,dateRangeType:c=n.ci.Day,autoNavigateOnSelection:p=!1,showGoToToday:m=!0,highlightCurrentMonth:y=!1,navigationIcons:I=P,dateTimeFormatter:A=w,analyticsId:h,isMonthPickerVisible:_=!0,isDayPickerVisible:b=!0,restrictions:S}=e,f=s.useRef(null),C=s.useRef(null),R=s.useRef(null),D=s.useRef(null),L=e.value&&!isNaN(e.value.getTime())?e.value:e.today||(0,U.A)(new Date),[k,M]=s.useState(L),[B,G]=s.useState(L),[x,V]=s.useState(!0),[q,F]=s.useState(!a&&_),[K,j]=s.useState(!!a||b),H=(e=>{let t=s.useRef();return s.useEffect(()=>{t.current=e}),t.current})(e);function Y(e,t){G(e),V(t)}function Q(t,r){let{onSelectDate:s}=e;M(t),s&&s(t,r)}s.useEffect(()=>{setTimeout(()=>{x&&(C.current?(C.current.tabIndex=0,C.current.focus()):f.current&&(f.current.tabIndex=0,f.current.focus()),V(!1))})},[x,C,f]),s.useEffect(()=>{if(H!==e){let{autoNavigateOnSelection:t,value:r=new Date}=e;t&&(0,E.H$)(r,(null==H?void 0:H.value)?H.value:r)&&G(r),M(r||l)}},[e,H,l]),s.useImperativeHandle(t,()=>({calendarFocus:()=>{C.current&&(C.current.tabIndex=0)}}));let J=a?function(e){j(!K),F(!q),e&&V(!0)}:void 0;function $(){let{today:t=(0,U.A)(new Date)}=e,r=(0,E.xe)(t,n.ci.Day,n.ob.Sunday);Q(t,r)}let z=null!=(r=e.strings)?r:{months:[i("cr.components.calendar.strings.months.january"),i("cr.components.calendar.strings.months.february"),i("cr.components.calendar.strings.months.march"),i("cr.components.calendar.strings.months.april"),i("cr.components.calendar.strings.months.may"),i("cr.components.calendar.strings.months.june"),i("cr.components.calendar.strings.months.july"),i("cr.components.calendar.strings.months.august"),i("cr.components.calendar.strings.months.september"),i("cr.components.calendar.strings.months.october"),i("cr.components.calendar.strings.months.november"),i("cr.components.calendar.strings.months.december")],shortMonths:[i("cr.components.calendar.strings.shortMonths.january"),i("cr.components.calendar.strings.shortMonths.february"),i("cr.components.calendar.strings.shortMonths.march"),i("cr.components.calendar.strings.shortMonths.april"),i("cr.components.calendar.strings.shortMonths.may"),i("cr.components.calendar.strings.shortMonths.june"),i("cr.components.calendar.strings.shortMonths.july"),i("cr.components.calendar.strings.shortMonths.august"),i("cr.components.calendar.strings.shortMonths.september"),i("cr.components.calendar.strings.shortMonths.october"),i("cr.components.calendar.strings.shortMonths.november"),i("cr.components.calendar.strings.shortMonths.december")],days:[i("cr.components.calendar.strings.days.sunday"),i("cr.components.calendar.strings.days.monday"),i("cr.components.calendar.strings.days.tuesday"),i("cr.components.calendar.strings.days.wednesday"),i("cr.components.calendar.strings.days.thursday"),i("cr.components.calendar.strings.days.friday"),i("cr.components.calendar.strings.days.saturday")],shortDays:[i("cr.components.calendar.strings.shortDays.sunday"),i("cr.components.calendar.strings.shortDays.monday"),i("cr.components.calendar.strings.shortDays.tuesday"),i("cr.components.calendar.strings.shortDays.wednesday"),i("cr.components.calendar.strings.shortDays.thursday"),i("cr.components.calendar.strings.shortDays.friday"),i("cr.components.calendar.strings.shortDays.saturday")],goToToday:i("cr.components.calendar.strings.goToToday"),prevMonthAriaLabel:i("cr.components.calendar.strings.prevMonthAriaLabel"),nextMonthAriaLabel:i("cr.components.calendar.strings.nextMonthAriaLabel"),prevYearAriaLabel:i("cr.components.calendar.strings.prevYearAriaLabel"),nextYearAriaLabel:i("cr.components.calendar.strings.nextYearAriaLabel")};return s.createElement("div",{"data-analytics-id":h,className:(0,O.A)("ms-DatePicker",o.root),role:"application","aria-label":i("cr.components.calendar.ariaLabelCalendar")},s.createElement("div",{className:(0,O.A)(o.picker,o.pickerIsOpened,o.pickerIsFocused,q&&o.monthPickerVisible,q&&K&&o.calendarsInline)},s.createElement("div",{className:o.holder,onKeyDown:function(t){switch(t.key){case T.U.Enter:case T.U.Backspace:t.preventDefault();break;case T.U.Escape:var r;null==(r=e.onDismiss)||r.call(e)}}},s.createElement("div",{className:o.frame},s.createElement("div",{className:(0,O.A)(o.wrap,{[o.goTodaySpacing]:m||S})},K&&s.createElement(v,{selectedDate:k,navigatedDate:B,today:l,onSelectDate:Q,onNavigateDate:Y,firstDayOfWeek:u,dateRangeType:c,autoNavigateOnSelection:p,strings:z,onHeaderSelect:J,navigationIcons:I,dateTimeFormatter:A,navigatedDayRef:C,analyticsId:`${h}.dayPicker`,restrictions:S,showGoToToday:m,goToTodayButtonRef:R,prevButtonRef:D}),q&&s.createElement(N,{navigatedDate:B,strings:z,onSelectDate:Q,onNavigateDate:Y,highlightCurrentMonth:y,onHeaderSelect:J,navigationIcons:I,dateTimeFormatter:A,navigatedMonthRef:f,analyticsId:`${h}.monthPicker`,restrictions:S,showGoToToday:m,goToTodayButtonRef:R,prevButtonRef:D}),m&&s.createElement("span",{"data-analytics-id":`${h}.todayButton`,role:"button",className:o.goToday,onClick:$,onKeyDown:function(e){e.key===T.U.Enter||" "===e.key?(e.preventDefault(),$()):e.key===T.U.Tab&&!e.shiftKey&&D.current&&(e.preventDefault(),D.current.focus())},ref:R,tabIndex:0},z.goToToday))))))})},456585:(e,t,r)=>{"use strict";r.d(t,{e:()=>n,r:()=>s});let s=(e,t)=>(null==e?void 0:e.type)==="api"&&t.includes(e.status),n=e=>(null==e?void 0:e.type)==="network"},457969:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>L,Lt:()=>U,kK:()=>C,o1:()=>N});var s=r(905898),n=r(139552),o=r(645250),i=r(232955),a=r(758247),l=r(968554),u=r(842804),d=r(246206),c=r(820656),E=r(437272),p=r(956284),m=r(300474),g=r(808954),y=r(764209),I=r(612918),A=r(170228),h=r(319308);let _=e=>["views","byColumnId",e.columnId],b=e=>["byGradebookAttemptId",e.attemptId];function S(e){return{columnId:e.columnId,gradeId:"gradeId"in e?e.gradeId:void 0,attemptId:"attemptId"in e?e.attemptId:void 0,groupAttemptId:"groupAttemptId"in e?e.groupAttemptId:void 0,expand:"expand"in e?e.expand:void 0}}let T=["columnId","gradeId","attemptId","groupAttemptId","expand"],O=(e,t)=>{var r;let s=Object.keys(t);return Object.values(null!=(r=e.views.byColumnId[t.columnId])?r:{}).filter(e=>o.isEqual(o.pick(S(t),...s),o.pick(S(e.query),...s)))},v=(e,t)=>{var r;if(!t)return l.Vc;let s=S(t),n=null!=(r=e.views.byColumnId[t.columnId])?r:{},o=Object.keys(n).find(e=>(0,h.W)(s,S(n[e].query),T));return o?{id:o,view:n[o]}:l.Vc},f=(e,t)=>{let{view:r}=v(t.getState().gradebookAttempt,e.query);return!(null==r?void 0:r.isLoading)&&(!!e.needsRefresh||!(null==r?void 0:r.isValid))},C=e=>{var t,r;return null==(r=null==(t=e.toolAttemptDetail)?void 0:t[p.Qc.Test.toString()])?void 0:r.assessment},R=(e,t)=>{var r;let s=null==(r=C(t))?void 0:r.id;if(s&&t.id){let r=e.byGradebookAttemptId[t.id].value;r&&(r.assessmentId=s)}},D=(e,t)=>{t.forEach(t=>{let r=(0,i.Rg)(t);e.byGradebookAttemptId[r.id]={value:r,status:I.U8},R(e,r)})},L=(0,l.vy)({views:{byColumnId:{}},byCourseId:{},byGradebookAttemptId:{},deletedAttemptsByColumnId:{},paging:void 0,isLoading:!1},{[g.g.GRADEBOOK_ATTEMPT_LOAD]:(0,l.Dh)(v,_),[g.g.GRADEBOOK_CLEAR_STUDENT_SUBMISSION_WITH_VIEW_URL_EXPANDED]:(e,t)=>{let{attemptId:r}=t;return(0,s.Ay)(e,t=>{let s=e.byGradebookAttemptId[r].value;if(s){let e={...s};delete e.studentSubmissionViewUrlExpanded,t.byGradebookAttemptId[r].value=e}})},[(0,l.ok)(g.g.GRADEBOOK_ATTEMPT_LOAD)]:(e,t)=>{let{attempt:r,courseId:n,columnId:o,viewUrlRequested:i}=t,a=(0,s.Ay)(e,t=>{var s;if(r){let a=null==(s=e.byGradebookAttemptId[r.id])?void 0:s.value,l={...a,...r,studentSubmissionViewUrlExpanded:i?r.studentSubmission:null==a?void 0:a.studentSubmissionViewUrlExpanded,courseId:n,columnId:o};(null==a?void 0:a.rubricEvaluation)&&!r.rubricEvaluation&&delete l.rubricEvaluation,t.byGradebookAttemptId[r.id]={value:l,status:I.U8},R(t,r)}});return(0,l.lY)(a,t,{viewResolver:v,viewsPathResolver:_,values:[r.id]})},[(0,l.fJ)(g.g.GRADEBOOK_ATTEMPT_LOAD)]:(0,l.To)(v,_),[(0,l.ok)(E.g.GRADEBOOK_GROUP_ATTEMPT_LOAD)]:(e,t)=>{let{groupAttempt:r,columnId:n}=t,o=r.attempts;if(!(null==o?void 0:o.length))return e;let i=(0,s.Ay)(e,e=>{let t=[];o.forEach(r=>{e.byGradebookAttemptId[r.id]={value:r,status:I.U8},R(e,r),t.push(r.id),(0,l.gD)(e,(0,l.lY)(e,{type:E.g.GRADEBOOK_GROUP_ATTEMPT_LOAD,query:{attemptId:r.id,columnId:n}},{viewResolver:v,viewsPathResolver:_,values:[r.id]}))}),(0,l.gD)(e,(0,l.lY)(e,{type:E.g.GRADEBOOK_GROUP_ATTEMPT_LOAD,query:{groupAttemptId:r.id,columnId:n}},{viewResolver:v,viewsPathResolver:_,values:t}))});return(0,l.Zg)(i,t)},[(0,l.ok)(E.g.GRADEBOOK_GROUP_ATTEMPT_DELETE)]:(e,t)=>{let{groupAttempt:{id:r}}=t;return r?(0,s.Ay)(e,e=>{Object.values(e.byGradebookAttemptId).forEach(t=>{var s,n;let o=null==(s=t.value)?void 0:s.id;o&&(null==(n=t.value)?void 0:n.groupAttemptId)===r&&delete e.byGradebookAttemptId[o]})}):e},[(0,l.ok)(E.g.SET_GRADEBOOK_GROUP_ATTEMPT_UPDATE)]:(e,t)=>{let{groupAttempt:r}=t,n=r.attempts;return(null==n?void 0:n.length)?(0,s.Ay)(e,e=>{D(e,n)}):e},[(0,l.ok)(E.g.GRADEBOOK_GROUP_ATTEMPT_UPDATE)]:(e,t)=>{let{groupAttempt:r}=t,n=r.attempts;return(null==n?void 0:n.length)?(0,s.Ay)(e,e=>{D(e,n)}):e},[g.g.GRADEBOOK_ATTEMPT_DELETE]:(0,I.rK)(b,I.hu.Delete,I.nn),[(0,l.ok)(g.g.GRADEBOOK_ATTEMPT_DELETE)]:(e,t)=>{let{attempt:r}=t,n=r.id;return(0,s.Ay)(e,e=>{delete e.byGradebookAttemptId[n]})},[(0,l.fJ)(g.g.GRADEBOOK_ATTEMPT_DELETE)]:(0,I.rK)(b,I.hu.Delete,I.XP),[g.g.GRADEBOOK_ATTEMPTS_LOAD]:(e,t)=>(0,l.Dh)(v,_)((0,l.r1)(e,t),t),[(0,l.ok)(g.g.GRADEBOOK_ATTEMPTS_LOAD)]:(e,t)=>{let{byGradebookAttemptId:r={},deletedAttempts:n,courseId:o,columnId:i,viewUrlRequested:a,gradeId:u,query:d}=t,c=(0,s.Ay)(e,t=>{i&&!u&&(t.deletedAttemptsByColumnId[i]={value:[...n].sort((e,t)=>{var r,s;return(null!=(r=e.delegatedGraderOrder)?r:1/0)-(null!=(s=t.delegatedGraderOrder)?s:1/0)}),status:I.U8}),Object.entries(r).forEach(([r,s])=>{var n;let u=null==(n=e.byGradebookAttemptId[r])?void 0:n.value;t.byGradebookAttemptId[r]={value:{...u,...s,studentSubmissionViewUrlExpanded:a?s.studentSubmission:null==u?void 0:u.studentSubmissionViewUrlExpanded,courseId:o,columnId:i},status:I.U8},(0,l.gD)(t,(0,l.lY)(t,{type:g.g.GRADEBOOK_ATTEMPTS_LOAD,query:{...d,attemptId:r}},{viewResolver:v,viewsPathResolver:_,values:[r]}))}),(0,l.gD)(t,(0,l.lY)(t,{type:g.g.GRADEBOOK_ATTEMPTS_LOAD,query:d},{viewResolver:v,viewsPathResolver:_,values:Object.keys(r)}))});return(0,l.Zg)(c,t)},[(0,l.fJ)(g.g.GRADEBOOK_ATTEMPTS_LOAD)]:(0,l.To)(v,_),[g.g.GRADEBOOK_ATTEMPT_UPDATE]:(0,I.rK)(b,I.hu.Update,I.J7),[(0,l.ok)(g.g.GRADEBOOK_ATTEMPT_UPDATE)]:(e,t)=>{let{attempt:r,columnId:n}=t,{byGradebookAttemptId:o}=e;return(0,s.Ay)(e,e=>{var t;let s=null==(t=o[r.id])?void 0:t.value;s?e.byGradebookAttemptId[r.id]={value:{...s,...r},status:I.U8}:(e.byGradebookAttemptId[r.id]={value:r,status:I.U8},((e,t)=>{let r=e.views.byColumnId[t];r&&Object.values(r).forEach(t=>{t.values&&(t.values.some(t=>{var r;return null==(r=e.byGradebookAttemptId[t])?void 0:r.value})||(t.isValid=!1))})})(e,n)),R(e,r)})},[(0,l.fJ)(g.g.GRADEBOOK_ATTEMPT_UPDATE)]:(0,I.rK)(b,I.hu.Update,I.XP),[g.g.GRADEBOOK_ATTEMPT_LOAD_BY_GRADE_IDS_IN_BATCH]:(e,t)=>{let{gradeIdColumnIdMap:r,courseId:n}=t.query;return(0,s.Ay)(e,e=>{var t,s;(null==(t=e.byCourseId[n])?void 0:t.byGradeId)||(e.byCourseId[n]={byGradeId:{}});let o=null==(s=e.byCourseId[n])?void 0:s.byGradeId;Object.keys(r).forEach(e=>{o[e]={status:I.vq}})})},[(0,l.fJ)(g.g.GRADEBOOK_ATTEMPT_LOAD_BY_GRADE_IDS_IN_BATCH)]:(e,t)=>{let{gradeIdColumnIdMap:r,courseId:n}=t.query;return(0,s.Ay)(e,e=>{var t,s;(null==(t=e.byCourseId[n])?void 0:t.byGradeId)||(e.byCourseId[n]={byGradeId:{}});let o=null==(s=e.byCourseId[n])?void 0:s.byGradeId;Object.keys(r).forEach(e=>{o[e]={status:I.JL}})})},[(0,l.ok)(g.g.GRADEBOOK_ATTEMPT_LOAD_BY_GRADE_IDS_IN_BATCH)]:(e,t)=>{let{gradeIdColumnIdMap:r,courseId:n}=t.query;if(!t.data)return(0,l.Zg)(e,t);let{attempts:o,gradeIdToAttemptIdsMap:i,failedGradeIds:a}=t.data;return(0,s.Ay)(e,e=>{var t,s;(null==(t=e.byCourseId[n])?void 0:t.byGradeId)||(e.byCourseId[n]={byGradeId:{}});let l=null==(s=e.byCourseId[n])?void 0:s.byGradeId;Object.keys(r).forEach(t=>{var r;null==(r=i[t])||r.forEach(t=>{let r=o[t];e.byGradebookAttemptId[t]||(e.byGradebookAttemptId[t]={value:r,status:I.U8})}),l[t]={value:i[t],status:I.y_}}),a.forEach(e=>{l[e]={status:I.JL}})})},[(0,l.ok)(u.g.QUESTION_PERSIST)]:(e,t)=>{let{columnId:r}=t;return(0,s.Ay)(e,e=>{let t=e.views.byColumnId[r];t&&Object.values(t).forEach(e=>{e.isValid=!1})})},[(0,l.ok)(d.g.GRADED_QUESTION_ATTEMPT_PERSIST)]:(e,t)=>{let{dependents:{columnId:r,attemptId:n}}=t.data;return(0,s.Ay)(e,e=>{if(r)for(let t of O(e,{columnId:r,attemptId:n}))t.isValid=!1})},[g.g.GRADEBOOK_ATTEMPTS_INVALIDATE_BY_COLUMN_ID]:(e,t)=>{let{columnId:r}=t;return(0,s.Ay)(e,e=>{for(let t of O(e,{columnId:r}))("attemptId"in t.query&&t.query.attemptId||"gradeId"in t.query&&t.query.gradeId)&&(t.isValid=!1)})},[g.g.GRADEBOOK_ATTEMPT_INVALIDATE_BY_ID]:(e,t)=>(0,s.Ay)(e,e=>{O(e,{columnId:t.columnId,attemptId:t.attemptId}).forEach(e=>{e.isValid=!1})}),[(0,l.ok)(y.g.CONTENT_PERSIST)]:(e,t)=>(0,s.Ay)(e,e=>{var r,s;let{contents:n,prevContent:o,columns:i}=t;if(n&&(null==o?void 0:o.id)&&i){let t=n[o.id];(null==(r=null==t?void 0:t.gradingColumn)?void 0:r.gradingSchemaId)!==(null==(s=null==o?void 0:o.gradingColumn)?void 0:s.gradingSchemaId)&&Object.keys(i).forEach(t=>{for(let r of O(e,{columnId:t}))r.isValid=!1})}}),[(0,l.ok)(c.g.QUESTION_ATTEMPTS_PERSIST)]:(e,t)=>{let{data:r,columnId:n}=t;return(0,s.Ay)(e,e=>{Object.values(r).forEach(t=>{var r;let s=null==(r=t.result)?void 0:r.attemptId;if(n)for(let t of O(e,{columnId:n,attemptId:s}))t.isValid=!1})})},[(0,l.fJ)(c.g.QUESTION_ATTEMPTS_PERSIST)]:(e,t)=>(0,l.Nh)(e,t),[g.g.GRADEBOOK_ATTEMPT_CREATE]:l.r1,[(0,l.ok)(g.g.GRADEBOOK_ATTEMPT_CREATE)]:(e,t)=>{let{attempt:r,columnId:n}=t,o=r.id,i=(0,s.Ay)(e,e=>{e.byGradebookAttemptId[o]={value:r,status:I.U8};let t=e.views.byColumnId[n];t&&Object.values(t).forEach(e=>{e.isValid=!1})});return(0,l.Zg)(i,t)},[(0,l.fJ)(g.g.GRADEBOOK_ATTEMPT_CREATE)]:l.Nh,[(0,l.ok)(A.g.GRADEBOOK_GRADE_DIRECT_GRADE_ENTRY_MAPPING)]:(e,t)=>{let{attempts:r}=t;return r&&(e=(0,s.Ay)(e,e=>{r.forEach(t=>{let r=t.id;e.byGradebookAttemptId[r]={value:t,status:I.U8}})})),(0,l.Zg)(e,t)},[(0,l.ok)(A.g.GRADEBOOK_BULKVIEW_LOAD)]:(e,t)=>(0,s.Ay)(e,e=>{let{LearnBulkViewAttemptsPerColumnMap:r}=t;r&&((e,t)=>{t.forEach(t=>{let[r,s]=Object.entries(t)[0];D(e,Object.values(s)),((e,t)=>{for(let r of O(e,{columnId:t}))("attemptId"in r.query&&r.query.attemptId||"gradeId"in r.query&&r.query.gradeId)&&(r.isValid=!1)})(e,r)})})(e,r)})}),N={loadGradebookAttemptByAttemptId:({needsRefresh:e,...t},r)=>(0,l.Vy)(g.g.GRADEBOOK_ATTEMPT_LOAD,async()=>{var e;try{let r=await (0,i.EJ)(t),s=o.includes(null==(e=t.expand)?void 0:e.split(","),"viewUrl");return{...r,query:t,viewUrlRequested:s}}catch(e){throw new l.GS(e).setData({query:t})}},{data:{query:t,needsRefresh:e},condition:f,allowedErrors:r}),clearSubmissionTextWithViewUrlByAttemptId:e=>(0,l.rc)(g.g.GRADEBOOK_CLEAR_STUDENT_SUBMISSION_WITH_VIEW_URL_EXPANDED,{attemptId:e}),loadGradebookAttemptsByColumnId:e=>(0,l.Vy)(g.g.GRADEBOOK_ATTEMPTS_LOAD,async()=>{var t;try{let r=await (0,i.lq)(e),s=o.includes(null==(t=e.expand)?void 0:t.split(","),"viewUrl");return{...r,query:o.pick(e,...T),viewUrlRequested:s}}catch(t){throw new l.GS(t).setData({query:o.pick(e,...T)})}},{data:{query:e},condition:f}),loadGradebookAttemptsByGradeId:e=>(0,l.Vy)(g.g.GRADEBOOK_ATTEMPTS_LOAD,async()=>{var t;try{let r=await (0,i.lq)(e),s=o.includes(null==(t=e.expand)?void 0:t.split(","),"viewUrl");return{...r,query:o.pick(e,...T),viewUrlRequested:s,gradeId:e.gradeId}}catch(t){throw new l.GS(t).setData({query:o.pick(e,...T)})}},{data:{query:e},condition:f}),loadByGradeIds:e=>(0,l.RA)(async(t,r)=>{var s,n;let o=null!=(n=null==(s=r().gradebookAttempt.byCourseId[e.courseId])?void 0:s.byGradeId)?n:{},u=((e,t)=>Object.keys(t).length?Object.entries(e).reduce((e,[r,s])=>{var n;return(0,I.qO)(null==(n=t[r])?void 0:n.status)&&(e[r]=s),e},{}):e)(e.gradeIdColumnIdMap,o);if(0===Object.keys(u).length)return;let d={...e,gradeIdColumnIdMap:u};t((0,l.rc)(g.g.GRADEBOOK_ATTEMPT_LOAD_BY_GRADE_IDS_IN_BATCH,{query:d}));try{let e=await (0,i.Uh)(d);t((0,l.rc)((0,l.ok)(g.g.GRADEBOOK_ATTEMPT_LOAD_BY_GRADE_IDS_IN_BATCH),{data:e,query:d}))}catch(e){t((0,l.rc)((0,l.fJ)(g.g.GRADEBOOK_ATTEMPT_LOAD_BY_GRADE_IDS_IN_BATCH),{err:e,query:d})),t((0,l.rc)((0,l.ok)(a.A.APP_ERROR),{error:e}))}}),createAttempt:(e,t,r)=>(0,l.Vy)(g.g.GRADEBOOK_ATTEMPT_CREATE,async()=>({attempt:await (0,i.Cz)(e,r,t),columnId:t})),updateAttemptById:e=>(0,l.VP)(g.g.GRADEBOOK_ATTEMPT_UPDATE,async(t,r)=>{let{courseId:s,attemptId:n,payload:o,columnId:a,queryParams:u}=e;try{return await (0,i.dO)(s,n,o,{columnId:a},u)}catch(e){throw r((0,l.rc)((0,l.fJ)(g.g.GRADEBOOK_ATTEMPT_UPDATE),{attemptId:n})),e}},{attemptId:e.attemptId,courseId:e.courseId,studentAttemptStatusChanged:!!e.payload.status}),deleteAttemptById:e=>(0,l.VP)(g.g.GRADEBOOK_ATTEMPT_DELETE,async t=>{let{courseId:r,attemptId:s}=e,n=t().gradebookAttempt.byGradebookAttemptId[s].value;try{return await (0,i.v8)(r,s),{attempt:n}}catch(t){throw new l.GS(t).setData(e)}},{attemptId:e.attemptId}),assignNewAttemptForPeerReview:e=>(0,l.RA)(async t=>{try{let r=await (0,i.JN)(e),s={courseId:e.courseId,columnId:e.columnId,gradeId:r.gradeId,reviewableAttemptsOnly:!0};return await t(N.loadGradebookAttemptsByColumnId(s)),{...r}}catch(e){throw e instanceof m.Zn||t((0,l.rc)((0,l.ok)(a.A.APP_ERROR),{error:e})),e}}),setGradeAttemptInStore:(e,t,r,s)=>(0,l.rc)((0,l.ok)(g.g.GRADEBOOK_ATTEMPT_UPDATE),{attempt:e,courseId:t,studentAttemptStatusChanged:s,columnId:r}),invalidateGradebookAttemptsByColumnId:e=>(0,l.rc)(g.g.GRADEBOOK_ATTEMPTS_INVALIDATE_BY_COLUMN_ID,{columnId:e}),invalidateGradebookAttemptById:e=>(0,l.rc)(g.g.GRADEBOOK_ATTEMPT_INVALIDATE_BY_ID,e),setNewAttemptInStore:(e,t)=>(0,l.rc)((0,l.ok)(g.g.GRADEBOOK_ATTEMPT_CREATE),{attempt:e,columnId:t})},U={getGradebookAttemptByAttemptId:(e,t)=>{var r;return null==(r=e.gradebookAttempt.byGradebookAttemptId[t])?void 0:r.value},getGradebookAttemptByGroupAttemptIdAndUserId:(e,t)=>{let{userId:r,...s}=t,n=U.getGradebookAttemptsByGradeId(e,s);return null==n?void 0:n.find(e=>e.userId===r)},isGradebookAttemptStatusUpdatingByAttemptId:(e,t)=>{var r;return(null==(r=e.gradebookAttempt.byGradebookAttemptId[t])?void 0:r.status)===I.J7},getGradebookAttemptsByColumnId:(e,t)=>{var r;let{view:s}=v(e.gradebookAttempt,t);if(s)return null==(r=s.values)?void 0:r.map(t=>e.gradebookAttempt.byGradebookAttemptId[t].value).filter(e=>!!e)},isGradebookAttemptsLoadingByGradeId:(e,t)=>{let{view:r}=v(e.gradebookAttempt,t);return(null==r?void 0:r.isLoading)===!0},getGradebookAttemptsByGradeId:(e,t)=>{var r;let{view:s}=v(e.gradebookAttempt,t);if(s)return null==(r=s.values)?void 0:r.map(t=>{var r;return null==(r=e.gradebookAttempt.byGradebookAttemptId[t])?void 0:r.value}).filter(e=>!!e)},getGradebookAttemptsByUserId:(e,t,r,s)=>Object.values(e.gradebookAttempt.byGradebookAttemptId).filter(e=>{var n,o,i;return(null==(n=e.value)?void 0:n.courseId)===t&&(null==(o=e.value)?void 0:o.columnId)===r&&(null==(i=e.value)?void 0:i.userId)===s}).map(e=>e.value),getReviewableGradebookAttempts:(e,t,r,s)=>Object.values(e.gradebookAttempt.byGradebookAttemptId).filter(e=>{var n;return(null==(n=e.value)?void 0:n.courseId)===t&&e.value.columnId===r&&e.value.userId!==s}).map(e=>e.value),getDeletedReviewableGradebookAttempts:(e,t)=>{var r,s;return null!=(s=null==(r=e.gradebookAttempt.deletedAttemptsByColumnId[t])?void 0:r.value)?s:[]},isLoading:e=>e.gradebookAttempt.isLoading,getGradebookAttemptViewStateByQuery:(0,n.Mz)((e,t)=>v(e.gradebookAttempt,t).view,e=>{if(!e)return null;let{query:t,...r}=e;return r}),getFirstIndividualAttemptByGroupAttemptId:(e,t)=>{var r;return null==(r=U.getGradebookAttemptsByGradeId(e,t))?void 0:r[0]},getAttemptsByCourseIdGradeIds:(e,t)=>{var r;let s=null==(r=e.gradebookAttempt.byCourseId[t.courseId])?void 0:r.byGradeId;if(!s)return;let n={};return Object.keys(t.gradeIdColumnIdMap).forEach(t=>{var r;void 0!==s[t]&&s[t].status===I.y_&&(null==(r=s[t].value)||r.forEach(r=>{var s;(null==(s=e.gradebookAttempt.byGradebookAttemptId[r])?void 0:s.value)&&(n[t]||(n[t]=[]),n[t].push(e.gradebookAttempt.byGradebookAttemptId[r].value))}))}),n}}},458606:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});let s={INTEGRATION_BASE:"base.integration"}},464655:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});let s={BASE_ACTIVITY:"base.recentActivity",BASE_ADMIN:"base.admin",BASE_CALENDAR:"base.calendar",BASE_COURSE_CATALOG:"base.course-catalog",BASE_COURSES:"base.courses",BASE_COURSES_FILTERS:"base-courses-filters",BASE_DASHBOARD:"base.dashboard",BASE_DEADLINE:"base.deadline",BASE_GRADES:"base.grades",BASE_INSTITUTION_PAGE:"base.institution-page",BASE_MESSAGES:"base.messages",BASE_ORGANIZATION_CATALOG:"base.organization-catalog",BASE_ORGANIZATIONS:"base.organizations",BASE_PROCTORING_ATTEMPT:"base.proctoring-attempt",BASE_REDIRECT:"base.redirect",BASE_TOOLS:"base.tools"}},467338:(e,t,r)=>{"use strict";r.d(t,{l1:()=>a,pp:()=>u,wE:()=>d,yi:()=>l});var s=r(397965),n=r(825271),o=r(608719),i=r(853400);async function a(e){let t=(0,s.c$)("/v1/courses/conversations/counts",{});return e?(0,s.Jt)(t,e):(0,s.Jt)(t)}async function l(e){return(0,o.gYf)(n.dZ,e)}let u=(0,i.Y)(o.Sjt,n.dZ),d=(0,i.Y)(o.s$U,n.dZ)},468139:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(e,t)=>new Promise((r,s)=>{let n=document.getElementById("browseForFiles");n&&n.remove();let o=document.createElement("input");o.id="browseForFiles",o.classList.add("sr-only"),o.tabIndex="-1",o.role="presentation",o.type="file",(null==t?void 0:t.length)>0&&(o.accept=t.join(",")),o.multiple=!!e,o.onchange=e=>{let t=e.target.files;o.remove(),r(t)},document.body.appendChild(o),document.querySelector(".data-e2e-simulate-file-input")||o.click()})},468171:(e,t,r)=>{"use strict";var s;!function(e){e.GRADE="GRADE",e.ABSENT="ABSENT",e.DUE_DATE="DUE_DATE"}(s||(s={}))},474403:(e,t,r)=>{"use strict";r.d(t,{o:()=>l});var s=r(968554);let n={COURSE_RUBRICS_CREATE:"course.rubrics.create"};var o=r(608719),i=r(825271);let a=(0,r(853400).Y)(o.FYu,i.dZ),l={createRubric:(e,t)=>(0,s.VP)(n.COURSE_RUBRICS_CREATE,async()=>{let r=await a({courseId:e},t);return{courseId:e,rubric:r}},{courseId:e})}},475481:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var s=r(514041),n=r(865004),o=r(939067),i=r.n(o),a=r(783659),l=r(253436),u=r(951777),d=r(802928);function c(e){let{onChange:t,onEnterKey:r,type:o,value:i,minValue:d,maxValue:c}=e,E=(0,n.W)(),[p,m]=(0,s.useState)(i),g=e=>!(e>c)&&!(e<d),y=()=>{let e=p+1;g(e)&&(m(e),t(e))},I=()=>{let e=p-1;g(e)&&(m(e),t(e))};return s.createElement("span",{className:"table-dialog-input-spinner"},s.createElement(u.uJ,{"aria-label":E("column"===o?"bbmlEditor.toolbar.table-dialog-columns-spinner-minus-button.label":"bbmlEditor.toolbar.table-dialog-rows-spinner-minus-button.label"),onClick:I},s.createElement(a.H,null)),s.createElement(u.oJ,{id:`analyticTextField-${o}`,className:"table-dialog-input-spinner-text-field",placeholder:String(p),value:p,onChange:e=>{let r=Number(e.target.value);if(!Number.isNaN(r)){if(g(r))m(r),t(r);else if(r>c){let e=c.toString().length,s=Number(r.toString().substr(0,e-1));e<r.toString().length&&(s=c),m(s),t(s)}}},onKeyDown:e=>{switch(e.key){case"Enter":e.preventDefault(),e.stopPropagation(),r();break;case"ArrowUp":y();break;case"ArrowDown":I()}}}),s.createElement(u.uJ,{"aria-label":E("column"===o?"bbmlEditor.toolbar.table-dialog-columns-spinner-add-button.label":"bbmlEditor.toolbar.table-dialog-rows-spinner-add-button.label"),onClick:y},s.createElement(l.O,null)))}c.propTypes={onChange:i().func,onEnterKey:i().func,type:i().string,value:i().number,minValue:i().number,maxValue:i().number},c.defaultProps={onChange:null,onEnterKey:null,type:"",value:1,minValue:1,maxValue:10};let E=(0,d.withAnalytics)(c);var p=r(518541);function m(e){let t="table-dialog",{isEditingTable:r,quillModuleAction:o,editProps:i,closeAllMenus:a}=e,l=(0,n.W)(),[d,c]=(0,s.useState)({checkboxColumn:i.headerColumn,checkboxRow:i.headerRow,numberColumns:i.columns,numberRows:i.rows}),m=()=>{a(),e.destroy()},g=()=>{o({module:"quill.table",action:"saved-selection"}),r?(o({module:"quill.table",action:"edit-table",rowCount:d.numberRows,columnCount:d.numberColumns}),e.editProps.headerColumn!==d.checkboxColumn&&(o({module:"quill.table",action:"set-header-col",setHeader:d.checkboxColumn}),d.checkboxRow||o({module:"quill.table",action:"set-header-column",setHeader:d.checkboxColumn})),e.editProps.headerRow!==d.checkboxRow&&(o({module:"quill.table",action:"set-header-row",setHeader:d.checkboxRow}),d.checkboxColumn||o({module:"quill.table",action:"set-header-row",setHeader:d.checkboxRow})),o({module:"quill.table",action:"reset-table-subtoolbar"})):(o({module:"quill.table",action:"insert-table",rowCount:d.numberRows,columnCount:d.numberColumns,headerRow:d.checkboxRow,headerColumn:d.checkboxColumn}),a()),m()};return s.createElement(u.Zd,{open:!0,maxWidth:"sm",onClose:m,"aria-labelledby":`${t}-dialog-title`},s.createElement(u.Fv,{onClose:m,id:`${t}-dialog-title`,closeLabel:l("global.close")},l(r?"bbmlEditor.toolbar.table-dialog-title-edit.label":"bbmlEditor.toolbar.table-dialog-title-insert.label")),s.createElement(u.Wy,null,s.createElement("div",{className:`${t}-columns-content`},s.createElement("label",{htmlFor:"analyticTextField-column"},l("bbmlEditor.toolbar.table-dialog-columns.label")),s.createElement(E,{onChange:e=>{c({...d,numberColumns:e})},type:"column",value:d.numberColumns,maxValue:r?Math.max(10,i.columns):10,onEnterKey:g})),s.createElement("div",{className:`${t}-rows-content`},s.createElement("label",{htmlFor:"analyticTextField-row"},l("bbmlEditor.toolbar.table-dialog-rows.label")),s.createElement(E,{onChange:e=>{c({...d,numberRows:e})},type:"row",value:d.numberRows,maxValue:r?Math.max(10,i.rows):10,onEnterKey:g})),s.createElement("span",{className:`${t}-header-selector`},s.createElement(u.wB,{label:l("bbmlEditor.toolbar.table-dialog-headers-row.label"),control:s.createElement(u.Yc,{checked:d.checkboxRow,id:"dialogCheckboxRow"}),htmlFor:"dialogCheckboxRow",onChange:e=>{c({...d,checkboxRow:e.target.checked})}}),s.createElement(u.wB,{label:l("bbmlEditor.toolbar.table-dialog-headers-column.label"),control:s.createElement(u.Yc,{checked:d.checkboxColumn,id:"dialogCheckboxColumn"}),htmlFor:"dialogCheckboxColumn",onChange:e=>{c({...d,checkboxColumn:e.target.checked})}}),s.createElement(u.qT,{className:"info-tooltip",title:l("bbmlEditor.toolbar.table-dialog-tooltip.label"),placement:"top"},s.createElement(u.uJ,{className:"info-tooltip","aria-label":l("bbmlEditor.toolbar.table-dialog-tooltip.axAriaText")},s.createElement(p.$,null))))),s.createElement(u.gS,null,s.createElement(u.wJ,{onClick:m},l("bbmlEditor.buttons.cancel")),s.createElement(u.Hu,{onClick:g,id:"create-edit-table-primary-btn"},l(r?"bbmlEditor.buttons.save":"bbmlEditor.buttons.insert"))))}m.propTypes={quillModuleAction:i().func.isRequired,closeAllMenus:i().func.isRequired,isEditingTable:i().bool,editProps:i().shape({columns:i().number,rows:i().number,headerColumn:i().bool,headerRow:i().bool})},m.defaultProps={isEditingTable:!1,editProps:{columns:1,rows:1,headerColumn:!1,headerRow:!1}};let g=(0,d.withAnalytics)(m)},479283:(e,t,r)=>{"use strict";r.d(t,{jV:()=>n,xA:()=>a});var s=r(241101);async function n(e){var t,r,s;let n=e=null!=(s=null==(r=(t=e).match(/\<iframe.+src\=(?:\"|\')(.+?)(?:\"|\')(?:.+?)\>/))?void 0:r[1])?s:t;if(n.includes("://")||(e=`https://${n}`),(n=n.toLowerCase()).includes("m.youtube"))return e.replace(/(m.youtube)/i,"youtube");if(n.includes("youtube.com")&&!n.includes(".com/embed"))return(e=e.replace(/(watch\?v=)/i,"").replace(/(.com\/shorts\/)/i,".com/").replace(/(.com\/)/i,".com/embed/")).split(/(&feature=youtu.be)/i)[0];if(n.includes("//youtu.be/"))return e.replace(/(\/\/youtu.be\/)/i,"//youtube.com/embed/");if(n.includes("vimeo.com")&&!n.includes("player.vimeo")){let[t,r]=(e=e.replace(/\/+$/g,"")).split(".com/")[1].split("/");return e=`https://player.vimeo.com/video/${t}${r?`?h=${r}`:""}`}if(n.includes("vidgrid.com/view")&&!n.includes("embed"))return(e=e.replace(/(view)/i,"embed")).replace(/(?=\/\?).+/i,"");if(n.includes("kaltura.com")&&!n.includes("embed"))return e=e.replace(/media\/.[^\/]*\//i,"embed/secure/iframe/entryId/");if(n.includes("panopto.com")&&!n.includes("Embed"))return e.replace(/Viewer/i,"Embed");if(n.includes("flipgrid.com")&&!n.includes("embed=true"))return n.includes("admin")&&(e=e.replace(/admin/i,"shorts").replace(/manage\/shorts/i,"watch")),e=e.replace(/\?\w+$/i,"?embed=true");if(n.includes("prezi.com")&&!n.includes("embed")){if(!n.includes("view")){let t=e.split("/");e=(t=t.splice(0,5)).join("/")}return e.endsWith("/")||(e=e.concat("/")),e.concat("embed")}return n.includes("voicethread.com")&&!n.includes("/app/player/?threadId=")?e.replace(/\/myvoice\/thread\//i,"/app/player/?threadId=").replace(/(\/[0-9]+){2}$/,""):n.includes("spotify.com")&&!n.includes("embed/")?(n.includes("track")?e=e.replace(/track/i,"embed/track"):n.includes("album")?e=e.replace(/album/i,"embed/album"):n.includes("playlist")?e=e.replace(/playlist/i,"embed/playlist"):n.includes("artist")?e=e.replace(/artist/i,"embed/artist"):n.includes("show")?e=e.replace(/show/i,"embed-podcast/show"):n.includes("episode")&&(e=e.replace(/episode/i,"embed-podcast/episode")),e.replace(/\?.+$/i,"")):n.includes("genial.ly")?e.replace(/\/[\w-]+$/i,""):n.includes("nearpod.com")?e.replace(/command\?puid/i,"?pin").replace(/&[=\w]+$/i,"&he=true"):n.includes("quizlet.com")&&!n.includes("/embed")?e.replace(/(.*\/\/quizlet.com\/)([a-zA-Z]+\/)?(\d+)\/.*/,"$1$3/flashcards/embed"):n.includes("edpuzzle.com")&&!n.includes("embed/media")?e.replace(/media/i,"embed/media"):n.includes("soundcloud.com")&&!n.includes("embed_code/key")||n.includes("slideshare.net")&&!n.includes("//api")?o(n):n.includes("h5p.org")&&!n.includes("/embed")?e.replace(/node/i,"h5p/embed"):n.includes("h5p.com")&&!n.includes("/embed")?e.concat("/embed"):n.includes("sharepoint.com")?n.includes("action=")?e.replace(/action=\w*/i,"action=embedview"):e+"&action=embedview":n.includes("microsoftstream.com")&&!n.includes("/embed/")?e.replace(/video/,"embed/video"):n.includes("miro.com")&&!n.includes("/live-embed/")?e.replace(/board/,"live-embed"):e}async function o(e){return e.includes("soundcloud.com")?i(`https://soundcloud.com/oembed?format=json&url=${e}`):e.includes("slideshare.net")?i(`https://www.slideshare.net/api/oembed/2?url=${e}&format=json`):void 0}async function i(e){var t;let r=await fetch(e);if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);let n=await r.json();return null==(t=(0,s.BW)(n.html).getElementsByTagName("iframe")[0])?void 0:t.src}function a(e,t){let r=e;return e&&0>e.indexOf("//")&&("/"!==e[0]&&(r=`/${e}`),r=t?t+e:window.location.origin+e),r}},480243:(e,t,r)=>{"use strict";r.d(t,{j:()=>l});var s=r(877973),n=r(944055),o=r(309546),i=r(514041);let a=(0,s.n9)(()=>({container:{display:"flex",gap:"14px"},decoration:{flexShrink:0,inlineSize:"4px",borderRadius:"4px",background:n.JS.messagingYellowBackground},children:{flex:1}})),l=(0,i.forwardRef)(function(e,t){let{children:r,className:s,...n}=e,l=a();return i.createElement("div",{ref:t,className:(0,o.A)(l.container,s),...n},i.createElement("div",{className:l.decoration}),i.createElement("div",{className:l.children},r))})},481367:(e,t,r)=>{"use strict";r.d(t,{Bs:()=>d,JL:()=>u,K5:()=>l,__:()=>o,mj:()=>a,rl:()=>i});var s=r(397965);let n="/v1/brands";async function o(e){return c({},await (0,s.Jt)(`${n}/${e}`))}async function i(e=1e3){let{results:t,paging:r}=await (0,s.Jt)((0,s.c$)(n,{limit:e}));return{...t.reduce(c,{}),paging:r}}async function a(e=1e3){let{results:t,paging:r}=await (0,s.Jt)((0,s.c$)(`${n}/hosts`,{limit:e}));return{hostnames:t.map(e=>e.hostname),paging:r}}async function l(e){return c({},await (0,s.bE)(`${n}`,{...e}))}async function u(e,t){return c({},await (0,s.yJ)(`${n}/${e}`,{...t}))}async function d(e){return(0,s.TF)(`${n}/${e}`)}function c(e,t){var r;let{ultraBranding:s,brandAssociations:n}=t,o=s.id;return e.institutionBrands||(e.institutionBrands={byId:{}}),e.brandAssociations||(e.brandAssociations={byId:{}}),e.institutionRoles||(e.institutionRoles={}),e.institutionBrands.byId[o]={...r=s,id:r.id},n.forEach(t=>{let{institutionRole:r,hostName:s}=t,n={id:t.id,brandId:o};s&&(n.hostName=s),r&&(e.institutionRoles[r.roleId]={...r,id:r.roleId},n.institutionRoleId=r.roleId),e.brandAssociations.byId[t.id]=n}),e}},487300:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>A,Lt:()=>h,o1:()=>_});var s=r(799079),n=r(750609),o=r(968554),i=r(905898),a=r(758247),l=r(588335),u=r(352290),d=r(839781),c=r(645250);let E=(e,t)=>{var r;if(!t)return o.Vc;let[s,n]=null!=(r=Object.entries(e.views.byCourseId[t.courseId]||{}).find(([,e])=>(0,c.isEqual)(e.query,t)))?r:[null,null];return s?{id:s,view:n}:o.Vc},p=(e,t)=>{var r,s,n,i;let{courseId:a,announcementId:l}=t.pathParams,[u,d]=null!=(i=Object.entries(null!=(n=null==(s=null==(r=e.announcementUsersStatusViews.byCourseAndAnnouncementId)?void 0:r[a])?void 0:s[l])?n:{}).find(([,e])=>(0,c.isEqual)(e.query,t)))?i:[null,null];return u?{id:u,view:d}:o.Vc},m=e=>["views","byCourseId",e.courseId],g=e=>["announcementUsersStatusViews","byCourseAndAnnouncementId",e.pathParams.courseId,e.pathParams.announcementId],y=(e,t)=>e=I(e=(0,i.jM)(e,e=>{var r;Object.values(null!=(r=e.views.byCourseId[t])?r:{}).forEach(e=>{e.isValid=!1})}),t),I=(e,t)=>(0,i.jM)(e,e=>{var r;Object.values(null!=(r=e.announcementUsersStatusViews.byCourseAndAnnouncementId[t])?r:{}).forEach(e=>{Object.values(e).forEach(e=>{e.isValid=!1})})}),A=(0,o.vy)({byId:{},views:{byCourseId:{}},announcementsCounts:{},announcementUsersStatusViews:{byAnnouncementAndMembershipId:{},byCourseAndAnnouncementId:{}}},{[s.gK.COURSE_ANNOUNCEMENTS_LOAD]:(0,o.Dh)(E,m),[(0,o.ok)(s.gK.COURSE_ANNOUNCEMENTS_LOAD)]:(e,t)=>{let{data:r}=t,{announcements:s,paging:n}=r,a=Object.keys(s);return e=(0,i.jM)(e,e=>{a.forEach(t=>{e.byId[t]=s[t]})}),(0,o.lY)(e,t,{viewResolver:E,viewsPathResolver:m,paging:n,values:a})},[(0,o.fJ)(s.gK.COURSE_ANNOUNCEMENTS_LOAD)]:(0,o.To)(E,m),[s.gK.COURSE_ANNOUNCEMENTS_INVALIDATE]:(e,t)=>y(e,t.courseId),[u.g.GRANULAR_CONTENT_COPY_COMPLETE]:(e,t)=>{let{courseId:r}=t;return y(e,r)},[(0,o.ok)(l.gK.ANNOUNCEMENT_SAVE)]:(e,t)=>{let{courseId:r}=t;return y(e,r)},[(0,o.ok)(l.gK.ANNOUNCEMENT_REMOVE)]:(e,t)=>{let{courseId:r}=t;return y(e,r)},[(0,o.ok)(s.gK.GET_COURSE_ANNOUNCEMENTS_COUNTS)]:(e,t)=>(0,i.jM)(e,e=>{e.announcementsCounts[t.courseId]=t.announcementsCounts}),[(0,o.ok)(s.gK.UPDATE_COURSE_ANNOUNCEMENTS_READ_STATUS)]:(e,t)=>{var r;let{courseId:s,id:n,readStatus:o}=t.announcement;if(void 0===s)return e;let a=null!=(r=e.announcementsCounts[s].unreadCount)?r:0;return(0,i.jM)(e,t=>{var r;t.byId[n]={...e.byId[n],readStatus:{isRead:null!=(r=null==o?void 0:o.isRead)&&r}},t.announcementsCounts[s]={...e.announcementsCounts[s],unreadCount:(null==o?void 0:o.isRead)?a-1:a+1}})},[(0,o.fJ)(s.gK.GET_COURSE_ANNOUNCEMENTS_COUNTS)]:(e,t)=>(0,o.Nh)(e,t),[s.gK.COURSE_ANNOUNCEMENTS_USERS_STATUS_LOAD]:(0,o.Dh)(p,g),[(0,o.fJ)(s.gK.COURSE_ANNOUNCEMENTS_USERS_STATUS_LOAD)]:(0,o.To)(p,g),[(0,o.ok)(s.gK.COURSE_ANNOUNCEMENTS_USERS_STATUS_LOAD)]:(e,t)=>{if(!(null==t?void 0:t.data))return(0,o.Zg)(e,t);let{announcementUsersStatus:r,paging:n}=t.data,a=(0,s.RH)(r),l=(0,i.jM)(e,e=>{e.announcementUsersStatusViews.byAnnouncementAndMembershipId={...e.announcementUsersStatusViews.byAnnouncementAndMembershipId,...a}});return(0,o.lY)(l,t,{viewsPathResolver:g,viewResolver:p,values:Object.keys(a),paging:n})}}),h={getCourseAnnouncementsByQuery:(0,d.n)((e,t)=>{let{view:r}=E(e.courseAnnouncements,t);return r?(r.values||[]).map(t=>e.courseAnnouncements.byId[t]):[]},e=>e),getAnnouncementsCounts:(e,t)=>{var r,s;return null!=(s=null==(r=e.courseAnnouncements)?void 0:r.announcementsCounts[t])?s:{}},getCourseAnnouncementsViewByQuery:(e,t)=>{let{view:r}=E(e.courseAnnouncements,t);return r},getCourseAnnouncementById:(e,t)=>e.courseAnnouncements.byId[t],getCourseAnnouncementUsersStatusByQuery:(0,d.n)((e,t)=>{let{view:r}=p(e.courseAnnouncements,t);return r?(r.values||[]).map(t=>{let r=e.courseAnnouncements.announcementUsersStatusViews.byAnnouncementAndMembershipId[t],s=e.courseMembership.byCourseMembershipId[r.courseMembershipId];return{...r,courseMembership:s}}):[]},e=>e),getCourseAnnouncementUsersStatusViewByQuery(e,t){let{view:r}=p(e.courseAnnouncements,t);return r?(0,s.NY)(r):null}},_={loadCourseAnnouncementsByQuery:(e,t={})=>(0,o.RA)(async(r,i)=>{let l=!((e,t)=>{let{view:r}=E(e.courseAnnouncements,t);return!r||!r.isLoading&&!r.isValid})(i(),e);if(!t.forceReload&&l)return h.getCourseAnnouncementsByQuery(i(),e);r((0,o.rc)(s.gK.COURSE_ANNOUNCEMENTS_LOAD,{query:e}));try{let t=await (0,n.Xh_)(e);return r((0,o.rc)((0,o.ok)(s.gK.COURSE_ANNOUNCEMENTS_LOAD),{query:e,data:t})),h.getCourseAnnouncementsByQuery(i(),e)}catch(t){throw r((0,o.rc)((0,o.fJ)(s.gK.COURSE_ANNOUNCEMENTS_LOAD),{query:e})),r((0,o.rc)((0,o.ok)(a.A.APP_ERROR),{error:t})),t}}),loadAnnouncementsCounts:e=>(0,o.VP)(s.gK.GET_COURSE_ANNOUNCEMENTS_COUNTS,async()=>await (0,n.Noo)(e)),changeReadStatusAnnouncement:(e,t,r)=>(0,o.VP)(s.gK.UPDATE_COURSE_ANNOUNCEMENTS_READ_STATUS,async()=>(await (0,n.f9L)(e,t,r),{announcementId:t,isRead:r})),invalidateCourseAnnouncementViews:e=>(0,o.RA)(async t=>{t((0,o.rc)(s.gK.COURSE_ANNOUNCEMENTS_INVALIDATE,{courseId:e}))}),loadAnnouncementUsersStatusByQuery:e=>(0,o.Vy)(s.gK.COURSE_ANNOUNCEMENTS_USERS_STATUS_LOAD,async()=>{try{return{data:await (0,n.CxJ)(e),query:e}}catch(t){throw new o.GS(t).setData({query:e})}},{data:{query:e},condition:(t,{getState:r})=>((e,t)=>{let{view:r}=p(e.courseAnnouncements,t);return!r||!r.isLoading&&!r.isValid})(r(),e)})}},487361:(e,t,r)=>{"use strict";r.d(t,{S:()=>I});var s=r(157701),n=r(810978),o=r(416488),i=r(771199),a=r(968554),l=r(967516),u=r(750609),d=r(956284);function*c(e,t,r){let{meta:{conversionId:o},payload:{courseId:i,contentId:a}}=e;try{let e=yield(0,l.T1)(u.OMd,i,a,t,r);yield(0,l.yJ)(n.FZ.conversionSuccessful(o,e))}catch(e){e instanceof DOMException&&"AbortError"===e.name?yield(0,l.yJ)(n.FZ.conversionFailed(o,{errorType:s.j.Aborted})):yield(0,l.yJ)(n.FZ.conversionFailed(o,{errorType:s.j.Unknown}))}}function*E(e){let t=yield(0,l.s)(t=>-1!==[(0,a.ok)(o.gK.FILE_UPLOAD),(0,i.h2)(o.gK.FILE_UPLOAD),(0,a.fJ)(o.gK.FILE_UPLOAD)].indexOf(t.type)&&t.meta.uploadId.correlationId===e);if("payload"in t&&"file"in t.payload)return t.payload.file}function*p(e){let{status:t,uploadedFile:r}=yield(0,l.Lt)(i.Lt.getFileUploadById,e);if(d.a5.didNotCompleteFileUpload(t))return;let s=null!=r?r:yield(0,l.T1)(E,e);if(!s)return;let{fileLocation:n,fileName:o}=s;if(!n||!o)throw Error("Invalid file upload");return{fileLocation:n,fileName:o}}function*m(e){let{payload:{source:t}}=e;return"fileLocation"in t?t:yield(0,l.T1)(p,t.uploadId)}function*g(e,t){let{meta:{conversionId:r},payload:{source:n}}=e;yield(0,l.s)(e=>{var t,n;return t=e,n=r,t.type===s.g.ABORT_CONVERSION&&t.meta.conversionId===n}),t.abort(),"uploadId"in n&&(yield(0,l.yJ)(i.o1.abortUpload({correlationId:n.uploadId})))}function*y(e){let t=new AbortController,r=yield(0,l.Zy)(g,e,t);yield(0,l.Zy)(function*(){try{let r=yield(0,l.T1)(m,e);if(!r)return;yield(0,l.T1)(c,e,r,t.signal)}finally{yield(0,l.ZT)(r)}})}function*I(){yield(0,l.jP)(s.g.START_CONVERSION,y)}},487967:(e,t,r)=>{"use strict";r.d(t,{A3:()=>I,BC:()=>_,C:()=>b,EP:()=>O,F8:()=>A,Tu:()=>S,V9:()=>T,Yg:()=>h,aQ:()=>y,qW:()=>v,zW:()=>g});var s=r(645250),n=r(397965),o=r(647059);let i="/v1/courses/%courseId%/journals",a=`${i}/%blogId%`,l=`${i}/%blogId%/entries`,u=`${l}/membership/%assignedUserId%`,d=`${l}/%entryId%`,c=`${d}/comments`,E=`${c}/%commentId%`,p=`${i}/%blogId%/participants`,m=`${i}/%blogId%/summary`;async function g(e){let{courseId:t,blogId:r,expandHasEntries:s,options:o}=e,i=(0,n.c$)(a,{courseId:t,blogId:r,expand:s?"hasEntries":null});return await (0,n.Jt)(i,o)}async function y(e){let t=function(e){let{courseId:t,paging:r,expand:s,assignedUserId:n,blogId:o}=e;return{...r?{limit:r.limit,offset:r.offset}:{},assignedUserId:n,blogId:o,courseId:t,expand:s}}(e),{results:r,paging:s,permissions:i}=await (0,n.Jt)((0,n.c$)(u,t));return{byId:(0,o.jD)(r),entriesId:r.map(e=>e.id),paging:s,permissions:i}}async function I(e,t="permissions"){let{courseId:r,blogId:s,nextEntry:i}=e,a=await (0,n.bE)((0,n.c$)(`${l}?expand=%expand%`,{courseId:r,blogId:s,expand:t}),i);return{byId:(0,o.jD)([a])}}async function A(e){let{courseId:t,blogId:r,nextEntry:i,prevEntry:a}=e,l=(0,n.BI)(a,i);if((0,s.isEmpty)(l))return null;let u=(0,n.c$)(d,{courseId:t,blogId:r,entryId:null==i?void 0:i.id}),c=await (0,n.F6)(u,i);return{byId:(0,o.jD)([c])}}let h=e=>{let{courseId:t,blogId:r,entryId:s}=e;return(0,n.TF)((0,n.c$)(d,{courseId:t,blogId:r,entryId:s}))};async function _(e){let{courseId:t,blogId:r,entryId:s,nextComment:o}=e,i=(0,n.c$)(c,{courseId:t,blogId:r,entryId:s});return await (0,n.bE)(i,o)}async function b(e){let{courseId:t,blogId:r,entryId:o,nextComment:i,prevComment:a}=e,l=(0,n.BI)(a,i);if((0,s.isEmpty)(l))return null!=a?a:null;let u=(0,n.c$)(E,{courseId:t,blogId:r,entryId:o,commentId:null==i?void 0:i.id});return await (0,n.F6)(u,i)}let S=async e=>{let{courseId:t,blogId:r,entryId:s,commentId:o}=e,i=(0,n.c$)(E,{courseId:t,blogId:r,entryId:s,commentId:o});return(0,n.TF)(i)};async function T(e,t,r,s={}){let{permissions:i,results:a,paging:l}=await (0,n.Jt)((0,n.c$)(c,{courseId:e,blogId:t,entryId:r,...s}));return{paging:l,permissions:i,byId:(0,o.jD)(a)}}async function O(e,t="user"){var r,s;let o=[];e.sortColumn&&e.sortDirection&&o.push({field:e.sortColumn,direction:e.sortDirection});let i={limit:null==(r=e.paging)?void 0:r.limit,offset:null==(s=e.paging)?void 0:s.offset,searchText:e.searchText,submissionStatus:e.submissionStatus,gradingStatus:e.gradingStatus,blogId:e.blogId,courseId:e.courseId,expand:t,sort:(0,n.vo)(o),includeOnlyAssignedStudents:e.includeOnlyAssignedStudents,contentId:e.contentId},{results:a,paging:l}=await (0,n.Jt)((0,n.c$)(p,i));return{paging:l,byCourseMembershipId:a.reduce((e,t)=>(e[t.membershipId]=t,e),{})}}async function v(e,t,r,s){let i=await (0,n.Jt)((0,n.c$)(m,{courseId:e,blogId:t,includeOnlyAssignedStudents:r,contentId:s}));return{byBlogId:(0,o.jD)([i])}}},492320:(e,t,r)=>{"use strict";r(362420),r(332014),r(935539),r(828650)},492407:(e,t,r)=>{"use strict";r.d(t,{K:()=>o});var s=r(825271),n=r(608719);async function o(e){let t,{courseId:r,userId:o,dateInterval:i,...a}=e;i&&(t={since:i.since.toISOString(),until:i.until.toISOString(),filterType:e.filterType});let{results:l,paging:u,permissions:d}=await (0,n.GXm)(s.dZ,{courseId:r,userId:o},a,t);return{studentActivityLogs:Object.assign({},...l.map(e=>({[e.id]:e}))),paging:u,permissions:d}}},494143:(e,t,r)=>{"use strict";r.d(t,{DB:()=>a,W2:()=>l});var s=r(56684);let n="/v1/courses/%courseId%/gradebook",o=`${n}/attempts/%attemptId%/submissionResults`,i=`${n}/groupAttempts/%groupAttemptId%/submissionResults`;class a extends s.mj{constructor(e){super(o,e)}}class l extends s.mj{constructor(e){super(i,e)}}},494764:(e,t,r)=>{"use strict";r.d(t,{y:()=>u});var s=r(128059),n=r(877973),o=r(309546),i=r(514041),a=r(252651);let l=(0,n.n9)(e=>({image:{borderRadius:"6px",border:"2px solid transparent",cursor:"pointer",width:"100%",height:"100%"},imageSelected:{"&::before":{content:'""',position:"absolute",inset:"2px",border:`1px solid ${e.palette.background.default}`,borderRadius:"4px"}},selected:{border:`2px solid ${e.palette.brand.main}`,padding:"1px"},selectedDisabledInput:{borderColor:`${e.palette.border.dark}`},hideImageButton:{display:"none"},moreInfo:{marginLeft:"2px"},skeleton:{borderRadius:"4px",width:"100%"},square:{height:"auto",aspectRatio:"1 / 1"},dynamic:{height:"98px"},moreInfoLink:{color:e.palette.text.secondary}})),u=e=>{let{onClick:t,altText:r,url:u,isSelected:d,imageType:c,linkProps:E,isLinkFocusable:p,isMouseClick:m,isDisabledInput:g}=e,y=l(),[I,A]=(0,i.useState)(!1),{cell:h,capture:_,uncapture:b}=(0,a.JE)(),S=e=>{"Escape"===e.key&&e.stopPropagation()};return(0,i.useEffect)(()=>{!g&&(d&&!m&&b(),d&&m&&_())},[d,b,_,m,g]),i.createElement(i.Fragment,null,!I&&i.createElement(n.EA,{className:(0,o.A)(y.skeleton,{[y.square]:"square"===c,[y.dynamic]:"dynamic"===c}),variant:"rect"}),i.createElement("img",{tabIndex:((e,t,r)=>{if(!r)return!e&&t?0:-1})(!!E,h.captured,g),className:(0,o.A)(y.image,{[y.hideImageButton]:!I,[y.imageSelected]:d,[y.selected]:d,[y.selectedDisabledInput]:d&&g,[y.square]:"square"===c,[y.dynamic]:"dynamic"===c}),onClick:t,src:u,alt:r,onLoad:()=>{A(!0)},onKeyDown:E?void 0:S}),E&&i.createElement(s.Q,{onBlur:()=>{b()},onFocus:()=>{_()},onKeyDown:S,analyticsId:E.analyticsId,authorUrl:E.authorUrl,authorName:E.authorName,tabIndex:p&&h.active||h.captured?0:-1}))}},495796:(e,t,r)=>{"use strict";r.d(t,{R8:()=>i});var s=r(56684);let n="/v1/courses/%courseId%/gradebook/columns/%columnId%",o=`${n}/groupAssociations/%groupAssociationId%/postReadyGroupGrades`;s.w_,s.w_;class i extends s.kz{constructor(e){super(o,e)}}},496629:(e,t,r)=>{"use strict";r(542633),r(56684).pT},497220:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>d,Lt:()=>p,o1:()=>c});var s=r(905898),n=r(193752),o=r(968554),i=r(909892),a=r(818339),l=r(758247);let u=(e,t)=>(0,s.Ay)(e,e=>{Object.keys(t.byStagedAttemptId).forEach(r=>{e.byStagedAttemptId[r]={...t.byStagedAttemptId[r],api:{isDeleting:!1,isUpdating:!1,isInvalidated:!1}}})}),d=(0,o.vy)({byStagedAttemptId:{}},{[(0,o.ok)(a.g.COMPLETED_DELEGATED_ATTEMPT_GRADE_BY_GRADER_LOAD)]:u,[(0,o.ok)(a.g.COMPLETED_DELEGATED_ATTEMPT_GRADE_ON_ATTEMPT_LOAD)]:u,[(0,o.ok)(a.g.PATCH_DELEGATED_ATTEMPT_GRADE)]:(e,t)=>{let r=t.stagedAttempt;return(0,s.Ay)(e,e=>{let t=e.byStagedAttemptId[r.stagedAttemptId];e.byStagedAttemptId[r.stagedAttemptId]={...t,...r,api:{isDeleting:!1,isUpdating:!1,isInvalidated:!1}}})},[(0,o.ok)(a.g.INSTRUCTOR_SUBMISSION_LIST_ATTEMPT_DELETED_EVENT)]:(e,t)=>{let r=Object.values(e.byStagedAttemptId);return(0,s.Ay)(e,e=>{let{attemptId:s}=t;r.forEach(t=>{t.attemptId===s&&delete e.byStagedAttemptId[t.stagedAttemptId]})})}}),c={loadCompletedDelegatedAttemptGradesByGrader:e=>(0,o.VP)(a.g.COMPLETED_DELEGATED_ATTEMPT_GRADE_BY_GRADER_LOAD,async()=>{try{return await (0,n.Gq)(e)}catch(e){throw{err:e}}}),loadDelegatedAttemptGradesOnAttempt:e=>(0,o.VP)(a.g.COMPLETED_DELEGATED_ATTEMPT_GRADE_ON_ATTEMPT_LOAD,async()=>{try{return await (0,n.C)(e)}catch(e){throw{err:e}}}),patchDelegatedAttemptGrade:e=>(0,o.VP)(a.g.PATCH_DELEGATED_ATTEMPT_GRADE,async()=>{try{return await (0,n.Th)(e)}catch(e){throw{err:e}}}),deleteDelegatedAttemptsOnDeletedSubmission:e=>(0,o.rc)((0,o.ok)(a.g.INSTRUCTOR_SUBMISSION_LIST_ATTEMPT_DELETED_EVENT),{attemptId:e.attemptId}),toggleVisibilityOfDelegatedAttemptGrade:e=>(0,o.RA)(async(t,r)=>{var s;try{let i=r().delegatedAttemptGrade.byStagedAttemptId[e];if(i){let{columnId:e,attemptId:l,stagedAttemptId:u}=i,d=null==(s=r().gradebookAttempt.byGradebookAttemptId[l])?void 0:s.value;if(!d)return;let{courseId:c,gradeId:E}=d,p=await (0,n.Th)({courseId:c,columnId:e,gradeId:E,attemptId:l,stagedAttemptId:u,updatedProperties:{showFeedbackToStudent:!i.showFeedbackToStudent}});t((0,o.rc)((0,o.ok)(a.g.PATCH_DELEGATED_ATTEMPT_GRADE),p))}}catch(e){throw t((0,o.rc)((0,o.ok)(l.A.APP_ERROR),{error:e})),{err:e}}})},E=(e,t)=>{let{graderId:r,userBeingGradedId:s}=t;return{...t,grader:r?i.Lt.getUserById(e,r):null,userBeingGraded:s?i.Lt.getUserById(e,s):null}},p={getCompletedDelegatedAttemptGradesByGrader:(e,t,r)=>Object.values(e.delegatedAttemptGrade.byStagedAttemptId).filter(e=>e.graderId===t&&e.columnId===r).map(t=>E(e,t)),getCompletedDelegatedAttemptGradesOnAttempt:(e,t)=>Object.values(e.delegatedAttemptGrade.byStagedAttemptId).filter(e=>e.attemptId===t).map(t=>E(e,t)),getDelegatedAttemptByStagedAttemptId:(e,t)=>E(e,Object.values(e.delegatedAttemptGrade.byStagedAttemptId).find(e=>e.stagedAttemptId===t))}},498487:(e,t,r)=>{"use strict";var s=r(56684);s.Ex,s.Cd,s.mj},501271:(e,t,r)=>{"use strict";r.d(t,{$f:()=>o,Ay:()=>a,LD:()=>i,OP:()=>s.Mc});var s=r(499625),n=r(730539);let o="rtl",i="ltr";s.Mc.whitelist=[i,o],s.Mc.createChange=(e=i)=>({format:{direction:e,align:"rtl"===e?n.t7:n.C7}});let a=s.Mc},502059:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>A,Lt:()=>S,gK:()=>c,o1:()=>h});var s=r(645250),n=r(956284),o=r(968554),i=r(905898),a=r(270194),l=r(764209),u=r(170228),d=r(139552);let c={CONTENT_REVIEW_STATE_PERSIST:"content-review-state.persist",CONTENTS_REVIEW_STATES_GET:"contents-review-states-get",CONTENTS_REVIEW_STATES_USERS_GET:"contents-review-states-users-get",CONTENTS_REVIEW_STATES_USERS_REPORTS_STATES_GET:"contents-review-states-users-reports-states-get",CONTENTS_REVIEW_STATES_USER_CONTENT_GET:"contents-review-states-user-content-get",CONTENT_INVALIDATE_CACHE_BY_USER_ID:"content-invalidate-cache-by-user-id"},E=(e,t)=>{var r;if(!t)return{id:null,view:null};let n=(null==(r=e.contentReviewState.byContentId[t.contentId])?void 0:r.byViewId)||{},o=Object.keys(n).find(e=>{let r=n[e];return s.isEqual(r.query,t)});return{id:null!=o?o:null,view:void 0!==o?n[o]:null}},p=(e,t)=>{var r;if(!t)return{id:null,view:null};let n=(null==(r=e.contentReviewState.byUserId[t.userId])?void 0:r.byViewId)||{},o=Object.keys(n).find(e=>{let r=n[e];return s.isEqual(r.query,t)});return{id:null!=o?o:null,view:void 0!==o?n[o]:null}},m=e=>["contentReviewState","byContentId",e.contentId,"byViewId"],g=e=>["contentReviewState","byUserId",e.userId,"byViewId"];function y(e,t){e.contentReviewState.byContentId[t]||(e.contentReviewState.byContentId[t]={byUserId:{},byViewId:{},reports:{states:{isLoading:!1,states:void 0}}})}function I(e){return(0,i.Ay)(e,e=>{e.contentReviewState.byUserId={}})}let A=(0,o.vy)({contentReviewState:{byContentId:{},byUserId:{},byColumnId:{}}},{[c.CONTENT_REVIEW_STATE_PERSIST]:(e,t)=>{let{contentId:r,userId:s}=t;return(0,i.Ay)(e,e=>{y(e,r),e.contentReviewState.byContentId[r].byUserId[s]||(e.contentReviewState.byContentId[r].byUserId[s]={status:null,isLoading:!0}),e.contentReviewState.byContentId[r].byUserId[s].isLoading=!0})},[(0,o.ok)(c.CONTENT_REVIEW_STATE_PERSIST)]:(e,t)=>{let{contentId:r,contentStates:s,userId:n}=t;return(0,i.Ay)(e,e=>{e.contentReviewState.byContentId[r].byUserId[n].isLoading=!1,s&&Object.values(s).forEach(t=>{let r=t.contentId;y(e,r),e.contentReviewState.byContentId[r].byUserId[n]={status:{state:t.state,startedDate:null,reviewedDate:null},isLoading:!1}})})},[(0,o.fJ)(c.CONTENT_REVIEW_STATE_PERSIST)]:(e,t)=>{let{contentId:r,userId:s}=t;return(0,i.Ay)(e,e=>{y(e,r),e.contentReviewState.byContentId[r].byUserId[s].isLoading=!1})},[c.CONTENTS_REVIEW_STATES_GET]:(e,t)=>{let{contentId:r,userId:s}=t;return(0,i.Ay)(e,e=>{y(e,r),e.contentReviewState.byContentId[r].byUserId[s]||(e.contentReviewState.byContentId[r].byUserId[s]={status:null,isLoading:!0}),e.contentReviewState.byContentId[r].byUserId[s].isLoading=!0})},[(0,o.ok)(c.CONTENTS_REVIEW_STATES_GET)]:(e,t)=>{let{contentStates:r,contentId:s,userId:n}=t;return(0,i.Ay)(e,e=>{r&&Object.values(r).forEach(t=>{let r=t.contentId;y(e,r),e.contentReviewState.byContentId[r].byUserId[n]={status:{state:t.state,startedDate:null,reviewedDate:null},isLoading:!1}}),e.contentReviewState.byContentId[s].byUserId[n].isLoading=!1})},[(0,o.fJ)(c.CONTENTS_REVIEW_STATES_GET)]:(e,t)=>{let{contentId:r,userId:s}=t;return(0,i.Ay)(e,e=>{y(e,r),e.contentReviewState.byContentId[r].byUserId[s].isLoading=!1})},[c.CONTENTS_REVIEW_STATES_USERS_GET]:(e,t)=>{let r=(0,i.Ay)(e,e=>{y(e,t.query.contentId)});return(0,o.Dh)(E,m)(r,t)},[(0,o.ok)(c.CONTENTS_REVIEW_STATES_USERS_GET)]:(e,t)=>{let{data:r,query:s}=t,n=(0,i.Ay)(e,e=>{y(e,s.contentId),void 0===s.fields&&r.results.forEach(t=>{e.contentReviewState.byContentId[s.contentId].byUserId[t.courseMembership.userId]={status:t.status,isLoading:!1}}),e.contentReviewState.byContentId[s.contentId].permissions=r.permissions});return(0,o.lY)(n,t,{viewResolver:E,viewsPathResolver:m,paging:r.paging,values:r.results.map(e=>e.courseMembership.userId)})},[(0,o.fJ)(c.CONTENTS_REVIEW_STATES_USERS_GET)]:(0,o.To)(E,m),[c.CONTENTS_REVIEW_STATES_USER_CONTENT_GET]:(e,t)=>{let r=(0,i.Ay)(e,r=>{e.contentReviewState.byUserId[t.query.userId]||(r.contentReviewState.byUserId[t.query.userId]={byContentId:{},byViewId:{},byColumnId:{}})});return(0,o.Dh)(p,g)(r,t)},[(0,o.ok)(c.CONTENTS_REVIEW_STATES_USER_CONTENT_GET)]:(e,t)=>{let{data:r,query:s}=t,n=(0,i.Ay)(e,e=>{r.results.forEach(t=>{e.contentReviewState.byUserId[s.userId].byContentId[t.contentId]=t})});return(0,o.lY)(n,t,{viewResolver:p,viewsPathResolver:g,paging:r.paging,values:r.results.map(e=>e.contentId)})},[(0,o.fJ)(c.CONTENTS_REVIEW_STATES_USER_CONTENT_GET)]:(0,o.To)(p,g),[c.CONTENTS_REVIEW_STATES_USERS_REPORTS_STATES_GET]:(e,t)=>(0,i.Ay)(e,e=>{y(e,t.query.contentId),e.contentReviewState.byContentId[t.query.contentId].reports.states={isLoading:!0,states:void 0}}),[(0,o.ok)(c.CONTENTS_REVIEW_STATES_USERS_REPORTS_STATES_GET)]:(e,t)=>{let{data:r,query:{contentId:s}}=t;return(0,i.Ay)(e,e=>{y(e,s),e.contentReviewState.byContentId[t.query.contentId].reports.states={...e.contentReviewState.byContentId[t.query.contentId].reports.states,isLoading:!1,states:r.states}})},[(0,o.fJ)(c.CONTENTS_REVIEW_STATES_USERS_REPORTS_STATES_GET)]:(e,t)=>(0,i.Ay)(e,e=>{e.contentReviewState.byContentId[t.query.contentId].reports.states.isLoading=!1}),[(0,o.ok)(l.g.CONTENT_LOAD)]:(e,t)=>{let{contents:r}=t;return r=(0,n.jD)(Object.values(r||{})),(0,i.Ay)(e,e=>{Object.values(r).forEach(t=>{let r=t.id;y(e,r),e.contentReviewState.byContentId[r].byUserId[a.dC]={status:{state:t.state,startedDate:null,reviewedDate:null},isLoading:!1}})})},[(0,o.ok)(c.CONTENT_INVALIDATE_CACHE_BY_USER_ID)]:(e,t)=>(function(e,t){let{userId:r}=t;return(0,i.Ay)(e,e=>{delete e.contentReviewState.byUserId[r]})})(e,t),[(0,o.ok)(l.g.CONTENT_DELETE)]:I,[(0,o.ok)(l.g.CONTENT_DELETE_ADAPTIVE_RELEASE)]:I,[(0,o.ok)(l.g.CONTENT_DELETE_ADAPTIVE_RELEASE_RULE_IN_STORE)]:I,[(0,o.ok)(l.g.CONTENT_DELETE_ALL_ADAPTIVE_RELEASE_IN_STORE)]:I,[(0,o.ok)(l.g.CONTENT_DELETE_IN_STORE)]:I,[(0,o.ok)(l.g.CONTENT_PERSIST)]:I,[(0,o.ok)(l.g.CONTENT_PERSIST_MULTIPLE)]:I,[(0,o.ok)(l.g.CONTENT_PERSIST_ADAPTIVE_RELEASE_MULTIPLE)]:I,[(0,o.ok)(l.g.CONTENT_MOVE_IN_STORE)]:I,[(0,o.ok)(l.g.CONTENT_UPDATE_IN_STORE)]:I,[(0,o.ok)(u.g.GRADEBOOK_BULKVIEW_LOAD)]:(e,t)=>(0,i.Ay)(e,e=>{let{columnIds:r,contentReviewStatusPerUserMap:s}=t;s&&function(e,t,r){t&&0!==t.length&&t.forEach(t=>{e.contentReviewState.byColumnId[t]||(e.contentReviewState.byColumnId[t]={byUserId:{},byViewId:{}}),r.forEach(r=>{var s,n;let[o,i]=Object.entries(r)[0];e.contentReviewState.byColumnId[t]?e.contentReviewState.byColumnId[t].byUserId[o]||(e.contentReviewState.byColumnId[t].byUserId[o]={status:null,isLoading:!1}):e.contentReviewState.byColumnId[t]={byUserId:{[o]:{status:null,isLoading:!1}},byViewId:{}},e.contentReviewState.byColumnId[t].byUserId[o]={status:{state:i.state,startedDate:null!=(s=i.startedDate)?s:null,reviewedDate:null!=(n=i.reviewedDate)?n:null},isLoading:!1}})})}(e,r,s)})}),h={persistContentReviewState:(e,t,r)=>(0,o.VP)(c.CONTENT_REVIEW_STATE_PERSIST,async()=>{try{let s={courseId:e,contentId:t,userId:a.dC,state:r};return await (0,a.Qq)(s),{contentStates:(await (0,a.Iu)({courseId:e,contentId:t,includeRelated:!0,includeNextIncompleteChild:!1})).contentStates,contentId:t,userId:a.dC}}catch(e){throw{contentId:t,userId:a.dC,err:e}}},{contentId:t,userId:a.dC}),getContentReviewState:(e,t,r,s=!1)=>(0,o.VP)(c.CONTENTS_REVIEW_STATES_GET,async()=>{try{return{contentStates:(await (0,a.Iu)({courseId:e,contentId:t,includeRelated:r,includeNextIncompleteChild:s})).contentStates,contentId:t,userId:a.dC}}catch(e){throw{contentId:t,userId:a.dC,err:e}}},{contentId:t,userId:a.dC}),fetchContentReviewUserStatesByQuery:e=>(0,o.VP)(c.CONTENTS_REVIEW_STATES_USERS_GET,async()=>{try{return{data:await (0,a.Rz)(e),query:e}}catch(t){throw{query:e,err:t}}},{query:e}),fetchContentReviewStateUsersReportStates:e=>(0,o.VP)(c.CONTENTS_REVIEW_STATES_USERS_REPORTS_STATES_GET,async()=>{try{return{data:await (0,a.dh)(e),query:e}}catch(t){throw{query:e,err:t}}},{query:e}),fetchMoreContentReviewStateUserContent:e=>(0,o.VP)(c.CONTENTS_REVIEW_STATES_USER_CONTENT_GET,async()=>{try{return{data:await (0,a.hZ)(e),query:e}}catch(t){throw{query:e,err:t}}},{query:e}),invalidateContentCacheByUserId:e=>(0,o.RA)(async t=>{t((0,o.rc)((0,o.ok)(c.CONTENT_INVALIDATE_CACHE_BY_USER_ID),{userId:e}))})},_=(0,d.Mz)([(e,t)=>e.contentReviewState.contentReviewState.byUserId[t.userId],(e,t)=>t],(e,t)=>{var r;return{byViewId:null!=(r=null==e?void 0:e.byViewId)?r:{},query:t}}),b=(0,d.Mz)(_,({byViewId:e,query:t})=>({views:Object.values(e).filter(e=>e.query.courseId===t.courseId&&e.query.contentId===t.contentId).sort((e,t)=>{var r,s,n,o;return(null!=(s=null==(r=t.query.paging)?void 0:r.offset)?s:0)-(null!=(o=null==(n=e.query.paging)?void 0:n.offset)?o:0)}),query:t})),S={getContentReviewStateForContextUser:(e,t)=>{var r,s,n;return null==(n=null==(s=null==(r=e.contentReviewState.contentReviewState.byContentId[t])?void 0:r.byUserId[a.dC])?void 0:s.status)?void 0:n.state},getContentReviewStateByColumnIdForContextUser:(e,t,r)=>{var s,n,o;return t&&r&&null!=(o=null==(n=null==(s=e.contentReviewState.contentReviewState.byColumnId[t])?void 0:s.byUserId[r])?void 0:n.status)?o:void 0},getLoadingStatusForContentReviewStateForContextUser:(e,t)=>{var r,s;return null==(s=null==(r=e.contentReviewState.contentReviewState.byContentId[t])?void 0:r.byUserId[a.dC])?void 0:s.isLoading},getContentReviewStateUsersByQuery:(e,t)=>{var r;let{view:s}=E(e.contentReviewState,t);return s?(null!=(r=s.values)?r:[]).map(r=>{let s=e.contentReviewState.contentReviewState.byContentId[t.contentId].byUserId[r];return{contentId:t.contentId,status:s.status,courseMembership:Object.values(e.courseMembership.byCourseMembershipId).find(e=>e.courseId===t.courseId&&e.userId===r)}}):[]},getContentReviewStateUsersStatusByQuery:(e,t)=>{let{view:r}=E(e.contentReviewState,t);return r?{isLoading:r.isLoading,isValid:r.isValid,paging:r.paging}:null},getContentReviewStateUsersPermissions:(e,t)=>{var r;return null==(r=e.contentReviewState.contentReviewState.byContentId[t])?void 0:r.permissions},getContentReviewStateUsersReportStates:(e,t)=>{var r;return null==(r=e.contentReviewState.contentReviewState.byContentId[t])?void 0:r.reports.states},hasMoreContentReviewStateUserContent:(0,d.Mz)(b,({views:e,query:t})=>{var r,s,n;if(0===e.length)return{isLoading:!1,canLoadMore:!0,nextOffset:0};let o=e[0],i=!!(null==(r=o.paging)?void 0:r.nextPage),a=(null==(s=o.paging)?void 0:s.nextPage)?o.paging.offset+t.limit:void 0;return{isLoading:o.isLoading,canLoadMore:i,nextOffset:a,count:null==(n=o.paging)?void 0:n.count}}),getContentReviewStateFirstUserContent:(0,d.Mz)([(e,t)=>{var r,s;return null!=(s=null==(r=e.contentReviewState.contentReviewState.byUserId[t.userId])?void 0:r.byContentId)?s:{}},(e,t)=>t],(e,t)=>Object.values(e).filter(e=>e.content.parentId===t.contentId&&(!t.visibility||e.content.visibility&&t.visibility.includes(e.content.visibility))).sort((e,t)=>{var r,s;return(null!=(r=e.content.position)?r:0)-(null!=(s=t.content.position)?s:0)}))}},503508:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});class s extends Error{}},504075:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>A,Lt:()=>_,o1:()=>h});var s=r(905898),n=r(139552),o=r(968554),i=r(612918),a=r(827828),l=r(767372),u=r(732583);let d=(e,t)=>{var r;if(!(null==t?void 0:t.courseFoundationsId))return o.Vc;let[s,n]=null!=(r=Object.entries(e.views.byCourseFoundationsId[null==t?void 0:t.courseFoundationsId]||{}).find(([,e])=>(0,u.Y_)(e.query,t)))?r:[null,null];return s?{id:s,view:n}:o.Vc},c=e=>["views","byCourseFoundationsId",e.courseFoundationsId],E=e=>["byId",e.automationId],p=(e,t)=>{var r;if(!(null==(r=e.query)?void 0:r.courseFoundationsId))return!1;let{view:s}=d(t.getState().automations,e.query);return!s||!s.isLoading&&!s.isValid},m=(e,t)=>{let r=t.getState().automations.byId[e.automationId];return(0,i.gE)(null==r?void 0:r.status)},g=(e,t)=>{let r=t.getState().automations.byId[e.automationId];return(0,i.PH)(null==r?void 0:r.status)},y=(e,t)=>{let r=t.getState().automations.byId[e.automationId];return(0,i.zO)(null==r?void 0:r.status)},I=(e,t)=>{if(!t)return;let r=e.views.byCourseFoundationsId[t];r&&Object.keys(r).forEach(e=>{r[e].isValid=!1})},A=(0,o.vy)({byId:{},views:{byCourseFoundationsId:{}}},{[l.g.AUTOMATIONS_LOAD]:(0,o.Dh)(d,c),[(0,o.ok)(l.g.AUTOMATIONS_LOAD)]:(e,t)=>{var r;let{data:n}=t,a=(0,s.Ay)(e,e=>{Object.keys(n.automationsById).forEach(t=>{e.byId[t]?e.byId[t]={value:n.automationsById[t],status:e.byId[t].status}:e.byId[t]={value:n.automationsById[t],status:i.U8}})});return(0,o.lY)(a,t,{viewResolver:d,viewsPathResolver:c,values:null!=(r=null==n?void 0:n.automationIds)?r:[]})},[(0,o.fJ)(l.g.AUTOMATIONS_LOAD)]:(0,o.To)(d,c),[l.g.AUTOMATION_LOAD]:(0,i.rK)(E,i.hu.Load,i.p_),[(0,o.ok)(l.g.AUTOMATION_LOAD)]:(e,t)=>{let{automation:r}=t;return(0,s.Ay)(e,e=>{e.byId[r.id]={value:r,status:(0,i.Lx)(i.hu.Load,e.byId[r.id],i.U8)}})},[(0,o.fJ)(l.g.AUTOMATION_LOAD)]:(0,i.rK)(E,i.hu.Load,i.XP),[l.g.AUTOMATION_CREATE]:(0,i.rK)(E,i.hu.Create,i.p_),[(0,o.ok)(l.g.AUTOMATION_CREATE)]:(e,t)=>(0,s.Ay)(e,e=>{let{automation:r,courseFoundationsId:s}=t;e.byId[r.id]={value:r,status:(0,i.Lx)(i.hu.Create,void 0,i.U8)},I(e,s)}),[(0,o.fJ)(l.g.AUTOMATION_CREATE)]:(0,i.rK)(E,i.hu.Create,i.XP),[l.g.AUTOMATION_DELETE]:(0,i.rK)(E,i.hu.Delete,i.nn),[(0,o.ok)(l.g.AUTOMATION_DELETE)]:(e,t)=>(0,s.Ay)(e,e=>{let{automationId:r,courseFoundationsId:s}=t;e.byId[r]={value:e.byId[r].value,status:(0,i.Lx)(i.hu.Delete,e.byId[r],i.s1)},I(e,s)}),[(0,o.fJ)(l.g.AUTOMATION_DELETE)]:(0,i.rK)(E,i.hu.Delete,i.XP),[l.g.AUTOMATION_UPDATE]:(0,i.rK)(E,i.hu.Update,i.J7),[(0,o.ok)(l.g.AUTOMATION_UPDATE)]:(e,t)=>(0,s.Ay)(e,e=>{let{automation:r,courseFoundationsId:s}=t;e.byId[r.id]={value:r,status:(0,i.Lx)(i.hu.Update,e.byId[r.id],i.U8)},I(e,s)}),[(0,o.fJ)(l.g.AUTOMATION_UPDATE)]:(0,i.rK)(E,i.hu.Update,i.XP)}),h={loadAutomations:e=>(0,o.Vy)(l.g.AUTOMATIONS_LOAD,async()=>{try{return{data:await (0,a.Jf)(e),query:e}}catch(t){throw new o.GS(t).setData({query:e})}},{data:{query:e},condition:p}),loadAutomation:({courseFoundationsId:e,automationId:t})=>(0,o.Vy)(l.g.AUTOMATION_LOAD,async()=>{try{let r=await (0,a.Oz)(e,t);return{courseFoundationsId:e,automationId:t,automation:r}}catch(r){throw new o.GS(r).setData({courseFoundationsId:e,automationId:t})}},{data:{courseFoundationsId:e,automationId:t},condition:m}),createAutomation:({courseFoundationsId:e,automationDraft:t})=>(0,o.Vy)(l.g.AUTOMATION_CREATE,async()=>{let r=await (0,a.ac)(e,t);return{courseFoundationsId:e,automationId:r.id,automation:r}}),deleteAutomation:({courseFoundationsId:e,automationId:t})=>(0,o.Vy)(l.g.AUTOMATION_DELETE,async()=>{try{return await (0,a.ns)(e,t),{courseFoundationsId:e,automationId:t}}catch(r){throw new o.GS(r).setData({courseFoundationsId:e,automationId:t})}},{data:{courseFoundationsId:e,automationId:t},condition:g}),updateAutomation:({courseFoundationsId:e,automationId:t,automationUpdate:r})=>(0,o.Vy)(l.g.AUTOMATION_UPDATE,async()=>{try{let s=await (0,a.nR)(e,t,r);return{courseFoundationsId:e,automationId:t,automation:s}}catch(r){throw new o.GS(r).setData({courseFoundationsId:e,automationId:t})}},{data:{courseFoundationsId:e,automationId:t},condition:y})},_={getAutomationsByQuery:(0,n.Mz)([e=>e.automations,(e,t)=>t],(e,t)=>{let{view:r}=d(e,t);return r?(r.values||[]).map(t=>e.byId[t]).filter(e=>(null==e?void 0:e.value)&&(null==e?void 0:e.status.status)!=="deleted").map(e=>e.value):[]}),getAutomationsViewByQuery:(0,n.Mz)([e=>e.automations,(e,t)=>t],(e,t)=>{let{view:r}=d(e,t);return r||null}),getAutomationById:(e,t)=>{var r;return null==(r=e.automations.byId[t])?void 0:r.value},getAutomationStatusById:(e,t)=>{var r;return null==(r=e.automations.byId[t])?void 0:r.status}}},504566:(e,t,r)=>{"use strict";r.d(t,{Lf:()=>c,QN:()=>a,T8:()=>o,Yn:()=>d,gB:()=>l,ml:()=>u,n6:()=>i});var s=r(608719),n=r(825271);function o(e,t){return(0,s.jNO)(n.dZ,e,t)}function i(e){return(0,s.bS6)(n.dZ,e)}function a(e,t){return(0,s.ehj)(n.dZ,e,t)}function l(e){return(0,s.eUG)(n.dZ,e)}async function u(e,t){var r,o;let{results:i}=await (0,s.GWV)(n.dZ,e,t),a={columnId:e.columnId,courseId:e.courseId,...t};return(null==(r=null==t?void 0:t.membershipIds)?void 0:r.length)&&(a.byCourseMembershipId=i.reduce((e,t)=>(t.membershipId&&(e[t.membershipId]=t),e),{})),(null==(o=null==t?void 0:t.groupIds)?void 0:o.length)&&(a.byGroupId=i.reduce((e,t)=>(t.groupId&&(e[t.groupId]=t),e),{})),a}async function d(e,t){let{results:r}=await (0,s.e5l)(n.dZ,e,t);return{membershipId:e.membershipId,byColumnId:r.reduce((e,t)=>(e[t.columnId]=t,e),{})}}function c(e){return(0,s.BEZ)(n.dZ,e)}},505237:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var s=r(56684);class n extends s.mj{constructor(e){super("/public/v1/courses/%courseId%/attemptReceipts/%receiptId%",e)}}},506439:(e,t,r)=>{"use strict";r.d(t,{o1:()=>g,Ff:()=>m,Lt:()=>y});var s=r(968554);let n={KNOWLEDGE_CHECK_METRIC_LOAD:"knowledge-check-metric.load",KNOWLEDGE_CHECK_INVALIDATE_DATA:"knowledge-check-metric.invalidateData"};var o=r(608719),i=r(905898),a=r(825271);async function l(e,t){return(0,o.jny)(a.dZ,{courseId:e,columnId:t})}var u=r(645250),d=r(842804);let c=(e,t)=>{let r=e.views.byColumnId[t.columnId]||{},n=Object.keys(r).find(e=>{let s=r[e];return(0,u.isEqual)(s.query,t)});return n?{id:n,view:r[n]}:s.Vc},E=e=>["views","byColumnId",e.columnId],p=(0,s.To)(c,E),m=(0,s.vy)({byColumnId:{},views:{byColumnId:{}}},{[n.KNOWLEDGE_CHECK_METRIC_LOAD]:(0,s.Dh)(c,E),[(0,s.ok)(n.KNOWLEDGE_CHECK_METRIC_LOAD)]:(e,t)=>{let{query:r,knowledgeCheckMetric:n}=t,o=(0,i.Ay)(e,e=>{e.byColumnId[r.columnId]=n});return(0,s.lY)(o,t,{viewResolver:c,viewsPathResolver:E,values:[r.columnId]})},[(0,s.fJ)(n.KNOWLEDGE_CHECK_METRIC_LOAD)]:p,[(0,s.cw)(n.KNOWLEDGE_CHECK_METRIC_LOAD)]:(e,t)=>{let{query:r}=t;return p((0,i.Ay)(e,e=>{let{view:t}=c(e,r);t&&(t.isError=!0)}),t)},[(0,s.ok)(d.g.QUESTION_PERSIST)]:(e,t)=>{let{columnId:r}=t,n=(0,i.Ay)(e,e=>{r&&((e,t)=>{let r=e.views.byColumnId[t];r&&Object.values(r).forEach(e=>{e.isValid=!1})})(e,r)});return(0,s.Zg)(n,t)},[n.KNOWLEDGE_CHECK_INVALIDATE_DATA]:(e,t)=>{let{documentContentId:r}=t,n=(0,i.Ay)(e,e=>{Object.values(e.views.byColumnId).reduce((e,t)=>e.concat(Object.values(t)),[]).forEach(e=>{e.query.documentContentId===r&&(e.isValid=!1)})});return(0,s.Zg)(n,t)}}),g={loadKnowledgeCheckMetric:e=>{let{columnId:t,courseId:r}=e;return(0,s.Vy)(n.KNOWLEDGE_CHECK_METRIC_LOAD,async()=>{try{return{knowledgeCheckMetric:await l(r,t),query:e}}catch(t){throw new s.GS(t).setData({query:e})}},{allowedErrors:[o.t3V.Forbidden],data:{query:e},condition:(t,{getState:r})=>((e,t)=>{let{view:r}=c(t.knowledgeCheckMetric,e),s=t.knowledgeCheckMetric.byColumnId[e.columnId];return!(null==r?void 0:r.isLoading)&&(!s||!(null==r?void 0:r.isValid))})(e,r())})},invalidateData:(e,t)=>({type:n.KNOWLEDGE_CHECK_INVALIDATE_DATA,courseId:e,documentContentId:t})},y={getKnowledgeCheckMetric:(e,t)=>e.knowledgeCheckMetric.byColumnId[t],getKnowledgeCheckMetricViewStatusByQuery:(e,t)=>{let{view:r}=c(e.knowledgeCheckMetric,t);if(r)return r}}},506890:(e,t,r)=>{"use strict";r.d(t,{hS:()=>d,hi:()=>c,zE:()=>E});var s=r(56684);let n="/v1/courses/%courseId%",o=`${n}/groups`,i=`${n}/contents/%contentId%`,a=`${n}/groupsets/%groupSetId%`,l=`${i}/assignedGroups`,u=`${a}/groups`;s.w_;class d extends s.pT{constructor(e){super(l,e)}}class c extends s.pT{constructor(e){super(l,e)}}class E extends s.pT{constructor(e){super(u,e)}}s.QR,s.QR,s.Jk},507225:(e,t,r)=>{"use strict";function s(e){var t;let r;return"raw"in e.headers&&e.headers.raw?r=e.headers.raw()["set-cookie"]:"getSetCookie"in e.headers&&(r=e.headers.getSetCookie()),null!=(t=null==r?void 0:r.map(e=>e.split(";")[0]).join(";"))?t:""}function n(e){var t;return null!=(t=e.getResponseHeader("Set-Cookie"))?t:""}function o(e,t){let r=e.split(";");return t.split(";").forEach(e=>{var t;let s=e.split("=");t=s[0],r.some(e=>e.split("=")[0]===t)||r.push(`${s[0]}=${s[1]}`)}),r.join(";")}r.d(t,{Ng:()=>n,Ri:()=>s,ez:()=>o})},508322:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var s=r(514041),n=r(216693),o=r(432842),i=r(910685);let a=(e,t)=>{let r=(0,i.Y)(),a=(0,o.p)(e,t);return(0,s.useEffect)(()=>{e&&r(n.o1I.courseEntitlements.loadUserCourseEntitlements(e))},[r,e]),a}},532893:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});let s={CONVERSATION:"conversations",DISCUSSION:"discussion",DISCUSSION_DETAILS:"discussion-details",DISCUSSION_FEEDBACK:"discussion-feedback",DISCUSSION_PARTICIPANTS:"discussion-participants",DISCUSSION_SETTINGS:"discussion-settings",DISCUSSIONS_SETTINGS:"discussions-settings",DISCUSSION_VIEW:"discussion.view",DISCUSSION_VIEW_WITH_GRADING:"discussion.view.with-grading",SUBMISSION_LIST:"submission-list",DISCUSSION_GENERATE:"discussion-generate"}},534579:(e,t,r)=>{"use strict";r.d(t,{G:()=>s});class s extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}},535324:(e,t,r)=>{"use strict";r.d(t,{o1:()=>p,Ff:()=>E,Lt:()=>m});var s=r(905898),n=r(968554),o=r(973589),i=r(608719),a=r(956284);let l={CALENDARS_LOAD:"calendars.load",CALENDAR_UPDATE:"calendar.update",CALENDARS_BATCH_UPDATE:"calendars.batch.update",CALENDAR_CLEAR_IN_STORE:"calendar.clear.in.store",CALENDAR_EVENT_AVAILABLE_LOAD:"calendar.event.available.load"};var u=r(612918);let d=()=>["eventsAvailable"],c=(e,t)=>{let r=t.getState().calendar.eventsAvailable;return(0,u.qO)(null==r?void 0:r.status)},E=(0,n.vy)({byId:{},isLoading:!1,eventsAvailable:void 0},{[l.CALENDARS_LOAD]:n.r1,[(0,n.ok)(l.CALENDARS_LOAD)]:(e,t)=>{let{byId:r}=t,o=(0,s.jM)(e,t=>{Object.keys(r).forEach(s=>{let n={...r[s],api:{isUpdating:!1,isDeleting:!1},ui:e.byId[s]&&e.byId[s].ui};t.byId[n.id]=n})});return(0,n.Zg)(o,t)},[(0,n.fJ)(l.CALENDARS_LOAD)]:n.Nh,[l.CALENDAR_UPDATE]:(e,t)=>{let{id:r}=t;return(0,s.jM)(e,e=>{e.byId[r]||(e.byId[r]={}),e.byId[r].api||(e.byId[r].api={}),e.byId[r].api.isUpdating=!0})},[(0,n.ok)(l.CALENDAR_UPDATE)]:(e,t)=>{let{calendar:r}=t;return(0,s.jM)((0,n.Zg)(e,t),t=>{t.byId[r.id]={...e.byId[r.id],...r,api:{...e.byId[r.id].api,isUpdating:!1},ui:e.byId[r.id]&&e.byId[r.id].ui}})},[(0,n.fJ)(l.CALENDAR_UPDATE)]:(e,t)=>{let{id:r}=t;return(0,s.jM)(e,e=>{e.byId[r]||(e.byId[r]={}),e.byId[r].api||(e.byId[r].api={}),e.byId[r].api.isUpdating=!1})},[l.CALENDARS_BATCH_UPDATE]:(e,t)=>{let{byId:r}=t;return(0,s.jM)(e,e=>{Object.keys(r).forEach(t=>{e.byId[t]||(e.byId[t]={}),e.byId[t].api||(e.byId[t].api={}),e.byId[t].api.isUpdating=!0})})},[(0,n.ok)(l.CALENDARS_BATCH_UPDATE)]:(e,t)=>{let{byId:r}=t,o=e;return Object.keys(r).forEach(t=>{o=(0,s.jM)(o,s=>{s.byId[t]={...o.byId[t],...r[t],api:{...e.byId[t].api,isUpdating:!1},ui:o.byId[t]&&o.byId[t].ui}})}),(0,n.Zg)(o,t)},[(0,n.fJ)(l.CALENDARS_BATCH_UPDATE)]:(e,t)=>{let{byId:r}=t,n=e;return Object.keys(r).forEach(e=>{n=(0,s.jM)(n,t=>{t.byId[e]||(t.byId[e]={}),t.byId[e].api||(t.byId[e].api={}),t.byId[e].api.isUpdating=!1})}),n},[l.CALENDAR_EVENT_AVAILABLE_LOAD]:(0,u.vR)(d,u.vq),[(0,n.ok)(l.CALENDAR_EVENT_AVAILABLE_LOAD)]:(e,t)=>{let{eventsAvailable:r}=t;return(0,s.jM)(e,e=>{e.eventsAvailable={value:r,status:u.y_}})},[(0,n.fJ)(l.CALENDAR_EVENT_AVAILABLE_LOAD)]:(0,u.vR)(d,u.JL),[l.CALENDAR_CLEAR_IN_STORE]:e=>(0,s.jM)(e,e=>{e.byId={}})}),p={fetchCalendars:()=>(0,n.VP)(l.CALENDARS_LOAD,()=>(0,o.Xt)().then(e=>e).catch(e=>{throw{err:e}})),updateCalendar:(e,t)=>(0,n.VP)(l.CALENDAR_UPDATE,()=>(0,o.md)(e,t).then(e=>({calendar:e})).catch(t=>{throw{id:e,err:t}}),{id:e}),batchUpdateCalendar:e=>(0,n.VP)(l.CALENDARS_BATCH_UPDATE,()=>(0,o.G2)(e).then(e=>e).catch(t=>{throw{byId:(0,a.jD)(e),err:t}}),{byId:(0,a.jD)(e)}),fetchCalendarEventsAvailable:()=>(0,n.Vy)(l.CALENDAR_EVENT_AVAILABLE_LOAD,async()=>({eventsAvailable:await (0,o.tH)()}),{condition:c}),clearCalendarsInStore:()=>(0,n.rc)(l.CALENDAR_CLEAR_IN_STORE)},m={getCalendarsSortedByType:e=>{let t=Object.values(e.calendar.byId);return t.sort((e,t)=>e.labelLocalizable.languageKey&&t.labelLocalizable.languageKey||e.labelLocalizable.languageKey&&!t.labelLocalizable.languageKey?e.id===i.pUi.Institution?1:-1:t.labelLocalizable.languageKey&&!e.labelLocalizable.languageKey?t.id===i.pUi.Institution?-1:1:e.labelLocalizable.rawValue<t.labelLocalizable.rawValue?-1:1),t},getCalendarEventsAvailable:e=>{var t,r,s;return null!=(s=null==(r=null==(t=e.calendar.eventsAvailable)?void 0:t.value)?void 0:r.isCalendarEventsAvailable)&&s}}},535463:(e,t,r)=>{"use strict";r.d(t,{$x:()=>n,A:()=>i,zM:()=>o});var s=r(56684);class n extends s.mj{constructor(e){super("/v1/courses/%courseId%/conversations/counts",e)}}class o extends s.mj{constructor(e){super("/v1/courses/%courseId%/conversations/options",e)}}class i extends s.QR{constructor(e){super("/v1/courses/%courseId%/conversations/options",e)}}},537659:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(877973);let n=(0,s.n9)(e=>(0,s.rU)({root:{position:"relative"},input:{},searchButton:{height:"40px",width:"40px"},internalInput:{marginBottom:"0 !important",border:"none !important"},inputAdorment:{paddingRight:"0 !important"},popperContainer:{boxSizing:"border-box",borderStyle:"solid",borderWidth:"1px",borderColor:e.palette.border.main,boxShadow:`${e.palette.action.focus} 0px 0px 0px 4px`,borderRadius:"2px",zIndex:1e4},errorMessage:{color:e.palette.error.main,fontSize:e.typography.fontSizeSmall,fontWeight:e.typography.fontWeightMedium,margin:"0",paddingTop:e.spacing(.75),display:"flex",alignItems:"center","& svg":{marginRight:e.spacing(.75)}}}))},538642:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,X:()=>a});var s=r(139342),n=r(899473),o=r(514041),i=r(843144);function a(e,t){let r=document.querySelector(`#${e}`);null!=r&&(i.unmountComponentAtNode(r),r.remove()),null==t||t(!1)}let l=(e,t,r)=>{setTimeout(()=>{var a;let l="bb-editor-modal";if(document.querySelector(`div.${l}`))return;let u=document.createElement("div");u.classList.add(l),t.bbEditorId&&(u.id=t.bbEditorId),document.body.appendChild(u),null==(a=t.onModalOpen)||a.call(t,!0),i.render(o.createElement(s.NPJ,{isRtl:r.isRtl},o.createElement(n.h,{...r},o.createElement(e,{destroy:function(e,t){return()=>{var r;i.unmountComponentAtNode(e),e.remove(),t.applyChange&&t.applyChange(),null==(r=t.onModalOpen)||r.call(t,!1)}}(u,t),...t}))),u)},250)}},540037:(e,t,r)=>{"use strict";let s;r.d(t,{A:()=>u});var n=r(92050),o=r(79475),i=r(621425),a=r(222096);class l extends n.Babelfish{constructor(e,t=a.y.getInstance()){super(e),this.preferredLocalesCache=new Map,this.overrideLoader=t,this.overrideLoader.onOverrideAdded(this.onOverrideAdded.bind(this))}getBundlePath(e,t){if(o.A.unitTesting)if(t.match(/^force\!/))t=t.replace(/^force\!/,"");else if(t.match(/^forcereset$/))return void this.reset();else return;return t.indexOf("://")>0?t:"locales/"+this.normalizeLocale(e)+"/_combined.json"}loadIncludedBundle(e){let t=(e=>{let t=/locales\/([a-zA-Z0-9\-]+)\//.exec(e);if(!t||t.length<=0)throw Error(`Could not find locale in path ${e}`);return t[1]})(e);return new i.InstantPromise(s=>{r(928617)("./"+e.replace("locales/","").replace(t,this.normalizeLocale(t))).then(e=>s(JSON.parse(e?.default??e))).catch(()=>s(null))})}loadPath(e){return e.indexOf("://")>=0?a.y.loadFromRemotePath(e):this.loadIncludedBundle(e)}load(e){return this.loadedBundles[e]||(this.loadedBundles[e]=this.loadPath(e)),this.loadedBundles[e]}onOverrideAdded(e){this.preferredLocalesCache=new Map}loadBundles(e){"string"==typeof e&&(e=[e]);let t=[];return this.normalizeLocales(e).forEach(e=>{t.push(this.overrideLoader.getOverridePathForLocale(e).then(e=>{if(e&&e.path)return this.loadBundle(e.ultraLocale,e.path)}),super.loadBundles(e))}),i.InstantPromise.all(t)}getPreferredLocales(e){"string"==typeof e&&(e=[e]);let t=e.join("|");if(!this.preferredLocalesCache.has(t)){let r=[];this.normalizeLocales(e).forEach(e=>{r=r.concat(this.overrideLoader.getPreferredLocales(e))}),this.preferredLocalesCache.set(t,Array.from(new Set(r)))}return this.preferredLocalesCache.get(t)}getLocaleForFormatting(e){return this.overrideLoader.getBaseLocale(e)||e}}let u=class{static getInstance(){return null==s&&(s=new l({fallbackLocales:[]})),s}static getTestInstance(e){if(!o.A.unitTesting)throw Error("Use getInstance() instead");return new l({fallbackLocales:[]},e)}}},540233:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={ACTIVITY_VS_GRADE_LOAD:"activity_vs_grade.load",ACTIVITY_VS_GRADE_INVALIDATE_DATA:"activity_vs_grade.invalidate-data"}},540473:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(620555);s.A.createChange=(e=4)=>({format:{header:e}});let n=s.A},541543:(e,t,r)=>{"use strict";var s=r(56684);let n="/v1/courses/%courseId%/gradebook/columns/%columnId%/grades",o=`${n}/%gradeId%`;s.kz,s.w_,s.QR,s.pT,s.QR},542633:(e,t,r)=>{"use strict";r.d(t,{ym:()=>i.y,t3:()=>s,oH:()=>o.oH,M5:()=>o.M5,S2:()=>o.S2,w:()=>o.w,we:()=>o.we,tU:()=>n.A});var s,n=r(772772),o=r(724819);!function(e){e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NoContent=204]="NoContent",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.BadGateway=502]="BadGateway"}(s||(s={}));var i=r(896253)},542644:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>C,Lt:()=>N,o1:()=>R});var s=r(905898),n=r(645250),o=r(968554),i=r(948922),a=r(76013),l=r(764209),u=r(758247),d=r(352290),c=r(842804),E=r(895703),p=r(139552),m=r(443873),g=r(732583),y=r(583596),I=r(612918);let A=(e,t)=>{if(!t)return o.Vc;let r=e.views.byCourseId[t.courseId]||{},s=Object.keys(r).find(e=>{let s=r[e],o=n.isEqual(s.query.paging,t.paging),i=n.isEqual(s.query.filter,t.filter),a=n.isEqual(s.query.sort,t.sort);return o&&a&&i});return s?{id:s,view:r[s]}:o.Vc},h=e=>["views","byCourseId",e.courseId],_=e=>["byColumnId",e.columnId],b=(e,t)=>{var r;let s=t.getState(),{needsRefresh:n,columnId:o}=e;return n||(null==(r=s.gradebookColumn.byColumnId[o])?void 0:r.status)!==I.p_},S=(e,t)=>{var r;let s=t.getState();return(null==(r=(0,n.find)(s.gradebookColumn.byColumnId,t=>{var r;return(null==(r=t.value)?void 0:r.contentId)===e.contentId}))?void 0:r.status)!==I.p_},T=(e,t,r,s=!1)=>{let{courseId:n,id:o}=t;if(n){let t=e.views.byCourseId[n];if(!t)return;Object.values(t).forEach(e=>{var t;let n=null==(t=e.values)?void 0:t.some(e=>e===o);(s||r&&n||!r&&!n)&&(e.isValid=!1)})}};function O(e,t){let{courseId:r,id:s}=t;if(!r)return;let n=e.views.byCourseId[r];n&&Object.values(e.byColumnId).map(e=>e.value).filter(e=>!!e).find(e=>!!e.externalGrade&&e.courseId===r)&&Object.values(n).forEach(e=>{var t;(null==(t=e.values)?void 0:t.some(e=>e===s))&&(e.isValid=!1)})}function v(e,t,r,n=!1){return(0,s.Ay)(e,t=>{var s;Object.values(null!=(s=r.columns)?s:{}).forEach(r=>{var s;let i=null==(s=e.byColumnId[r.id])?void 0:s.value,a=null==i?void 0:i.ui;i?t.byColumnId[r.id].value={...(0,o.rL)(i,r),...a}:t.byColumnId[r.id]={value:r,status:I.U8},n&&i&&i.possible!==r.possible&&O(t,r)})})}function f(e,t){let{columnIds:r,courseId:s}=t,n=[];if(!r){let t=e.views.byCourseId[s]||{};t&&Object.values(t).forEach(e=>{e.values&&n.push(...e.values)})}return null!=r?r:n}let C=(0,o.vy)({byColumnId:{},permissions:{byCourseId:{}},isLoading:!1,views:{byCourseId:{}}},{[E.g.GRADEBOOK_COLUMN_LOAD]:(e,t)=>(0,s.Ay)(e,e=>{var r;if("columnId"in t){let{columnId:s}=t;null!=(r=e.byColumnId)[s]||(r[s]={status:I.p_}),e.byColumnId[s].status=I.p_}else if("contentId"in t){let{contentId:r}=t,s=(0,n.find)(e.byColumnId,e=>{var t;return(null==(t=e.value)?void 0:t.contentId)===r});s&&(s.status=I.p_)}}),[(0,o.ok)(E.g.GRADEBOOK_COLUMN_LOAD)]:(e,t)=>{let{gradebookColumn:r}=t;return(0,s.Ay)(e,e=>{r&&(e.byColumnId[r.id]={value:r,status:(0,I.Lx)(I.hu.Load,e.byColumnId[r.id],I.U8)})})},[(0,o.cw)(E.g.GRADEBOOK_COLUMN_LOAD)]:(e,t)=>(0,s.Ay)(e,e=>{var r;if("columnId"in t){let{columnId:s}=t;null!=(r=e.byColumnId)[s]||(r[s]={status:I.U8}),e.byColumnId[s].status=I.U8}else if("contentId"in t){let{contentId:r}=t,s=(0,n.find)(e.byColumnId,e=>{var t;return(null==(t=e.value)?void 0:t.contentId)===r});s&&(s.status=I.U8)}}),[(0,o.fJ)(E.g.GRADEBOOK_COLUMN_LOAD)]:(e,t)=>(0,s.Ay)(e,e=>{if("columnId"in t){let{columnId:r}=t;e.byColumnId[r]?e.byColumnId[r].status=I.XP:e.byColumnId[r]={status:I.XP}}else if("contentId"in t){let{contentId:r}=t,s=(0,n.find)(e.byColumnId,e=>{var t;return(null==(t=e.value)?void 0:t.contentId)===r});s&&(s.status=I.XP)}}),[E.g.GRADEBOOK_COLUMN_LOAD_MULTIPLE]:function(e,t){let r=f(e,t);return(0,s.Ay)(e,e=>{r.forEach(t=>{e.byColumnId[t]?e.byColumnId[t].status=I.p_:e.byColumnId[t]={status:I.p_}})})},[(0,o.ok)(E.g.GRADEBOOK_COLUMN_LOAD_MULTIPLE)]:(e,t)=>{let{gradebookColumns:r}=t;return(0,s.Ay)(e,t=>{r&&Object.keys(r).forEach(s=>{var n,o;let i=r[s];(null==(o=null==(n=e.byColumnId[s])?void 0:n.value)?void 0:o.rubricAssociations)&&!i.rubricAssociations&&(i.rubricAssociations=e.byColumnId[s].value.rubricAssociations),t.byColumnId[i.id]={value:i,status:I.U8}})})},[(0,o.fJ)(E.g.GRADEBOOK_COLUMN_LOAD_MULTIPLE)]:function(e,t){let r=f(e,t);return(0,s.Ay)(e,e=>{r.forEach(t=>{e.byColumnId[t]?e.byColumnId[t].status=I.XP:e.byColumnId[t]={status:I.XP}})})},[E.g.GRADEBOOK_COLUMN_PERSIST]:(0,I.rK)(_,I.hu.Update,I.J7),[(0,o.ok)(E.g.GRADEBOOK_COLUMN_PERSIST)]:(e,t)=>(0,s.Ay)(e,e=>{let{gradebookColumn:r}=t;r&&(T(e,r,!1),O(e,r),e.byColumnId[r.id]={value:r,status:I.U8})}),[(0,o.fJ)(E.g.GRADEBOOK_COLUMN_PERSIST)]:(0,I.rK)(_,I.hu.Update,I.XP),[E.g.GRADEBOOK_COLUMN_RUBRIC_ASSOCIATIONS_DELETE]:(0,I.rK)(_,I.hu.Update,I.J7),[(0,o.ok)(E.g.GRADEBOOK_COLUMN_RUBRIC_ASSOCIATIONS_DELETE)]:(e,t)=>{let{gradebookColumn:r}=t;return(0,s.Ay)(e,e=>{var t;let s=null==(t=e.byColumnId[r.id])?void 0:t.value;s&&(e.byColumnId[r.id]={value:{...s,rubricAssociations:r.rubricAssociations},status:I.U8})})},[(0,o.fJ)(E.g.GRADEBOOK_COLUMN_RUBRIC_ASSOCIATIONS_DELETE)]:(0,I.rK)(_,I.hu.Update,I.XP),[E.g.GRADEBOOK_COLUMN_DELETE]:(e,t)=>{let{gradebookColumn:r}=t;return(null==r?void 0:r.id)&&(e=(0,s.Ay)(e,e=>{e.byColumnId[r.id]?e.byColumnId[r.id].status=I.nn:e.byColumnId[r.id]={status:I.nn}})),e},[(0,o.ok)(E.g.GRADEBOOK_COLUMN_DELETE)]:(e,t)=>{let{gradebookColumn:r}=t;return(0,s.Ay)(e,e=>{var t;if(!(null==r?void 0:r.id))return;let s=null==(t=e.byColumnId[r.id])?void 0:t.value;s&&(T(e,s,!0),delete e.byColumnId[r.id])})},[(0,o.fJ)(E.g.GRADEBOOK_COLUMN_DELETE)]:(e,t)=>{let{gradebookColumn:r}=t;return(null==r?void 0:r.id)&&(e=(0,s.Ay)(e,e=>{e.byColumnId[r.id]?e.byColumnId[r.id].status=I.U8:e.byColumnId[r.id]={status:I.U8}})),e},[(0,o.ok)(l.g.CONTENT_LOAD)]:(e,t)=>v(e,t,t,!0),[(0,o.ok)(l.g.CONTENT_SEARCH_LOAD)]:(e,t)=>v(e,t,t.data),[(0,o.ok)(l.g.CONTENT_DELETE)]:(e,t)=>t.deletedGrades?(0,s.Ay)(e,r=>{t.results.forEach(t=>{var s;let o=null==(s=(0,n.find)(e.byColumnId,e=>{var r;return(null==(r=e.value)?void 0:r.contentId)===t}))?void 0:s.value;o&&(T(r,o,!0),delete r.byColumnId[o.id])})}):e,[(0,o.ok)(l.g.CONTENT_DELETE_IN_STORE)]:(e,t)=>(0,s.Ay)(e,r=>{var s;let{contentId:o}=t,i=null==(s=(0,n.find)(e.byColumnId,e=>{var t;return(null==(t=e.value)?void 0:t.contentId)===o}))?void 0:s.value;i&&(T(r,i,!0),delete r.byColumnId[i.id])}),[E.g.GRADEBOOK_COLUMN_INVALIDATE_DATA]:(e,t)=>(0,s.Ay)(e,r=>{var s;let{id:n}=t,o=null==(s=e.byColumnId[n])?void 0:s.value;o&&T(r,o,!1,!0)}),[(0,o.ok)(l.g.CONTENT_PERSIST)]:(e,t)=>(0,s.Ay)(e,r=>{let{columns:s,contents:n,prevContent:i}=t;Object.values(s||{}).forEach(t=>{var s;let n=null==(s=e.byColumnId[t.id])?void 0:s.value;r.byColumnId[t.id]={value:(0,o.rL)(n,t),status:I.U8},T(r,t,!1)}),Object.values(null!=n?n:{}).forEach(e=>{var t,s,n,o;let a=null!=(t=e.result)?t:e;if(a&&i&&a.contentDetail&&i.contentDetail&&a.contentHandler&&a.id===i.id&&(0,y.iW)(a)){let e=null==(s=null==a?void 0:a.contentDetail[a.contentHandler.toString()])?void 0:s.blog,t=null==(n=null==i?void 0:i.contentDetail[a.contentHandler.toString()])?void 0:n.blog;if(t&&e&&t.gradingAllowed&&!e.gradingAllowed&&t.gradeColumnId){let e=null==(o=r.byColumnId[t.gradeColumnId])?void 0:o.value;e&&(T(r,e,!0),delete r.byColumnId[e.id])}}}),Object.values(null!=n?n:{}).forEach(e=>{var t,s;let{title:n,id:o}=null!=(t=e.result)?t:e;if(!n)return;let i=null==(s=Object.values(r.byColumnId).map(e=>e.value).filter(e=>!!e).find(e=>e.contentId===o))?void 0:s.id;i&&r.byColumnId[i].value&&(r.byColumnId[i].value.columnName=n,r.byColumnId[i].value.effectiveColumnName=n,r.byColumnId[i].value.localizedColumnName&&(r.byColumnId[i].value.localizedColumnName={...r.byColumnId[i].value.localizedColumnName,languageKey:n}))})}),[E.g.GRADEBOOK_COLUMNS_LOAD]:(0,o.Dh)(A,h),[(0,o.ok)(E.g.GRADEBOOK_COLUMNS_LOAD)]:(e,t)=>{let{data:r,query:{courseId:n}}=t;if(!r)return(0,o.Zg)(e,t);let{results:i,paging:a,permissions:l}=r;return e=(0,s.Ay)(e,t=>{i.forEach(r=>{var s;let n=null==(s=e.byColumnId[r.id])?void 0:s.value;t.byColumnId[r.id]={value:(0,o.rL)(n,r),status:I.U8}}),t.permissions.byCourseId[n]={value:l,status:I.U8}}),(0,o.lY)(e,t,{viewResolver:A,viewsPathResolver:h,paging:a,values:i.map(e=>e.id)})},[(0,o.fJ)(E.g.GRADEBOOK_COLUMNS_LOAD)]:(0,o.To)(A,h),[(0,o.ok)(c.g.QUESTION_PERSIST)]:(e,t)=>{let{columnId:r}=t;return r?(0,s.Ay)(e,t=>{let s=e.byColumnId[r];t.byColumnId[r]={...s,status:I.gO}}):e},[E.g.GRADEBOOK_COLUMNS_UPDATE]:(e,t)=>{let r=(0,s.Ay)(e,e=>{let{updates:r}=t;r.forEach(t=>{let r=e.byColumnId[t.columnId];r&&(r.status=I.J7)})});return(0,o.Zg)(r,t)},[(0,o.ok)(E.g.GRADEBOOK_COLUMNS_UPDATE)]:(e,t)=>{let r=(0,s.Ay)(e,e=>{let{results:r}=t;Object.values(r.columns).forEach(t=>{if(t.isOk&&t.result)T(e,t.result,!1),O(e,t.result),e.byColumnId[t.result.id]={value:t.result,status:I.U8};else{let r=e.byColumnId[t.id];r&&(r.status=I.XP)}})});return(0,o.Zg)(r,t)},[(0,o.fJ)(E.g.GRADEBOOK_COLUMNS_UPDATE)]:(e,t)=>(0,o.Nh)(e,t),[d.g.GRANULAR_CONTENT_COPY_COMPLETE]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{!function(e,t){var r;t&&Object.values(null!=(r=e.views.byCourseId[t])?r:{}).forEach(e=>{e.isValid=!1})}(e,r)})},[(0,o.ok)(E.g.GRADEBOOK_COLUMN_UPDATE)]:(e,t)=>(0,s.Ay)(e,e=>{var r;let{gradebookColumn:s}=t;if(!s)return;let n=null==(r=e.byColumnId[s.id])?void 0:r.value;n&&(e.byColumnId[s.id]={value:{...n,...s},status:I.U8})})}),R={loadGradebookColumn:({courseId:e,columnId:t,allowedErrors:r,needsRefresh:s=!1})=>(0,o.Vy)(E.g.GRADEBOOK_COLUMN_LOAD,async()=>{try{return{gradebookColumn:await (0,i.j7)(e,t)}}catch(e){throw new o.GS(e).setData({columnId:t})}},{data:{columnId:t,needsRefresh:s},condition:b,allowedErrors:r}),loadGradebookColumns:({courseId:e,columnIds:t})=>(0,o.Vy)(E.g.GRADEBOOK_COLUMN_LOAD_MULTIPLE,async()=>{try{return(0,i.Kb)(e,t)}catch(e){throw new o.GS(e).setData({columnIds:t})}},{data:{columnIds:t}}),loadGradebookColumnsByCourseId:e=>(0,o.Vy)(E.g.GRADEBOOK_COLUMN_LOAD_MULTIPLE,async()=>{try{return(0,i.to)(e)}catch(t){throw new o.GS(t).setData({courseId:e})}},{data:{courseId:e}}),loadGradebookColumnByContentId:({courseId:e,contentId:t})=>(0,o.Vy)(E.g.GRADEBOOK_COLUMN_LOAD,async()=>{try{return{gradebookColumn:(await (0,i.u6)({courseId:e,contentId:t,expandParams:["gradebookCategory","associatedRubrics","externalGrade"]})).results[0]}}catch(e){throw new o.GS(e).setData({contentId:t})}},{data:{contentId:t},condition:S}),loadGradebookColumnsByQuery:e=>async(t,r)=>{if(((e,t)=>{let{view:r}=A(e.gradebookColumn,t);return!r||!r.isLoading&&!r.isValid})(r(),e)){t((0,o.rc)(E.g.GRADEBOOK_COLUMNS_LOAD,{query:e}));try{let r=await (0,i.Cn)(e);t((0,o.rc)((0,o.ok)(E.g.GRADEBOOK_COLUMNS_LOAD),{data:r,query:e}))}catch(r){throw t((0,o.rc)((0,o.fJ)(E.g.GRADEBOOK_COLUMNS_LOAD),{query:e})),t((0,o.rc)((0,o.ok)(u.A.APP_ERROR),{error:r})),{err:r}}}},setGradebookColumnInStore:e=>(0,o.rc)((0,o.ok)(E.g.GRADEBOOK_COLUMN_LOAD),{gradebookColumn:e}),updateGradebookColumn:(e,t,r)=>(0,o.Vy)(E.g.GRADEBOOK_COLUMN_PERSIST,async()=>{try{return{gradebookColumn:await (0,i._W)(e,t,r)}}catch(e){throw new o.GS(e).setData({columnId:t})}},{data:{columnId:t}}),persistGradebookColumn:(e,t)=>(0,o.Vy)(E.g.GRADEBOOK_COLUMN_PERSIST,async()=>{try{return{gradebookColumn:await (0,i.zZ)(e,t)}}catch(r){throw new o.GS(r).setData({columnId:t.id||(null==e?void 0:e.id)})}},{data:{columnId:t.id||(null==e?void 0:e.id)}}),postReadyGradesByColumnId:(e,t,r)=>(0,o.Vy)(E.g.GRADEBOOK_COLUMN_POST_READY_GRADES,async()=>{try{return await (0,i.UQ)(e,t,r)}catch(e){throw new o.GS(e)}}),persistGradebookColumns:(e,t)=>(0,o.RA)(async r=>{e.forEach(e=>{r((0,o.rc)(E.g.GRADEBOOK_COLUMN_PERSIST,{prevColumn:e.prevColumn,nextColumn:e.nextColumn}))});let s=await (0,i.IK)(e,t),n=e.reduce((e,t)=>{var r;return(null==(r=null==t?void 0:t.prevColumn)?void 0:r.id)&&(e[t.prevColumn.id]=t.prevColumn),e},{});return Object.keys(s.columns).forEach(e=>{let t=s.columns[e];t.isOk?r((0,o.rc)((0,o.ok)(E.g.GRADEBOOK_COLUMN_PERSIST),{gradebookColumn:t.result,previousGradebookColumn:n[e]})):(r((0,o.rc)((0,o.fJ)(E.g.GRADEBOOK_COLUMN_PERSIST),{prevColumn:t.previous,err:t.error})),r((0,o.rc)((0,o.ok)(u.A.APP_ERROR),{error:t.error})))}),s}),updateGradebookColumns:(e,t)=>(0,o.Vy)(E.g.GRADEBOOK_COLUMNS_UPDATE,async()=>{try{let r=await (0,i.rU)(e);return{courseId:t,results:r}}catch(t){throw new o.GS(t).setData({updates:e})}},{data:{updates:e}}),removeRubricAssociations:e=>(0,o.VP)(E.g.GRADEBOOK_COLUMN_RUBRIC_ASSOCIATIONS_DELETE,async t=>{let r=N.getGradebookColumnById(t(),e);return(null==r?void 0:r.courseId)&&(r=await (0,i.iC)(r.courseId,r.id)),{gradebookColumn:r}}),removeGradebookColumnFromStore:e=>(0,o.rc)((0,o.ok)(E.g.GRADEBOOK_COLUMN_DELETE),{gradebookColumn:{id:e}}),addGradebookColumnToStore:e=>(0,o.RA)((t,r)=>{t((0,o.rc)((0,o.ok)(E.g.GRADEBOOK_COLUMN_PERSIST),{gradebookColumn:e,previousGradebookColumn:r().gradebookColumn.byColumnId[e.id]}))}),createGradebookColumn:(e,t)=>(0,o.Vy)(E.g.GRADEBOOK_COLUMN_PERSIST,async()=>({gradebookColumn:await (0,i.xx)({courseId:e},t)})),removeColumn:e=>(0,o.VP)(E.g.GRADEBOOK_COLUMN_DELETE,async t=>{let r=N.getGradebookColumnById(t(),e);return(null==r?void 0:r.courseId)&&await (0,i.$S)(r.courseId,r.id),{gradebookColumn:r}}),invalidateGradebookColumn:e=>(0,o.rc)(E.g.GRADEBOOK_COLUMN_INVALIDATE_DATA,e),updateGradebookColumnInStore:e=>(0,o.rc)((0,o.ok)(E.g.GRADEBOOK_COLUMN_UPDATE),{gradebookColumn:e})},D=(0,p.Ad)(m.UI,g.oJ),L=(0,p.Ad)(m.UI,g.Y_),N={getGradebookColumnById:(e,t)=>{var r;return null==(r=(0,n.find)(e.gradebookColumn.byColumnId,e=>{var r;return(null==(r=e.value)?void 0:r.id)===t}))?void 0:r.value},getGradebookColumnByIdWithStatus:(e,t)=>e.gradebookColumn.byColumnId[t],getGradebookColumnsByIds:(e,t)=>{let r={};return t.forEach(t=>{var s;let n=null==(s=e.gradebookColumn.byColumnId[t])?void 0:s.value;n&&(r[t]=n)}),r},getGradebookColumnByContentId:(e,t)=>{var r,s;let o=a.Lt.getAssessmentByContentId(e,t);return o?null==(r=e.gradebookColumn.byColumnId[o.gradableItemId])?void 0:r.value:null==(s=(0,n.find)(e.gradebookColumn.byColumnId,e=>{var r;return(null==(r=e.value)?void 0:r.contentId)===t}))?void 0:s.value},getGradebookColumnsByCourseId:(0,p.Mz)([e=>{var t;return Object.values(null!=(t=e.gradebookColumn.byColumnId)?t:{}).map(e=>e.value).filter(e=>!!e)},(e,t)=>t],(e,t)=>(0,n.filter)(e,{courseId:t})),getGradebookColumnsByQuery:D((e,t)=>{let{view:r}=A(e.gradebookColumn,t);return r&&r.isValid?(r.values||[]).map(t=>{var r;return null==(r=e.gradebookColumn.byColumnId[t])?void 0:r.value}):[]},e=>e),getGradebookColumnViewStatusByQuery:L((e,t)=>A(e.gradebookColumn,t),({view:e})=>{var t;return e?{isLoading:e.isLoading,isValid:e.isValid,paging:null!=(t=e.paging)?t:null}:null})}},544557:(e,t,r)=>{"use strict";r(56684).w_,r(542633)},545653:(e,t,r)=>{r.p=window.publicPath||r.p},546381:(e,t,r)=>{"use strict";r.d(t,{a:()=>o});var s=r(929609);let n="bb-auto-resize",o={className:n,html:()=>`
<script class="${s.Wu} ${n}" type="text/javascript">
  document.documentElement.style.height = 0;
  var resizeFunc = () => {
    var height = document.documentElement.scrollHeight;
    var source = new URL(document.referrer).origin;
    var w = window;
    while (w !== top) {
      w = w.parent;
      w.postMessage({ type: '${n}', height }, source);
    }
  }
  window.addEventListener('load', resizeFunc);
  window.addEventListener('resize', resizeFunc);
</script>
`,listener:e=>{let t=t=>{var r;if((null==(r=t.data)?void 0:r.type)===n&&e.contentWindow===t.source){let{height:r}=t.data;Number.isNaN(r)||(e.height=String(r))}};return window.addEventListener("message",t,!1),()=>window.removeEventListener("message",t)}}},547262:(e,t,r)=>{"use strict";r.d(t,{yo:()=>a});var s=r(645250),n=r(608719),o=r(847948);class i extends o.Z{constructor(e){super(e,"QuestionAnalysisNoSubmittedAttemptsError")}}function a(e){return e.error.status===n.t3V.BadRequest&&(s.includes(e.error.message,"Item Analysis can only be run once there are submitted attempts")||s.includes(e.error.message,"There are no questions"))?new i(e.error):e}},549730:(e,t,r)=>{"use strict";r.d(t,{D:()=>h});var s,n=r(951777),o=r(309546),i=r(514041),a=r(865004),l=r(428360),u=r(877973);let d=(0,u.n9)(e=>({empty:{textAlign:"center",borderLeft:`1px solid ${e.palette.border.main}`,borderRight:`1px solid ${e.palette.border.main}`,borderBottom:`1px solid ${e.palette.border.main}`,padding:"20px"},emptyRootLevel:{border:0}})),c=({analyticsId:e,localizedMessage:t,level:r,colSpan:s,emptyIllustration:a})=>{let u=d(),c=0===r;return i.createElement(n.tX,{analyticsId:`${e}.empty.row`},i.createElement(n.p8,{analyticsId:`${e}.empty.row.cell`,colSpan:s,className:(0,o.A)({[u.empty]:!0,[u.emptyRootLevel]:c})},c&&a?i.createElement(l.V,{illustration:a,prominentText:t}):t))},E=(0,u.n9)(e=>({loading:{padding:"20px"},loadingSpinner:{display:"flex",justifyContent:"center"},loadingBorder:{border:`1px solid ${e.palette.border.main}`,borderTop:0}}));var p=r(915459),m=r(846108);!function(e){e.Margin="margin",e.Padding="padding"}(s||(s={}));let g=(0,u.n9)(e=>({cell:{borderBottom:0,padding:0,height:"inherit"},cellIndented:t=>{let{level:r,prependedExpandIcon:n}=t,o=32*r,i=n?s.Margin:s.Padding;return{[`${i}InlineStart`]:`${o}px`,paddingInlineEnd:o,[e.breakpoints.down("md")]:{[`${i}InlineStart`]:`${r*(n?32:16)}px`,paddingInlineEnd:16*r}}},applyBorderToElement:{borderBottom:`1px solid ${e.palette.border.main}`},cellColumnContentExpandContainer:{position:"relative",display:"flex",alignItems:"center",height:"100%",width:"100%",marginTop:5,marginBottom:5},columnContentContainer:{display:"flex",justifyContent:"center",alignItems:"flex-start",height:"100%"},expandContainer:{display:"flex",justifyContent:"flex-end",height:"100%",padding:"0px"},collapseIcon:{alignItems:"center",padding:0},iconContainer:{[e.breakpoints.up("sm")]:{display:"flex",padding:"10px 8px",alignSelf:"center",height:"50%"}},iconContainerBorder:{[e.breakpoints.up("sm")]:{borderLeft:`1px solid ${e.palette.border.main}`,borderColor:e.palette.border.main}},noBottomBorder:{"& $cellColumnContentExpandContainer":{borderBottom:"none"}},collapseDisabled:{"& svg":{color:e.palette.action.disabled}},disabledOnEdition:{backgroundColor:e.palette.action.disabledBackground,"&:hover":{backgroundColor:e.palette.action.disabledBackground}}})),y=({analyticsId:e,column:t,level:r,colIndex:s,data:a,showExpander:l,isExpanded:u,isLastItemOnLevel:d,additionalRowAction:c,rowKey:E,rowKeyBeingEdited:y,nonEditableFieldsConfig:I,prependedExpandIcon:A})=>{var h,_;let b=g({level:r,prependedExpandIcon:A}),S=r>0,T=(null==y?void 0:y())===E,O=(null==y?void 0:y())!==null,v=i.createElement("div",{className:(0,o.A)(b.expandContainer,{[b.applyBorderToElement]:!d&&!A})},E&&c&&c(E,-1),l?i.createElement("div",{className:(0,o.A)({[b.iconContainerBorder]:!T&&!A},b.iconContainer),"data-testid":"icon-container"},i.createElement(p.dL,{open:u,className:(0,o.A)(b.collapseIcon,{[b.collapseDisabled]:O}),orientation:A?p.c1.Right:p.c1.Down})):null);return i.createElement(n.p8,{role:"gridcell",analyticsId:`${e}.tableRowCell.${t.key}`,className:(0,o.A)({[b.noBottomBorder]:T&&!!I&&I.editableStartingColumn>0&&(I.nonEditableColumnsPosition===m.I.BEGINNING?s<=I.editableStartingColumn:s>=I.editableStartingColumn),[b.disabledOnEdition]:!T&&O},b.cell,!T&&(null==(h=t.additionalClasses)?void 0:h.rows),T&&(null==(_=t.additionalClasses)?void 0:_.editableRow)),tabIndex:-1},i.createElement("div",{className:b.cellColumnContentExpandContainer},i.createElement("div",{className:(0,o.A)(b.cellColumnContentExpandContainer,{[b.applyBorderToElement]:!(S&&1===s&&!A)&&!d,[b.cellIndented]:t.indentation})},A&&v,i.createElement(t.content,{analyticsId:`${e}.tableRowCell.${t.key}`,tabIndex:-1,data:a,isExpanded:u,rowKey:E})),!A&&v))},I=(0,u.n9)(e=>({collapseIconCell:{width:"24px"},rowExpandable:{cursor:"pointer","&:hover":{backgroundColor:e.palette.background.b3}},rowIsChild:{"& td":{backgroundColor:e.palette.background.paper}},rowIsLastOnLevel:{"& td":{borderBottom:`1px solid ${e.palette.border.main}`}}})),A=(0,i.memo)(({analyticsId:e,getLocalizedEmptyKey:t,colSpan:r,row:s,getRowKey:a,loadRows:l,canRowExpand:u,indexOnLevel:d,lastItemOnLevel:c,level:E,numberOfItemsOnLevel:p,treeViewTableColumns:m,prependExpandIcon:g})=>{var A,_;let b,S=I(),[T,O]=i.useState(!1),v=u(s),f=i.useCallback(e=>{O(e=>!e),e.stopPropagation()},[O]),C=(null==(A=s.rowKeyBeingEdited)?void 0:A.call(s))!==null;return v&&(b=`${T}`),i.createElement(i.Fragment,null,i.createElement(n.tX,{analyticsId:`${e}.tableRow`,"aria-level":E+1,"aria-expanded":b,"aria-posinset":d+1,"aria-setsize":p,role:"row",tabIndex:0===E&&0===d?0:-1,className:(0,o.A)({[S.rowExpandable]:!C&&v,[S.rowIsChild]:!C&&E>0,[S.rowIsLastOnLevel]:!T&&c}),onClick:v&&!C?f:void 0},m.getColumnsData(m.defaultHeaders).map((t,r)=>{let n=r===m.defaultHeaders.length-1,o=(g?0===r:n)&&v;return i.createElement(y,{key:t.key,column:t,colIndex:r+1,data:s,level:E,analyticsId:`${e}.tableRow.cell`,showExpander:o,isExpanded:T,isLastItemOnLevel:!T&&c,additionalRowAction:n?s.rowAction:void 0,rowKey:a(s),rowKeyBeingEdited:s.rowKeyBeingEdited,nonEditableFieldsConfig:s.nonEditableFieldsConfig,prependedExpandIcon:g})})),null==(_=s.rowToolbar)?void 0:_.call(s,a(s)),T&&i.createElement(h,{getLocalizedEmptyKey:t,record:s,colSpan:r,getRowKey:a,loadRows:l,canRowExpand:u,level:E+1,lastItemOnLevel:c,treeViewTableColumns:m,analyticsId:`${e}.tableRowContainer`,prependExpandIcon:g}))}),h=(0,i.memo)(({analyticsId:e,getLocalizedEmptyKey:t,emptyRowIllustration:r,colSpan:s,record:l,getRowKey:u,loadRows:d,canRowExpand:p,lastItemOnLevel:m,level:g,treeViewTableColumns:y,prependExpandIcon:I})=>{let h=E(),_=(0,a.W)(),{rows:b,isLoading:S}=d(l);return i.createElement(i.Fragment,null,!S&&0===b.length&&i.createElement(c,{localizedMessage:t(l),emptyIllustration:r,colSpan:s,level:g,analyticsId:`${e}.tableRow.empty`}),S?i.createElement(n.tX,{analyticsId:`${e}.tableRow`},i.createElement(n.p8,{analyticsId:`${e}.tableRow.cell.loadingIcon`,colSpan:s,className:(0,o.A)(h.loading,g>0?h.loadingBorder:void 0)},i.createElement("div",{className:(0,o.A)(h.loadingSpinner,"js-treeview-loading-spinner")},i.createElement(n.zF,{ariaLabel:_("global.loading"),size:"medium"})))):b.map((r,n)=>{let o=(m||1===g)&&n===b.length-1;return i.createElement(A,{key:`tree-view-table-row-${u(r)}`,row:r,getLocalizedEmptyKey:t,colSpan:s,getRowKey:u,loadRows:d,canRowExpand:p,indexOnLevel:n,lastItemOnLevel:o,level:g,numberOfItemsOnLevel:b.length,treeViewTableColumns:y,analyticsId:`${e}.tableRow`,prependExpandIcon:I})}))})},557574:(e,t,r)=>{"use strict";r.d(t,{o1:()=>E,Ff:()=>c,Lt:()=>p});var s=r(608719),n=r(825271);let o={COURSE_TOOL:"course-tool",COURSE_TOOL_SET_VISIBILITY:"course-tool-set-visibility"};var i=r(968554),a=r(905898),l=r(612918);let u=(e,t)=>{var r;let{courseId:s,toolId:n}=e.payload,o=null==(r=t.getState().courseTools.byCourseId[s])?void 0:r[n];return(0,l.gE)(null==o?void 0:o.status)},d=e=>{let{courseId:t,toolId:r}=e.payload;return["byCourseId",t,r]},c=(0,i.vy)({byCourseId:{}},{[o.COURSE_TOOL]:(0,l.rK)(d,l.hu.Load,l.p_),[(0,i.ok)(o.COURSE_TOOL)]:(e,t)=>{let{courseId:r,toolId:s,courseTool:n}=t;return(0,a.Ay)(e,e=>{e.byCourseId[r]||(e.byCourseId[r]={}),e.byCourseId[r][s]={value:n,status:l.U8}})},[(0,i.cw)(o.COURSE_TOOL)]:(0,l.rK)(d,l.hu.Load,l.U8),[(0,i.fJ)(o.COURSE_TOOL)]:(0,l.rK)(d,l.hu.Load,l.XP),[o.COURSE_TOOL_SET_VISIBILITY]:(0,l.rK)(d,l.hu.Update,l.J7),[(0,i.ok)(o.COURSE_TOOL_SET_VISIBILITY)]:(e,t)=>{let{courseId:r,toolId:s,courseTool:n}=t;return(0,a.Ay)(e,e=>{e.byCourseId[r]||(e.byCourseId[r]={}),e.byCourseId[r][s]={value:n,status:l.U8}})},[(0,i.fJ)(o.COURSE_TOOL_SET_VISIBILITY)]:(0,l.rK)(d,l.hu.Update,l.XP)}),E={loadCourseToolConfiguration:(e,t)=>(0,i.Vy)(o.COURSE_TOOL,async()=>{var r;return{courseTool:await (r={courseId:e,toolId:t},(0,s.kpH)(r,n.dZ)),courseId:e,toolId:t}},{data:{payload:{courseId:e,toolId:t}},condition:u,allowedErrors:[s.t3V.Forbidden]}),setCourseToolConfiguration:(e,t,r)=>(0,i.Vy)(o.COURSE_TOOL_SET_VISIBILITY,async()=>{var o;return{courseTool:await (o={courseId:e,toolId:t},(0,s.bEL)(o,n.dZ,r)),courseId:e,toolId:t}},{data:{payload:{courseId:e,toolId:t,courseToolDraft:r}}})},p={getCourseTool:(e,t,r)=>{var s;let n=null==(s=e.courseTools.byCourseId[t])?void 0:s[r];return null==n?void 0:n.value}}},557768:(e,t,r)=>{"use strict";r.d(t,{K:()=>n,r:()=>o});var s=r(56684);class n extends s.mj{constructor(e){super("/v1/learningOutcome/scale/type/%entityType%/entity/%entityId%/node/%nodeId%",e)}}class o extends s.QR{constructor(e){super("/v1/learningOutcome/scale/type/%entityType%/entity/%entityId%/node/%nodeId%",e)}}},559667:(e,t,r)=>{"use strict";r.d(t,{m:()=>o});var s=r(608719),n=r(825271);let o=(0,r(853400).Y)(s.cfv,n.dZ)},560449:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});let s={CONTENT_COLLECTION:"content-collection",CONTENT_COLLECTION_SETTINGS:"content-collection-settings",CONTENT_COLLECTION_PICKER:"content-collection-picker"}},565102:(e,t,r)=>{"use strict";r.d(t,{T9:()=>i,qD:()=>o,td:()=>a});var s,n=r(56684);!function(e){e.Landscape="landscape",e.Portrait="portrait",e.Squarish="squarish"}(s||(s={}));class o extends n.mj{constructor(e){super("/v1/courses/%courseId%/unsplash/search",e)}withBaseQueryParams(e){return this.withQueryParams(e),this}setResizeQueryParam(e,t,r){e[t]=r}withResizeOptions(e){let t,r={};for(t in e)e.hasOwnProperty.call(e,t)&&this.setResizeQueryParam(r,`size-${t}`,e[t]);return this.withQueryParams(r),this}}class i extends n.kz{constructor(e){super("/v1/courses/%courseId%/unsplash/downloadNotify",e)}}class a extends n.mj{constructor(e){super("/v1/courses/%courseId%/unsplash/settings",e)}}},565223:(e,t,r)=>{"use strict";r.d(t,{R:()=>o,g:()=>n});var s=r(514041);function n(e){let t=(0,s.useRef)(e),r=(0,s.useCallback)(e=>{t.current=e},[]);return[t,r]}function o(...e){return(0,s.useCallback)(t=>{for(let r of e)r(t)},e)}},565881:(e,t,r)=>{"use strict";r(56684).mj},566416:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={COURSE_MEMBERSHIPS_LOAD:"course.memberships.load",USER_MEMBERSHIPS_LOAD:"user.memberships.load",COURSE_MEMBERSHIP_SET:"course.membership.set",COURSE_MEMBERSHIP_LOAD:"course.membership.load",COURSE_MEMBERSHIP_USERS_LOAD:"course.membership.users.load",GROUP_MEMBERSHIPS_INVALIDATE:"group.memberships.invalidate",COURSE_MEMBERSHIP_INVALIDATE:"course.membership.invalidate"}},567111:(e,t,r)=>{"use strict";r.d(t,{_:()=>n,c:()=>o});var s=r(514041);function n(e){let t=(0,s.useRef)(e);return(0,s.useLayoutEffect)(()=>{t.current=e}),(0,s.useCallback)((...e)=>t.current(...e),[])}function o(e){let t=n((...t)=>null==e?void 0:e(...t));return e?t:void 0}},567776:(e,t,r)=>{"use strict";r.d(t,{su:()=>u,xE:()=>l});var s=r(514041),n=r(97123),o=r(608506),i=r(251079);let a=s.createContext({index:0,cell:{active:!1,captured:!1,index:0}}),l=({defaultActive:e,index:t,children:r})=>{let{getCell:i}=(0,s.useContext)(n.yE),{index:l}=(0,s.useContext)(o.mk),u=(0,s.useRef)(e),d=(0,s.useMemo)(()=>({index:t,cell:i(l,t,{defaultActive:u.current})}),[t,i,l]);return s.createElement(a.Provider,{value:d},r)};function u(){let{activate:e,capture:t,grid:r}=(0,s.useContext)(n.yE),{row:l}=(0,s.useContext)(o.mk),{cell:u}=(0,s.useContext)(a),d=(0,i._q)((r=!1)=>{e(l.index,u.index),r&&t(!0)}),c=(0,i._q)(()=>{u.active&&t(!0)}),E=(0,i._q)(()=>{u.active&&t(!1)});return(0,s.useMemo)(()=>({activate:d,capture:c,cell:u,grid:r,row:l,uncapture:E}),[d,c,u,r,l,E])}},567808:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={GRADEBOOK_SETTINGS_LOAD:"gradebook-settings-load",GRADEBOOK_SETTINGS_UPDATE:"gradebook-settings-update"}},567860:(e,t,r)=>{"use strict";r.d(t,{i:()=>n});var s=r(56684);s.V0;class n extends s.mj{constructor(e){super("v1/courses/%courseId%/spreview",e)}}},567993:(e,t,r)=>{"use strict";var s;!function(e){e.Success="SUCCESS",e.Incomplete="INCOMPLETE",e.Error="ERROR"}(s||(s={}))},568211:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>l,Lt:()=>d,o1:()=>u});var s=r(968554),n=r(905898),o=r(846576);let i=r(608719).shv.Available,a={LOAD_DIRECT_SUBMIT_PLUGIN_STATUS:"load.direct.submit.plugin.status"},l=(0,s.vy)({status:!1},{[(0,s.ok)(a.LOAD_DIRECT_SUBMIT_PLUGIN_STATUS)]:(e,t)=>(0,n.Ay)(e,e=>{let{status:r}=t;e.status=!!r})}),u={loadSafeAssignPluginStatus:()=>(0,s.VP)(a.LOAD_DIRECT_SUBMIT_PLUGIN_STATUS,async()=>{try{let e=await (0,o.bc)();return{status:e.registered&&e.pluginStatus===i}}catch(e){throw{status:!1}}},{})},d={loadSafeAssignPluginStatusGlobal:e=>e.directSubmitPluginStatus.status}},570785:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var s=r(514041),n=r(951777),o=r(225927),i=r(762247);let a=({mediaConfig:e,videoId:t})=>{let{locale:r,translate:a}=(0,o.b)();return e?s.createElement(s.Suspense,{fallback:s.createElement(n.zF,{size:"large",ariaLabel:a("bbmlEditor.videoStudio.content.loading")})},s.createElement(i.I$,{config:e,language:r,videoId:t,showMetadata:!0})):s.createElement(n.zF,{size:"large",ariaLabel:a("bbmlEditor.videoStudio.content.loading")})}},571568:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>k,Lt:()=>B,o1:()=>M});var s=r(905898),n=r(645250),o=r(968554),i=r(300474),a=r(758247),l=r(43375),u=r(909892),d=r(435624),c=r(274643),E=r(631372),p=r(836714),m=r(956284),g=r(26070),y=r(764209),I=r(584059),A=r(139552),h=r(612918);let _={groups:{byId:{},byGroupSetId:{},byCourseId:{},views:{byCourseId:{},byContentId:{},byGroupSetId:{}},loadingStatus:I.Z.HasNotStarted},groupMemberships:{},isLoading:!1},b=(0,o.vy)(_,{[y.g.CONTENT_LOAD]:o.r1,[(0,o.ok)(y.g.CONTENT_LOAD)]:(e,t)=>{if(n.has(t,"groups")){let r=(0,s.Ay)(e,e=>{let{groups:r}=t;Object.keys(r).forEach(t=>{var s;let n=null!=(s=e.groups.byId[t])?s:{};e.groups.byId[t]={...n,...r[t],api:{isUpdating:!1,isDeleting:!1}}})});return(0,o.Zg)(r,t)}return(0,o.Zg)(e,t)},[(0,o.fJ)(y.g.CONTENT_LOAD)]:o.Nh,[l.A.GROUPS_LOAD_BY_CONTENT_ID]:o.r1,[(0,o.ok)(l.A.GROUPS_LOAD_BY_CONTENT_ID)]:(e,t)=>{let r=(0,s.Ay)(e,e=>{let{contentId:r,groups:s}=t;Object.keys(s).forEach(t=>{e.groups.byId[t]={...s[t],contentId:r}})});return(0,o.Zg)(r,t)},[(0,o.fJ)(l.A.GROUPS_LOAD_BY_CONTENT_ID)]:o.Nh,[l.A.GROUP_DELETE_BATCH]:(e,t)=>(0,s.Ay)(e,e=>{let{deletedGroups:r}=t;r.forEach(t=>{e.groups.byId[t.id]||(e.groups.byId[t.id]={}),e.groups.byId[t.id].api||(e.groups.byId[t.id].api={}),e.groups.byId[t.id].api.isDeleting=!0})}),[(0,o.ok)(l.A.GROUP_DELETE_BATCH)]:(e,t)=>{let{deletedGroups:r,groupSetId:n}=t;return(0,s.Ay)(e,e=>{var s,o;r.forEach(t=>{delete e.groups.byId[t.id]}),r.length&&L(e.groups);let i=null!=n?n:null==(s=null==r?void 0:r[0])?void 0:s.groupSetId;if(!i)return;let a=null!=(o=e.groups.byGroupSetId[i])?o:[],l=new Set(t.deletedGroups.map(e=>e.id)),u=a.filter(e=>!l.has(e));e.groups.byGroupSetId[n]=u})},[(0,o.fJ)(l.A.GROUP_DELETE_BATCH)]:(e,t)=>(0,s.Ay)(e,e=>{let{deletedGroups:r}=t;r.forEach(t=>{e.groups.byId[t.id].api.isDeleting=!1})}),[(0,o.ok)(l.A.GROUP_LOAD_BY_ID)]:(e,t)=>{let{group:r,groupId:n}=t;return(0,s.Ay)(e,t=>{let s=e.groups.byId[n];t.groups.byId[n]={...(0,o.rL)(s,r)}})}}),S=(e,t)=>Object.keys(e).find(r=>{let s=e[r],o=n.isEqual(s.query.paging,t.paging),i=!("filter"in s.query)||!("filter"in t)||n.isEqual(s.query.filter,t.filter);return o&&i}),T=(e,t)=>{var r;let{byCourseId:s}=e,n=null==(r=s[t.courseId])?void 0:r.byMembershipId[t.membershipId];return n&&n.byContentId?n.byContentId:{}},O=(e,t)=>{if(!t)return{id:null,view:null};let r=e.views.byCourseId[t.courseId]||{},s=S(r,t);return s?{id:s,view:r[s]}:o.Vc},v=(e,t)=>{if(!t)return{id:null,view:null};let r=e.views.byContentId[t.contentId]||{},s=S(r,t);return s?{id:s,view:s?r[s]:null}:{id:null,view:null}},f=(e,t)=>{if(!t)return{id:null,view:null};let r=e.views.byGroupSetId[t.groupSetId]||{},s=S(r,t);return s?{id:s,view:s?r[s]:null}:{id:null,view:null}},C=e=>["views","byCourseId",e.courseId],R=e=>["views","byContentId",e.contentId],D=e=>["views","byGroupSetId",e.groupSetId],L=e=>{Object.keys(e.views.byCourseId).forEach(t=>{let r=e.views.byCourseId[t];r&&Object.keys(r).forEach(e=>{r[e].isValid=!1})}),Object.keys(e.views.byGroupSetId).forEach(t=>{let r=e.views.byGroupSetId[t];r&&Object.keys(r).forEach(e=>{r[e].isValid=!1})})},N=(e,t,r=!0)=>(0,s.Ay)(e,e=>{let s=!1;Object.keys(t).forEach(n=>{var o,i,a;r||e.byId[n]&&e.byId[n].title===t[n].title&&e.byId[n].studentCount===t[n].studentCount&&e.byId[n].isAvailable===t[n].isAvailable||(s=!0);let l=(null==(o=t[n])?void 0:o.assignedContents)?t[n].assignedContents:null==(i=e.byId[n])?void 0:i.assignedContents;e.byId[n]={...e.byId[n],...t[n],...l,ui:{...null==(a=e.byId[n])?void 0:a.ui}},delete e.byId[n].groupSet}),s&&L(e)}),U=(0,o.vy)(_.groups,{[l.A.GROUPS_LOAD]:(e,t)=>(0,o.r1)(e,t,{loadingStatus:I.Z.Loading}),[(0,o.ok)(l.A.GROUPS_LOAD)]:(e,t)=>(0,s.Ay)(e,e=>{let{groups:r}=t;Object.keys(r).forEach(t=>{let s=r[t];if(e.byId[t]={...s,api:{isUpdating:!1,isDeleting:!1}},!s.groupSetId)return;let n=new Set(e.byGroupSetId[s.groupSetId]).add(s.id);e.byGroupSetId[s.groupSetId]=Array.from(n)}),e.loadingStatus=I.Z.Loaded}),[(0,o.fJ)(l.A.GROUPS_LOAD)]:e=>(0,s.Ay)(e,e=>{e.loadingStatus=I.Z.Error}),[l.A.GROUPS_LOAD_BY_QUERY]:(0,o.Dh)(O,C),[(0,o.fJ)(l.A.GROUPS_LOAD_BY_QUERY)]:(0,o.To)(O,C),[(0,o.ok)(l.A.GROUPS_LOAD_BY_QUERY)]:(e,t)=>{let{data:r}=t;if(!r)return(0,o.Zg)(e,t);let{groupIds:s,paging:n,groups:i}=r;return e=N(e,i),(0,o.lY)(e,t,{viewResolver:O,viewsPathResolver:C,paging:n,values:s})},[l.A.GROUPS_LOAD_BY_CONTENT_ID_AND_QUERY]:(0,o.Dh)(v,R),[(0,o.fJ)(l.A.GROUPS_LOAD_BY_CONTENT_ID_AND_QUERY)]:(0,o.To)(v,R),[(0,o.ok)(l.A.GROUPS_LOAD_BY_CONTENT_ID_AND_QUERY)]:(e,t)=>{let{data:r}=t;if(!r)return(0,o.Zg)(e,t);let{groupIds:s,paging:n,groups:i}=r,a={};return Object.values(i).forEach(e=>{if(e.memberships){let t=e.memberships.map(e=>{let{user:t,...r}=e;return r}),r={...e,memberships:t};e.id&&(a[e.id]=r)}else e.id&&(a[e.id]=e)}),e=N(e,a),(0,o.lY)(e,t,{viewResolver:v,viewsPathResolver:R,paging:n,values:s})},[l.A.GROUPS_LOAD_BY_GROUP_SET_ID_AND_QUERY]:(0,o.Dh)(f,D),[(0,o.fJ)(l.A.GROUPS_LOAD_BY_GROUP_SET_ID_AND_QUERY)]:(0,o.To)(f,D),[(0,o.ok)(l.A.GROUPS_LOAD_BY_GROUP_SET_ID_AND_QUERY)]:(e,t)=>{let{data:r}=t;if(!r)return(0,o.Zg)(e,t);let{groupIds:s,paging:n,groups:i}=r;return e=N(e,i),(0,o.lY)(e,t,{viewResolver:f,viewsPathResolver:D,paging:n,values:s})},[l.A.GROUPS_LOAD_BY_CONTENT_IDS_AND_MEMBERSHIP]:(e,t)=>{let{contentIds:r,membershipId:n,courseId:o}=t.query;return(0,s.Ay)(e,e=>{var t,s,i,a;let l=null!=(s=null==(t=e.byCourseId[o])?void 0:t.byMembershipId)?s:{};e.byCourseId[o]={byMembershipId:l};let u=null!=(a=null==(i=l[n])?void 0:i.byContentId)?a:{};l[n]={byContentId:u},r.forEach(e=>{u[e]={status:h.vq}})})},[(0,o.fJ)(l.A.GROUPS_LOAD_BY_CONTENT_IDS_AND_MEMBERSHIP)]:(e,t)=>{let{contentIds:r,membershipId:n,courseId:o}=t.query;return(0,s.Ay)(e,e=>{var t,s,i,a;let l=null!=(s=null==(t=e.byCourseId[o])?void 0:t.byMembershipId)?s:{};e.byCourseId[o]={byMembershipId:l};let u=null!=(a=null==(i=l[n])?void 0:i.byContentId)?a:{};l[n]={byContentId:u},r.forEach(e=>{u[e]={status:h.JL}})})},[(0,o.ok)(l.A.GROUPS_LOAD_BY_CONTENT_IDS_AND_MEMBERSHIP)]:(e,t)=>{let{contentIds:r,membershipId:n,courseId:i}=t.query,{data:a}=t;if(!a)return(0,o.Zg)(e,t);let{groups:l,contentIdToGroupIdMap:u,failedContentIds:d}=a;return 0===r.length?e:(e=N(e,l),(0,s.Ay)(e,e=>{var t,s,o,a;let l=null!=(s=null==(t=e.byCourseId[i])?void 0:t.byMembershipId)?s:{};e.byCourseId[i]={byMembershipId:l};let c=null!=(a=null==(o=l[n])?void 0:o.byContentId)?a:{};l[n]={byContentId:c},r.forEach(e=>{c[e]={value:u[e],status:h.y_}}),d.forEach(e=>{c[e]={status:h.JL}})}))},[(0,o.ok)(c.g.GROUP_SET_REMOVE)]:(e,t)=>(0,s.Ay)(e,r=>{let{groupSetId:s}=t;Object.keys(e.byId).forEach(t=>{e.byId[t].groupSetId===s&&delete r.byId[t]}),L(r)}),[(0,o.ok)(c.g.GROUP_SET_MODIFY)]:(e,t)=>(0,s.Ay)(e,r=>{let{groupSet:s}=t,n=e.byGroupSetId[s.id];null==n||n.forEach(e=>r.byId[e].isAvailable=s.isAvailable)}),[(0,o.ok)(l.A.GROUPS_ADD)]:(e,t)=>{let{addedGroupsById:r,groupSetId:n}=t,o=N(e,r,!1);return n&&t.addedCourseGroupIds&&(o=(0,s.Ay)(o,r=>{var s;let o=null!=(s=e.byGroupSetId[n])?s:[],i=new Set([...t.addedCourseGroupIds,...o]);r.byGroupSetId[n]=Array.from(i)})),o},[(0,o.ok)(l.A.GROUPS_UPDATE)]:(e,t)=>{let{updatedGroupsById:r}=t;return N(e,r,!1)},[(0,o.fJ)(l.A.GROUPS_UPDATE)]:o.Nh,[(0,o.ok)(l.A.GROUP_STUDENT_COUNT_LOAD)]:(e,t)=>(0,s.Ay)(e,r=>{let{groups:s}=t;Object.keys(s).forEach(t=>{r.byId[t]={...e.byId[t],...s[t]}})}),[(0,o.ok)(l.A.ADD_GROUP_MEMBERSHIP)]:(e,t)=>(0,s.Ay)(e,r=>{let{groupId:s,userId:o}=t,i=e.byId[s];!i||!i.memberships||n.findIndex(i.memberships,["userId",o])>=0||(r.byId[s]={...i,memberships:[...i.memberships,{groupId:s,userId:o}],studentCount:i.studentCount+1})}),[(0,o.ok)(l.A.REMOVE_GROUP_MEMBERSHIP)]:(e,t)=>(0,s.Ay)(e,r=>{let{userId:s,enrolledGroupId:o}=t,i=e.byId[o];if(!i||!i.memberships||-1===n.findIndex(i.memberships,["userId",s]))return;let a=i.memberships.filter(e=>e.userId!==s);r.byId[i.id]={...i,memberships:a,studentCount:i.studentCount-1}})}),P=(0,o.vy)(_.groupMemberships,{[(0,o.ok)(l.A.GROUP_MEMBERSHIPS_LOAD)]:(e,t)=>(0,s.Ay)(e,e=>{let{memberships:r}=t;Object.keys(r).forEach(t=>{e[t]={...r[t]}})}),[(0,o.ok)(l.A.ADD_GROUP_MEMBERSHIP)]:(e,t)=>(0,s.Ay)(e,r=>{let{groupId:s,userId:o}=t,i=Array.from(e[s]||[]);n.findIndex(i,["userId",o])>=0||(r[s]=[...i,{groupId:s,userId:o}])}),[(0,o.ok)(l.A.REMOVE_GROUP_MEMBERSHIP)]:(e,t)=>(0,s.Ay)(e,r=>{let{userId:s,enrolledGroupId:o}=t,i=e[o];i&&-1!==n.findIndex(i,["userId",s])&&(r[o]=i.filter(e=>e.userId!==s))})}),w=(0,o.HY)({groups:U,groupMemberships:P}),k=(0,o._1)(b,w,_),M={deleteByContentId:e=>(0,o.RA)((t,r)=>{let s=B.getGroupsByContentId(r(),e),n=g.Lt.getContentById(r(),e).courseId;t((0,o.rc)(l.A.GROUP_DELETE_BATCH,{deletedGroups:s}));let i=()=>{let t=g.Lt.getContentById(r(),e),s={...t,isGroupContent:!1,assignedGroups:[]};return{prevContent:t,nextContent:s}};return(0,p.GL)(n,s).then(()=>{let{prevContent:e,nextContent:r}=i();return t(g.o1.persistContent(e,r))}).then(()=>{let{nextContent:e}=i();return t(g.o1.persistContentSync(e))}).then(()=>{t((0,o.rc)((0,o.ok)(l.A.GROUP_DELETE_BATCH),{deletedGroups:s}))}).catch(e=>{throw t((0,o.rc)((0,o.fJ)(l.A.GROUP_DELETE_BATCH),{deletedGroups:s})),t((0,o.rc)((0,o.ok)(a.A.APP_ERROR),{error:e})),{err:e}})}),loadGroupsByQuery:e=>(0,o.VP)(l.A.GROUPS_LOAD_BY_QUERY,async()=>{try{return{data:await (0,p.Sl)(e),query:e}}catch(t){throw{err:t,query:e}}},{query:e}),loadByContentId:(e,t)=>(0,o.VP)(l.A.GROUPS_LOAD_BY_CONTENT_ID,r=>t||G(r(),e.contentId)?(0,p.qf)(e).catch(e=>{throw{err:e}}):Promise.resolve({groups:{}})),loadByContentIdAndQuery:e=>(0,o.RA)(async(t,r)=>{let{view:s}=v(r().group.groups,e);if(null==s||!s.isLoading){t((0,o.rc)(l.A.GROUPS_LOAD_BY_CONTENT_ID_AND_QUERY,{query:e}));try{let r=await (0,p.Z8)(e);t((0,o.rc)((0,o.ok)(l.A.GROUPS_LOAD_BY_CONTENT_ID_AND_QUERY),{data:r,query:e}))}catch(r){t((0,o.rc)((0,o.fJ)(l.A.GROUPS_LOAD_BY_CONTENT_ID_AND_QUERY),{err:r,query:e})),t((0,o.rc)((0,o.ok)(a.A.APP_ERROR),{error:r}))}}}),loadByContentIdsAndMembershipIdInBatchQuery:e=>(0,o.RA)(async(t,r)=>{let s=T(r().group.groups,e);if(e.contentIds=((e,t)=>0===Object.keys(t).length?e:e.filter(e=>{var r;return(0,h.qO)(null==(r=t[e])?void 0:r.status)}))(e.contentIds,s),0!==e.contentIds.length){t((0,o.rc)(l.A.GROUPS_LOAD_BY_CONTENT_IDS_AND_MEMBERSHIP,{query:e}));try{let r=await p.Eo(e.courseId,e.contentIds,e.membershipId);t((0,o.rc)((0,o.ok)(l.A.GROUPS_LOAD_BY_CONTENT_IDS_AND_MEMBERSHIP),{data:r,query:e}))}catch(r){t((0,o.rc)((0,o.fJ)(l.A.GROUPS_LOAD_BY_CONTENT_IDS_AND_MEMBERSHIP),{err:r,query:e})),t((0,o.rc)((0,o.ok)(a.A.APP_ERROR),{error:r}))}}}),loadByGroupSetId:(e,t,r)=>(0,o.RA)(async(s,n)=>{if(!d.Lt.isLoading(n(),t))try{s((0,o.rc)(l.A.GROUPS_LOAD,{groupSetId:t}));let n=await E.WV(e,t,r),i=Object.keys(n.groups);s((0,o.rc)((0,o.ok)(l.A.GROUPS_LOAD),{...n,groupSetId:t,assignedGroups:i}))}catch(e){s((0,o.rc)((0,o.fJ)(l.A.GROUPS_LOAD),{err:e})),s((0,o.rc)((0,o.ok)(a.A.APP_ERROR),{error:e}))}}),loadByGroupSetIdAndQuery:e=>(0,o.RA)(async(t,r)=>{let{view:s}=f(r().group.groups,e);if(null==s||!s.isLoading){t((0,o.rc)(l.A.GROUPS_LOAD_BY_GROUP_SET_ID_AND_QUERY,{query:e}));try{let r=await (0,p.Z4)(e);t((0,o.rc)((0,o.ok)(l.A.GROUPS_LOAD_BY_GROUP_SET_ID_AND_QUERY),{data:r,query:e}))}catch(r){t((0,o.rc)((0,o.fJ)(l.A.GROUPS_LOAD_BY_GROUP_SET_ID_AND_QUERY),{err:r,query:e})),t((0,o.rc)((0,o.ok)(a.A.APP_ERROR),{error:r}))}}}),loadGroupsByCourse:e=>(0,o.VP)(l.A.GROUPS_LOAD,()=>(0,p.aK)(e).catch(e=>{throw{err:e}})),loadMembershipsByGroupSetId:(e,t)=>(0,o.VP)(l.A.GROUP_MEMBERSHIPS_LOAD,async()=>{let r=await E.F5(e,t),s=r.memberships;return{...r,groupSetId:t,memberships:s}}),addGroupMembership:e=>(0,o.RA)(async(t,r)=>{t((0,o.rc)(l.A.ADD_GROUP_MEMBERSHIP)),t((0,o.rc)(l.A.REMOVE_GROUP_MEMBERSHIP));try{let r=await (0,p.Fn)(e);return t((0,o.rc)((0,o.ok)(l.A.ADD_GROUP_MEMBERSHIP),r)),t((0,o.rc)((0,o.ok)(l.A.REMOVE_GROUP_MEMBERSHIP),{userId:r.userId,enrolledGroupId:e.enrolledGroupId,courseId:e.courseId})),await t(u.o1.loadUser(r.userId)),r}catch(e){if(t((0,o.rc)((0,o.fJ)(l.A.ADD_GROUP_MEMBERSHIP),e)),t((0,o.rc)((0,o.fJ)(l.A.REMOVE_GROUP_MEMBERSHIP),e)),e instanceof i.$$||e instanceof i.X7||e instanceof i.dC||e instanceof i.H3||e instanceof i.ny||e instanceof i.$u)throw e;return t((0,o.rc)((0,o.ok)(a.A.APP_ERROR),{error:e})),null}}),loadStudentCountByGroupSetId:(e,t)=>(0,o.VP)(l.A.GROUP_STUDENT_COUNT_LOAD,async()=>{let r=await E.GP(e,t),s=r.groups,n=Object.keys(s).reduce((e,t)=>e+s[t].studentCount,0);return{...r,groupSetId:t,groups:s,groupSetStudentCount:n}}),addByGroupSetId:(e,t)=>{if(!e)throw Error("Expected an existing group set id");let r=(0,m.jD)(t);return(0,o.rc)((0,o.ok)(l.A.GROUPS_ADD),{addedGroupsById:r,groupSetId:e,addedCourseGroupIds:Object.keys(r)})},updateByGroupSetId:(e,t,r)=>{if(!e)throw Error("Expected an existing group set id");let s=(0,m.jD)(t);return(0,o.rc)((0,o.ok)(l.A.GROUPS_UPDATE),{updatedGroupsById:s,groupSetId:e,courseId:r})},deleteByGroupSetId:(e,t)=>{if(!e)throw Error("Expected an existing group set id");return(0,o.rc)((0,o.ok)(l.A.GROUP_DELETE_BATCH),{deletedGroups:t,groupSetId:e})},removeGroupsFromStore:e=>(0,o.rc)((0,o.ok)(l.A.GROUP_DELETE_BATCH),{deletedGroups:e}),loadGroupById:(e,t)=>(0,o.VP)(l.A.GROUP_LOAD_BY_ID,async()=>{let r=await p._P(e,t);return(0,o.rc)((0,o.ok)(l.A.GROUP_LOAD_BY_ID),{group:r,courseId:e,groupId:t})})},B={getGroupsByQuery:(e,t)=>{var r;let{view:s}=O(e.group.groups,t);return s&&s.isValid&&!s.isLoading?(null!=(r=s.values)?r:[]).map(t=>{var r,s;let n=e.group.groups.byId[t];if(!n)return null;let o={...n};return o.groupSet=null==(s=null==(r=e.groupWorkspace)?void 0:r.groupSets)?void 0:s.byId[n.groupSetId],o}).filter(e=>e):[]},getGroupByGroupId:(e,t)=>e.group.groups.byId[t],getCourseGroupsByIds:(e,t)=>t.map(t=>e.group.groups.byId[t]),getCourseGroupViewStatusByQuery:(e,t)=>{let{view:r}=O(e.group.groups,t);return r?{isLoading:r.isLoading,isValid:r.isValid,paging:r.paging}:null},getCourseGroupByGroupSetIdViewStatusByQuery:(e,t)=>{var r;let{view:s}=f(e.group.groups,t);return s?{isLoading:s.isLoading,isValid:s.isValid,paging:null!=(r=s.paging)?r:null}:null},getGroupsByContentId:(e,t)=>n.filter(e.group.groups.byId,{contentId:t}),getGroupsByContentIdAndQuery:(e,t)=>{var r;let{view:s}=v(e.group.groups,t);return s&&s.isValid&&!s.isLoading?(null!=(r=s.values)?r:[]).map(t=>{let r,s=e.group.groups.byId[t];if(!s)return null;let n={...s};return s.groupSetId&&(r=d.Lt.getGroupSetById(e,s.groupSetId)),n.groupSet=r,n}).filter(e=>!!e):[]},getCourseGroupByContentIdViewStatusByQuery:(0,A.Mz)((e,t)=>v(e.group.groups,t).view,e=>{var t;return e?{isLoading:e.isLoading,isValid:e.isValid,paging:null!=(t=e.paging)?t:null}:null}),getGroupsByCourseIdContentIds:(e,t)=>{var r;let s=T(e.group.groups,t),n={};return(null!=(r=Object.keys(s))?r:[]).forEach(t=>{var r,o;let i;if(void 0===s[t]||void 0===s[t].value||s[t].status!==h.y_)return;let a=s[t].value;if(a&&(i=e.group.groups.byId[a]),!i)return;let l={...i};i.groupSetId&&(l.groupSet=null==(o=null==(r=e.groupWorkspace)?void 0:r.groupSets)?void 0:o.byId[i.groupSetId]),n[t]=l}),n},getGroupsByGroupSetId:(e,t)=>{var r,s;return null!=(s=null==(r=e.group.groups.byGroupSetId[t])?void 0:r.map(t=>e.group.groups.byId[t]))?s:[]},getGroupsByGroupSetIdByQuery:(e,t)=>{var r;let{view:s}=f(e.group.groups,t);return s&&s.isValid&&!s.isLoading?(null!=(r=s.values)?r:[]).map(t=>{var r,s;let n=e.group.groups.byId[t];if(!n)return null;let o={...n};return n.groupSetId&&(o.groupSet=null==(s=null==(r=e.groupWorkspace)?void 0:r.groupSets)?void 0:s.byId[n.groupSetId]),o}).filter(e=>e):[]},getGroupMembershipsByGroupSetId:(e,t)=>{if(!t||!e.groupWorkspace.groupSets.byId.hasOwnProperty(t))return[];let r=e.group.groups.byGroupSetId[t];return Array.isArray(r)?r.map(t=>e.group.groupMemberships[t]):[]},hasJoined:(e,t)=>{let r=n.filter(e.group.groups.byId,{...t.contentId&&{contentId:t.contentId},...t.groupSetId&&{groupSetId:t.groupSetId}});return n.some(r,e=>!!e.memberships&&n.find(e.memberships,{userId:t.userId}))},getGroupsLoadingStatus:e=>e.group.groups.loadingStatus,isLoading:e=>e.group.isLoading},G=(e,t)=>0===B.getGroupsByContentId(e,t).length},573261:(e,t,r)=>{"use strict";r(542633),r(706152)},573683:(e,t,r)=>{"use strict";r(56684).w_,r(542633)},573704:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});let s={PREVIEW_FILE:"preview-file",PREVIEW_FILE_EDIT:"preview-file-edit",EDIT_FILE:"content-manage.edit.file"}},573998:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>d,Lt:()=>E,o1:()=>c});var s=r(905898),n=r(750609),o=r(540233),i=r(968554),a=r(732583);let l=(e,t)=>{var r;if(!t)return i.Vc;let[s,n]=null!=(r=Object.entries(e.views.byCourseId[t.courseId]||{}).find(([,e])=>(0,a.Y_)(e.query,t)))?r:[null,null];return s?{id:s,view:n}:i.Vc},u=e=>["views","byCourseId",e.courseId],d=(0,i.vy)({byCourseMembershipId:{},views:{byCourseId:{}}},{[o.g.ACTIVITY_VS_GRADE_LOAD]:(0,i.Dh)(l,u),[(0,i.ok)(o.g.ACTIVITY_VS_GRADE_LOAD)]:(e,t)=>{let{data:r}=t,{paging:n,data:o}=r;return e=(0,s.Ay)(e,e=>{for(let t of o)e.byCourseMembershipId[t.membership.id]=t}),(0,i.lY)(e,t,{viewResolver:l,viewsPathResolver:u,paging:n,values:o.map(e=>e.membership.id)})},[o.g.ACTIVITY_VS_GRADE_INVALIDATE_DATA]:(e,t)=>{let{courseId:r}=t,n=(0,s.Ay)(e,e=>{((e,t)=>{var r;e.views.byCourseId[t]&&Object.values(null!=(r=e.views.byCourseId[t])?r:{}).forEach(e=>{e.isValid=!1})})(e,r)});return(0,i.Zg)(n,t)},[(0,i.fJ)(o.g.ACTIVITY_VS_GRADE_LOAD)]:(0,i.To)(l,u)}),c={getActivityVsGradeData:e=>(0,i.Vy)(o.g.ACTIVITY_VS_GRADE_LOAD,async()=>({data:{...await (0,n.rL)(e)},query:e}),{data:{query:e},condition:(t,{getState:r})=>((e,t)=>{let{view:r}=l(e.activityVsGrade,t);return!r||!(null==r?void 0:r.isLoading)&&!(null==r?void 0:r.isValid)})(r(),e)}),invalidateData:e=>({type:o.g.ACTIVITY_VS_GRADE_INVALIDATE_DATA,courseId:e})},E={getActivityVsGradeDataView:(e,t)=>{let{view:r}=l(e.activityVsGrade,t);return r},getActivityVsGradeDataByQuery:(e,t)=>{var r;let{view:s}=l(e.activityVsGrade,t);return s?{data:(null!=(r=s.values)?r:[]).map(t=>e.activityVsGrade.byCourseMembershipId[t]),paging:s.paging}:null}}},579852:(e,t,r)=>{"use strict";r.d(t,{P:()=>i});var s=r(514041),n=r(608506),o=r(12441);function i(){let{row:{selected:e,index:t}}=(0,n.KS)();return(0,s.useMemo)(()=>({props:(0,o.q)({...void 0!==e?{"aria-selected":e}:void 0,"aria-rowindex":t,role:"row"})}),[t,e])}},580208:(e,t,r)=>{"use strict";r.d(t,{o1:()=>d,Ff:()=>u,Lt:()=>c});var s=r(905898),n=r(968554),o=r(859795),i=r(608719);let a={PROCTORING_SERVICES_LOAD:"proctoringServices.load"},l=e=>e.reduce((e,t)=>({...e,[t.handle]:t}),{}),u=(0,n.vy)({byHandle:{},isLoading:!1},{[a.PROCTORING_SERVICES_LOAD]:n.r1,[(0,n.ok)(a.PROCTORING_SERVICES_LOAD)]:(e,t)=>{let{proctoringServices:r}=t;if(null===r)return(0,n.Zg)(e,t);let o=(0,s.Ay)(e,e=>{e.byHandle=r});return(0,n.Zg)(o,t)},[(0,n.fJ)(a.PROCTORING_SERVICES_LOAD)]:n.Nh}),d={loadProctoringServices:()=>(0,n.VP)(a.PROCTORING_SERVICES_LOAD,async e=>{if(0!==Object.keys(e().proctoringServices.byHandle).length)return Promise.resolve({proctoringServices:c.getProctoringServices(e())});try{let e=await (0,o.IF)();return{proctoringServices:l(e)}}catch(e){throw{err:e}}}),setProctoringServicesInStore:e=>(0,n.rc)((0,n.ok)(a.PROCTORING_SERVICES_LOAD),{proctoringServices:l(e)})},c={getAvailableProctoringServices:e=>Object.values(e.proctoringServices.byHandle).filter(e=>e.availability.available===i.FFW.Yes),getProctoringServices:e=>Object.values(e.proctoringServices.byHandle)}},581917:(e,t,r)=>{"use strict";r.d(t,{i:()=>s});let s={PROFILE_BASE:"base.profile",UPDATE_AVATAR_PEEK:"update-avatar",UPDATE_LANGUAGE_PEEK:"update-language",UPDATE_PASSWORD_PEEK:"update-password",UPDATE_PROFILE_PEEK:"update-profile",NOTIFICATION_SETTINGS:"notification-settings",NOTIFICATION_SETTINGS_PEEK_PANEL:"notification-settings.content"}},583307:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=function(e,t,r){let s=e;return Object.keys(t).forEach(e=>{var n;let o=r[e.replace("data-","")],i=t[e];n=s,(o||i)&&n.setAttribute(e,o||i),s=n}),s}},584059:(e,t,r)=>{"use strict";var s;r.d(t,{Z:()=>s}),function(e){e.HasNotStarted="hasNotStarted",e.Loading="loading",e.Loaded="loaded",e.Error="error"}(s||(s={}))},584424:(e,t,r)=>{"use strict";r.d(t,{l:()=>o,w:()=>i});var s=r(608719),n=r(825271);function o(e,t){return(0,s.wXA)(n.dZ,e,t)}async function i(e){var t;let{courseResources:r,paging:o,unusedFilesTotal:i}=await (0,s.sH_)(n.dZ,e.courseId,null!=(t=e.queryParams)?t:{},e.paging);return{resources:r.reduce((e,t)=>(t&&(e[t.resourceId]=t),e),{}),resourceIds:r.map(e=>e.resourceId),paging:o,unusedFilesTotal:i}}},586778:(e,t,r)=>{"use strict";r.d(t,{w:()=>d});var s=r(507225),n=r(795120),o=r(388315);class i extends o.o{constructor(){super(o.M.Aborted)}}class a{setXhrRequest(e){this.xhr=e}abort(){var e;null==(e=this.xhr)||e.abort()}}class l{constructor(){this.subscribers=[]}subscribe(e){return this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);t>=0&&this.subscribers.splice(t)}}clear(){this.subscribers=[]}push(e){this.subscribers.forEach(t=>{t(e)})}}async function u(e,t,r){await e.validate();let n=e.toXhr();return r.setXhrRequest(n),new Promise((r,o)=>{n.upload.addEventListener("progress",e=>{t.push({lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total})}),n.addEventListener("load",()=>{var i,a;let l=e.getSession();if((null==l?void 0:l.cookies)!=null){let e=null!=(i=(0,s.Ng)(n))?i:"";l.cookies=l.cookies?(0,s.ez)(e,null!=(a=l.cookies)?a:""):e}t.clear(),(n.status<200||n.status>=300)&&o(e.xhrFailed(n.response)),r({response:n.response,request:n})}),n.addEventListener("abort",()=>{t.clear(),o(new i)}),n.upload.addEventListener("error",()=>{t.clear(),o(e.xhrFailed())}),n.send(e.xhrBody())})}function d(e){let t=new l,r=new a;return{result:u(e,t,r).then(({response:t,request:r})=>{var s;let o=null!=(s=r.getResponseHeader("Content-Type"))?s:"";return o.startsWith("application/json")||console.warn(`Expected API response to be of type "application/json" but its actual Content-Type is ${o}`,e.toString()),(0,n.t)(t)}),progress:t,abort:r}}},590167:(e,t,r)=>{"use strict";r.d(t,{o1:()=>p,Ff:()=>E,Lt:()=>m});var s=r(645250),n=r(905898),o=r(968554),i=r(608719),a=r(825271);let l={DOMAINS_LOAD:"lti.domains.load",DOMAIN_CREATE:"lti.domain.create"};var u=r(839781);let d=(e,t)=>{let r=Object.keys(e.views).find(r=>{let n=e.views[r];return(0,s.isEqual)(n.query,t)});return{id:r,view:r?e.views[r]:null}},c=()=>["views"],E=(0,o.vy)({views:{},byDomainId:{}},{[l.DOMAINS_LOAD]:(0,o.Dh)(d,c),[(0,o.fJ)(l.DOMAINS_LOAD)]:(0,o.To)(d,c),[(0,o.ok)(l.DOMAINS_LOAD)]:(e,t)=>{let r=(0,n.Ay)(e,e=>{t.data.results.forEach(t=>{e.byDomainId[t.id]=t})});return(0,o.lY)(r,t,{viewResolver:d,viewsPathResolver:c,paging:t.data.paging,values:t.data.results.map(e=>e.id)})}}),p={loadDomains:e=>(0,o.RA)(async t=>{try{t((0,o.rc)(l.DOMAINS_LOAD,{query:e}));let r=await (0,i.NHx)(a.dZ,e);return t((0,o.rc)((0,o.ok)(l.DOMAINS_LOAD),{query:e,data:r})),{query:e,data:r}}catch(r){throw t((0,o.rc)((0,o.fJ)(l.DOMAINS_LOAD),{query:e,error:r})),r}}),createDomain:e=>(0,o.RA)(async t=>{try{t((0,o.rc)(l.DOMAIN_CREATE,{data:e}));let r=await (0,i.qBq)(a.dZ,e);return t((0,o.rc)((0,o.ok)(l.DOMAIN_CREATE),{data:r})),r}catch(e){throw t((0,o.rc)((0,o.fJ)(l.DOMAIN_CREATE),e)),e}})},m={shouldLoadView:(e,t)=>{let r=d(e.ltiDomain,t);return!r.view||!r.view.isValid&&!r.view.isLoading},domains:(0,u.n)((e,t)=>{var r,s,n;return null!=(n=null==(s=null==(r=d(e.ltiDomain,t).view)?void 0:r.values)?void 0:s.map(t=>e.ltiDomain.byDomainId[t]))?n:[]},e=>e)}},590503:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>k,Lt:()=>B,o1:()=>M});var s=r(645250),n=r(905898),o=r(968554),i=r(608719),a=r(865337),l=r(95418),u=r(170228),d=r(437272),c=r(43375),E=r(502059),p=r(799079),m=r(169921),g=r(758247),y=r(566416),I=r(808954),A=r(729113),h=r(842804),_=r(246206),b=r(764209),S=r(243502);function T(e){return!!e.sort&&0!==e.sort.length}let O=e=>null==e||Array.isArray(e)&&0===e.length,v=(e,t)=>{let{courseId:r}=t,n=e.views.byCourseId[r];return n?Object.keys(n).filter(e=>{let r=n[e];return!!(!T(t)&&!T(r.query)||s.isEqual(r.query.sort,t.sort))&&function(e,t){return e.filter?t.filter?Array.from(new Set([...Object.keys(e.filter),...Object.keys(t.filter)])).every(r=>{let n=e.filter[r],o=t.filter[r];return!!(n===o||s.isEqual(n,o))||O(n)&&O(o)}):Object.values(e.filter).every(O):!t.filter||Object.values(t.filter).every(O)}(r.query,t)}):[]},f=(e,t)=>{if(!t)return o.Vc;let r=e.views.byCourseId[t.courseId]||{},n=Object.keys(r).find(e=>{let n=r[e],o=s.isEqual(n.query.columnId,t.columnId),i=s.isEqual(n.query.paging,t.paging),a=s.isEqual(n.query.filter,t.filter),l=s.isEqual(n.query.sort,t.sort);return i&&l&&a&&o});return{id:n,view:n?r[n]:null}},C=e=>["views","byCourseId",e.courseId],R=(e,t)=>{if(!t)return{id:null,view:null};let r=e.views.byUserId[t.userId]||{},s=Object.keys(r).find(e=>r[e].query.userId===t.userId);return{id:s,view:s?r[s]:null}},D=e=>["views","byUserId",e.userId],L=(e,t,r)=>{if(!r)return;let s={};Object.values(r).forEach(e=>{e.courseId&&(s[e.courseId]||(s[e.courseId]=[]),s[e.courseId].push(e))}),Object.keys(s).forEach(r=>{var n;if(!r||!(null==(n=e.views.byCourseId)?void 0:n[r]))return;let o=N(e,s[r]);U(t,r,o)})},N=(e,t)=>t.reduce((t,r)=>{var s,n,o,i;let a=e.byCourseMembershipId[r.id];if(!a||!r)return t;let l=null!=r.dueDateExceptionType&&null!=a.dueDateExceptionType&&r.dueDateExceptionType!==a.dueDateExceptionType,u=null!=r.isAvailable&&null!=a.isAvailable&&r.isAvailable!==a.isAvailable,d=null!=r.role&&null!=a.role&&r.role!==a.role||null!=(null==(s=r.user)?void 0:s.systemRole)&&null!=(null==(n=a.user)?void 0:n.systemRole)&&(null==(o=r.user)?void 0:o.systemRole)!==(null==(i=a.user)?void 0:i.systemRole),c=null!=r.timeLimitExceptionType&&null!=a.timeLimitExceptionType&&r.timeLimitExceptionType!==a.timeLimitExceptionType,E=a.displayOrder!==r.displayOrder;return{accommodationChanged:t.accommodationChanged||l,availabilityChanged:t.availabilityChanged||u,roleChanged:t.roleChanged||d,timeLimitExceptionChanged:t.timeLimitExceptionChanged||c,displayOrderChanged:t.displayOrderChanged||E}},{}),U=(e,t,r)=>{var s;let n=r.accommodationChanged||r.availabilityChanged||r.roleChanged||r.timeLimitExceptionChanged||r.displayOrderChanged||r.gradesChanged||r.groupsChanged||r.studentPreviewStatusChanged||r.studentAttemptStatusChanged,o=null==(s=e.views.byCourseId)?void 0:s[t];n&&o&&Object.values(o).forEach(e=>{var t,s;if(!e.isValid)return;let n=null==(t=e.query)?void 0:t.filter,o=n&&(0,A.Q2)(n)?n:void 0,a=(null==o?void 0:o.hasDueDateExceptionOnly)&&r.accommodationChanged,l=r.availabilityChanged,u=(null==o?void 0:o.roleBucket)&&r.roleChanged,d=(null==o?void 0:o.hasTimeLimitExceptionOnly)&&r.timeLimitExceptionChanged,c=r.displayOrderChanged,E=r.gradesChanged&&(null==(s=e.query.sort)?void 0:s.some(e=>e.field===i.i8N.Grade)),p=(0,A.iU)(n)?n.studentStatusFilter&&r.studentAttemptStatusChanged:void 0,m=(0,A.iU)(n)&&n.gradingStatusFilter!==i.z_c.AllStatuses&&r.gradesChanged;(l||u||a||d||c||E||p||m||r.groupsChanged||r.studentPreviewStatusChanged)&&(e.isValid=!1)})},P=(e,t)=>{t&&Object.keys(t).forEach(r=>{var s,n;e.byCourseMembershipId[r]={...e.byCourseMembershipId[r],...t[r],displayOrder:t[r].displayOrder,assignedBlogEntries:(null==(s=e.byCourseMembershipId[r])?void 0:s.assignedBlogEntries)||[],ui:{...null==(n=e.byCourseMembershipId[r])?void 0:n.ui}}})},w=(e,t)=>(0,n.Ay)(e,e=>{t.contentId&&((e,t)=>{let{courseId:r,contentId:s}=t,n=e.views.byCourseId[r];n&&Object.values(n).forEach(e=>{e.isValid&&e.query.contentId===s&&(e.isValid=!1)})})(e,t)}),k=(0,o.vy)({byCourseMembershipId:{},permissions:{byCourseId:{}},paging:null,isLoading:!1,views:{byCourseId:{},byUserId:{}}},{[(0,o.ok)(a.g.BLOG_ENTRIES_LOAD)]:(e,t)=>(0,n.Ay)(e,e=>{e.byCourseMembershipId[t.query.assignedUserId]||(e.byCourseMembershipId[t.query.assignedUserId]={}),e.byCourseMembershipId[t.query.assignedUserId].assignedBlogEntries=Object.keys(t.data.byId)}),[(0,o.ok)(a.g.BLOG_ENTRY_ADD)]:(e,t)=>{let{assignedUserId:r}=t,s=e.byCourseMembershipId[r];if(s&&t&&t.byId){let o=[...Object.keys(t.byId),...s.assignedBlogEntries];return(0,n.Ay)(e,e=>{e.byCourseMembershipId[r]||(e.byCourseMembershipId[r]={}),e.byCourseMembershipId[r].assignedBlogEntries=o})}return e},[(0,o.ok)(a.g.BLOG_ENTRY_REMOVE)]:(e,t)=>{let r=e.byCourseMembershipId[t.assignedUserId];if(r){let o=s.filter(r.assignedBlogEntries,e=>e!==t.entryId);return(0,n.Ay)(e,e=>{e.byCourseMembershipId[t.assignedUserId]||(e.byCourseMembershipId[t.assignedUserId]={}),e.byCourseMembershipId[t.assignedUserId].assignedBlogEntries=o})}return e},[(0,o.ok)(E.gK.CONTENTS_REVIEW_STATES_USERS_GET)]:(e,t)=>(0,n.Ay)(e,e=>{void 0===t.query.fields&&t.data.results.forEach(t=>{e.byCourseMembershipId[t.courseMembership.id]=t.courseMembership})}),[(0,o.ok)(u.g.GRADEBOOK_GRADES_LOAD)]:(e,t)=>{let r=new Set(t.grades.map(e=>e.courseId));return r.size?(0,n.Ay)(e,e=>{r.forEach(t=>{U(e,t,{gradesChanged:!0})})}):e},[(0,o.ok)(u.g.GRADEBOOK_GRADES_INVALIDATE)]:(e,t)=>{let r=new Set(t.grades.map(e=>e.courseId));return r.size?(0,n.Ay)(e,e=>{r.forEach(t=>{U(e,t,{gradesChanged:!0})})}):e},[(0,o.ok)(u.g.GRADEBOOK_GRADE_PERSIST_BY_GRADE_ID)]:(e,t)=>{var r;return(null==(r=null==t?void 0:t.grade)?void 0:r.courseId)?(0,n.Ay)(e,e=>{U(e,t.grade.courseId,{gradesChanged:!0})}):e},[(0,o.ok)(u.g.GRADEBOOK_GRADE_PERSIST_BY_USER_ID)]:(e,t)=>{var r;return(null==(r=null==t?void 0:t.grade)?void 0:r.courseId)?(0,n.Ay)(e,e=>{U(e,t.grade.courseId,{gradesChanged:!0})}):e},[(0,o.ok)(_.g.GRADED_QUESTION_ATTEMPT_PERSIST)]:(e,t)=>{let{courseId:r}=t.data.dependents;return(0,n.Ay)(e,e=>{U(e,r,{gradesChanged:!0})})},[(0,o.ok)(_.g.GRADED_QUESTION_ATTEMPT_FOR_GROUP_PERSIST)]:(e,t)=>{let{courseId:r}=t.data.dependents;return(0,n.Ay)(e,e=>{U(e,r,{gradesChanged:!0})})},[(0,o.ok)(y.g.COURSE_MEMBERSHIP_LOAD)]:(e,t)=>{let{data:r}=t;return r?(0,n.Ay)(e,t=>{let s={[r.id]:r};L(e,t,s),P(t,s)}):(0,o.Zg)(e,t)},[(0,o.ok)(y.g.COURSE_MEMBERSHIP_SET)]:(e,t)=>{let{data:r}=t;return(0,n.Ay)(e,t=>{let s={[r.id]:r};L(e,t,s),P(t,s)})},[y.g.COURSE_MEMBERSHIPS_LOAD]:(0,o.Dh)(f,C),[(0,o.ok)(y.g.COURSE_MEMBERSHIPS_LOAD)]:(e,t)=>{let{data:r}=t;if(!r)return(0,o.Zg)(e,t);let{membershipIds:s,paging:i,courseId:a,permissions:l}=r;return e=(0,n.Ay)(e,t=>{U(t,a,N(e,Object.values(r.byCourseMembershipId))),P(t,r.byCourseMembershipId),t.permissions.byCourseId[a]=l}),(0,o.lY)(e,t,{viewResolver:f,viewsPathResolver:C,paging:i,values:s})},[(0,o.fJ)(y.g.COURSE_MEMBERSHIPS_LOAD)]:(0,o.To)(f,C),[y.g.USER_MEMBERSHIPS_LOAD]:(0,o.Dh)(R,D),[(0,o.ok)(y.g.USER_MEMBERSHIPS_LOAD)]:(e,t)=>{let{data:r}=t;if(!r)return(0,o.Zg)(e,t);let{membershipIds:s,paging:i}=r;return e=(0,n.Ay)(e,t=>{L(e,t,r.byMembershipId),P(t,r.byMembershipId)}),(0,o.lY)(e,t,{viewResolver:R,viewsPathResolver:D,paging:i,values:s})},[(0,o.fJ)(y.g.USER_MEMBERSHIPS_LOAD)]:(0,o.To)(R,D),[(0,o.fJ)(y.g.COURSE_MEMBERSHIP_USERS_LOAD)]:(0,o.To)(f,C),[y.g.COURSE_MEMBERSHIP_USERS_LOAD]:(0,o.Dh)(f,C),[(0,o.ok)(y.g.COURSE_MEMBERSHIP_USERS_LOAD)]:(e,t)=>{let{data:r}=t;if(!r)return(0,o.Zg)(e,t);let{paging:s,permissions:n,userIds:i}=r;return(0,o.lY)(e,t,{viewResolver:f,viewsPathResolver:C,paging:s,permissions:n,values:i})},[(0,o.ok)(l.g.STUDENT_PREVIEW_EXIT)]:(e,t)=>{let{courseId:r}=t.data;return(0,n.Ay)(e,e=>{r&&U(e,t.data.courseId,{studentPreviewStatusChanged:!0})})},[(0,o.ok)(c.A.REMOVE_GROUP_MEMBERSHIP)]:(e,t)=>{let{courseId:r}=t;return(0,n.Ay)(e,e=>{U(e,r,{groupsChanged:!0})})},[(0,o.ok)(c.A.GROUPS_UPDATE)]:(e,t)=>{let{courseId:r}=t;return(0,n.Ay)(e,e=>{U(e,r,{groupsChanged:!0})})},[(0,o.ok)(I.g.GRADEBOOK_ATTEMPT_UPDATE)]:(e,t)=>{let{courseId:r,studentAttemptStatusChanged:s}=t;return(0,n.Ay)(e,e=>{s&&U(e,r,{studentAttemptStatusChanged:!0})})},[(0,o.ok)(d.g.GRADEBOOK_GROUP_ATTEMPT_UPDATE)]:(e,t)=>{let{groupAttempt:r,groupAttemptStatusChanged:s}=t;return(0,n.Ay)(e,e=>{s&&U(e,r.courseId,{studentAttemptStatusChanged:!0})})},[(0,o.ok)(I.g.GRADEBOOK_ATTEMPT_DELETE)]:(e,t)=>{let r=t.attempt.courseId;return(0,n.Ay)(e,e=>{U(e,r,{studentAttemptStatusChanged:!0,gradesChanged:!0})})},[(0,o.ok)(d.g.GRADEBOOK_GROUP_ATTEMPT_DELETE)]:(e,t)=>{let r=t.groupAttempt.courseId;return(0,n.Ay)(e,e=>{U(e,r,{studentAttemptStatusChanged:!0,gradesChanged:!0})})},[(0,o.ok)(h.g.QUESTION_PERSIST)]:(e,t)=>{let{courseId:r}=t.question;return(0,n.Ay)(e,e=>{r&&U(e,r,{studentAttemptStatusChanged:!0,gradesChanged:!0})})},[y.g.GROUP_MEMBERSHIPS_INVALIDATE]:(e,t)=>{let{courseId:r}=t;return(0,n.Ay)(e,e=>{let t=e.views.byCourseId[r];if(t)for(let e of Object.values(t))e.query.filter&&"groupId"in e.query.filter&&(e.isValid=!1)})},[(0,o.ok)(p.gK.COURSE_ANNOUNCEMENTS_USERS_STATUS_LOAD)]:(e,t)=>(0,n.Ay)(e,e=>{Object.entries(t.data.announcementUsersStatus).forEach(([,t])=>{e.byCourseMembershipId[t.courseMembershipId]={...e.byCourseMembershipId[t.courseMembershipId],...t.courseMembership}})}),[y.g.COURSE_MEMBERSHIP_INVALIDATE]:(e,t)=>{let{courseId:r}=t;return(0,n.Ay)(e,e=>{r&&((e,t)=>{let r=e.views.byCourseId[t];r&&Object.values(r).forEach(e=>{e.isValid&&(e.isValid=!1)})})(e,r)})},[(0,o.ok)(u.g.GRADEBOOK_GRADE_POST_GRADE_BY_GRADE_ID)]:(e,t)=>{let{courseId:r}=t;return(0,n.Ay)(e,e=>{U(e,r,{gradesChanged:!0})})},[(0,o.ok)(S.gK.ADAPTIVE_RELEASE_RULES_CREATE)]:w,[(0,o.ok)(S.gK.ADAPTIVE_RELEASE_RULE_DELETE)]:w,[(0,o.ok)(b.g.CONTENT_DELETE_ALL_ADAPTIVE_RELEASE_IN_STORE)]:w}),M={loadCourseMembershipsByCourseId:e=>(0,o.RA)(async(t,r)=>{let{courseId:s,limit:n,offset:o,roleBucket:i}=e,a={courseId:s,paging:{...n?{limit:n}:{},...o?{offset:o}:{}},sort:null,filter:{...i?{roleBucket:[i]}:{}}};return t(M.loadCourseMembershipsByQuery(a))}),loadCourseMembershipsByQuery:e=>(0,o.RA)(async(t,r)=>{if(((e,t)=>{let{view:r}=f(e.courseMembership,t);return!r||!r.isLoading&&!r.isValid})(r(),e)){t((0,o.rc)(y.g.COURSE_MEMBERSHIPS_LOAD,{query:e}));try{let r=await (0,m.TE)(e);t((0,o.rc)((0,o.ok)(y.g.COURSE_MEMBERSHIPS_LOAD),{data:r,query:e}))}catch(r){throw t((0,o.rc)((0,o.fJ)(y.g.COURSE_MEMBERSHIPS_LOAD),{query:e})),t((0,o.rc)((0,o.ok)(g.A.APP_ERROR),{error:r})),{err:r}}}}),loadCourseMembershipUserIdsByCourseIdWithFields:e=>(0,o.RA)(async t=>{var r,s;let{courseId:n,columnId:i,filter:a}=e,l=(0,A.Q2)(a)?a:void 0,u=(0,A.XY)(a)?a:void 0,d=(0,A.se)(a)?a:void 0,c=(0,A.iU)(a)?a:void 0,E={courseId:n,filter:{...(null==l?void 0:l.roleBucket)?{roleBucket:[l.roleBucket]}:{},...(null==u?void 0:u.fields)?{fields:u.fields}:{},...c?{...c}:{},...(null==d?void 0:d.searchString)?{searchString:d.searchString}:{},...(null==l?void 0:l.membershipAvailable)?{membershipAvailable:[l.membershipAvailable]}:{}},columnId:i};t((0,o.rc)(y.g.COURSE_MEMBERSHIP_USERS_LOAD,{query:E}));try{let e,n=[],i=0;do{let t={...E,paging:{limit:5e3,offset:i}},o=await (0,m.J5)(t),a=o.paging;e=null!=(r=null==a?void 0:a.nextPage)?r:"",n.push(o),i=(null!=(s=null==a?void 0:a.offset)?s:0)+5e3}while(e)let a=(0,m.eP)(n,E);t((0,o.rc)((0,o.ok)(y.g.COURSE_MEMBERSHIP_USERS_LOAD),{data:a,query:E}))}catch(e){throw t((0,o.rc)((0,o.fJ)(y.g.COURSE_MEMBERSHIP_USERS_LOAD),{query:E})),t((0,o.rc)((0,o.ok)(g.A.APP_ERROR),{error:e})),{err:e}}}),loadCourseMembershipByMemberId:(e,t,r=!0)=>(0,o.RA)(async(s,n)=>{if(!((e,t,r=!0)=>{let s=e.courseMembership.byCourseMembershipId[t];return r?!(null==s?void 0:s.user):!s})(n(),t,r))return B.getCourseMembershipByMembershipId(n(),t);try{s((0,o.rc)(y.g.COURSE_MEMBERSHIP_LOAD,{courseId:e}));let n=await (0,m.OX)(e,t,r);return s((0,o.rc)((0,o.ok)(y.g.COURSE_MEMBERSHIP_LOAD),{data:n,courseId:e})),n}catch(e){throw s((0,o.rc)((0,o.ok)(g.A.APP_ERROR),{error:e})),{err:e}}}),loadCourseMembershipByUserId:(e,t,r=!0)=>(0,o.RA)(async(s,n)=>{if(!((e,t,r,s=!0)=>{let n=Object.values(e.courseMembership.byCourseMembershipId).find(e=>e.courseId===t&&e.userId===r);return s?!(null==n?void 0:n.user):!n})(n(),e,t,r))return B.getCourseMembershipByUserId(n(),e,t);try{s((0,o.rc)(y.g.COURSE_MEMBERSHIP_LOAD,{courseId:e}));let r=await (0,m.nV)(e,t);return s((0,o.rc)((0,o.ok)(y.g.COURSE_MEMBERSHIP_LOAD),{data:r,courseId:e})),r}catch(e){if(e instanceof i.om3&&404===e.body.status)throw{err:e};throw s((0,o.rc)((0,o.ok)(g.A.APP_ERROR),{error:e})),{err:e}}}),setCourseMembershipsInStore:(e,t)=>{let r=(0,m.Tj)(t,e);return(0,o.rc)((0,o.ok)(y.g.COURSE_MEMBERSHIPS_LOAD),{data:r,query:e})},setUserMembershipsInStore:(e,t)=>{let r=(0,m.T2)(t,e);return(0,o.rc)((0,o.ok)(y.g.USER_MEMBERSHIPS_LOAD),{data:r,query:e})},setMembershipInStore:e=>(0,o.RA)(async t=>{t((0,o.rc)((0,o.ok)(y.g.COURSE_MEMBERSHIP_SET),{data:e}))}),invalidateGroupMembershipsByCourseId:e=>(0,o.rc)(y.g.GROUP_MEMBERSHIPS_INVALIDATE,{courseId:e}),invalidateMembershipInvalidateByCourseId:e=>(0,o.rc)(y.g.COURSE_MEMBERSHIP_INVALIDATE,{courseId:e})},B={getCourseMembershipsBySimilarViewQuery:(e,t)=>{let r=v(e.courseMembership,t);return r.length?r.map(r=>e.courseMembership.views.byCourseId[t.courseId][r]).filter(e=>null==e?void 0:e.isValid).flatMap(t=>Array.isArray(null==t?void 0:t.values)?t.values.map(t=>e.courseMembership.byCourseMembershipId[t]):[]):[]},getCourseMembershipsByQuery:(e,t)=>{let{view:r}=f(e.courseMembership,t);return r?(r.values||[]).map(t=>e.courseMembership.byCourseMembershipId[t]):[]},getCourseMembershipsWithUsersByQuery:(e,t)=>B.getCourseMembershipsByQuery(e,t).map(t=>{let r=B.getUserFromMembershipId(e,t.id);return{...t,user:r}}),getCourseMembershipsByCourseId:(e,t,r,s,n)=>{let o={courseId:t,paging:{...s?{limit:s}:{},...n?{offset:n}:{}},sort:null,filter:{...r?{roleBucket:[r]}:{}}};return B.getCourseMembershipsByQuery(e,o)},getCourseMembershipUserIdsByCourseId:(e,t)=>{var r;let{courseId:s,columnId:n,filter:o}=t,i=(0,A.Q2)(o)?o:void 0,a=(0,A.XY)(o)?o:void 0,l=(0,A.se)(o)?o:void 0,u=(0,A.iU)(o)?o:void 0,d={courseId:s,filter:{...(null==i?void 0:i.roleBucket)?{roleBucket:[i.roleBucket]}:{},...(null==a?void 0:a.fields)?{fields:a.fields}:{},...u?{...u}:{},...(null==l?void 0:l.searchString)?{searchString:l.searchString}:{},...(null==i?void 0:i.membershipAvailable)?{membershipAvailable:[i.membershipAvailable]}:{}},columnId:n},{view:c}=f(e.courseMembership,d);return c?null!=(r=c.values)?r:[]:null},isLoading:(e,t)=>{let{view:r}=f(e.courseMembership,t);return r?r.isLoading:e.courseMembership.isLoading},getCourseMembershipViewStatusByQuery:(e,t)=>{let{view:r}=f(e.courseMembership,t);return r?{isLoading:r.isLoading,isValid:r.isValid,paging:r.paging}:null},getCourseMembershipViewByQuery:(e,t)=>{let{view:r}=f(e.courseMembership,t);return r},getCourseMembershipByMembershipId:(e,t)=>e.courseMembership.byCourseMembershipId[t],getCourseMembershipsByMembershipIds:(e,t)=>t.map(t=>e.courseMembership.byCourseMembershipId[t]),getUserFromMembershipId:(e,t)=>{let r=e.courseMembership.byCourseMembershipId[t];if(r){if(r.user)return r.user;if(r.userId)return e.user.byId[r.userId]}},getUsersFromMembershipIds:(e,t)=>t.map(t=>B.getUserFromMembershipId(e,t)),getMembershipPermissions:(e,t)=>e.courseMembership.permissions.byCourseId[t],getCourseMembershipsByUserIds:(e,t,r)=>r.map(r=>s.find(e.courseMembership.byCourseMembershipId,e=>t===e.courseId&&r===e.userId)),getCourseMembershipByUserId:(e,t,r)=>Object.values(e.courseMembership.byCourseMembershipId).find(e=>t===e.courseId&&r===e.userId),getLatestViewWithMembershipId:(e,t,r)=>{let{courseId:s}=r;if(!(t in e.courseMembership.byCourseMembershipId)||!(s in e.courseMembership.views.byCourseId))return null;let n=v(e.courseMembership,r).map(r=>{var n,o,i;let a=e.courseMembership.views.byCourseId[s][r];if(a.isLoading||!a.isValid)return{viewId:r,indexInView:-1,indexInCollection:-1,lastFetched:-1};let l=null!=(n=a.values.indexOf(t))?n:-1,u={viewId:r,indexInView:l,indexInCollection:l,lastFetched:a.lastFetched};return l<0||(u.indexInCollection=(null!=(i=null==(o=a.paging)?void 0:o.offset)?i:0)+l),u}).filter(e=>e.indexInView>-1);return 0===n.length?null:n.reduce((e,t)=>e.lastFetched>t.lastFetched?e:t,n[0])},getNumberOfCourseMembershipsByQuery:(e,t)=>{var r;let{view:s}=f(e.courseMembership,t);return null==(r=null==s?void 0:s.values)?void 0:r.length}}},591835:(e,t,r)=>{"use strict";var s;r.d(t,{MM:()=>s,gK:()=>n,uj:()=>i,x8:()=>o});let n={QUESTIONS_GRADE_STATUS_LOAD:"questions.gradeStatus.load",QUESTION_BLOCKS_GRADE_STATUS_LOAD:"questionsBlocks.gradeStatus.load",QUESTIONS_GRADE_STATUS_REFRESH:"questions.gradeStatus.refresh"};!function(e){e.Default="default",e.MyStudents="myStudents"}(s||(s={}));let o=e=>!!e&&["ids","isLoading","isValid"].some(t=>t in e),i=e=>!!e&&["id","question","responsesNeedingGrading","responsesGraded","responsesInProgress","isQuestionSet"].some(t=>t in e)},593477:(e,t,r)=>{"use strict";var s=r(56684);let n="/v1/courses/%courseId%";s.w_,s.w_,s.Jk,r(542633)},593555:(e,t,r)=>{"use strict";function s(e,t,r){let s=[{insert:!0,format:{image:{bbtype:"image",bbfile:JSON.stringify(t),href:e}}}];return s.unshift({insert:`
`}),r||s.push({insert:`
`}),s}r.d(t,{A:()=>s})},596006:(e,t,r)=>{"use strict";r.d(t,{o1:()=>m,Ff:()=>c,Lt:()=>p});var s=r(608719),n=r(905898),o=r(317657),i=r(758247),a=r(968554);let l={AI_SETTINGS_LOAD:"aisettings.load"};var u=r(300474);let d={available:!1,contextPickerAvailable:!1,canGenerateKeywords:!1,canGenerateDocuments:!1,canRewriteFeedback:!1,canGenerateOutlines:!1,canGenerateQuestions:!1,canGenerateRubrics:!1,canGenerateJournals:!1,canGenerateDiscussions:!1,canGenerateCourseMessages:!1,canGenerateAssignments:!1,canSuggestDocumentLayout:!1,canGenerateConversations:!1,canSummarizeFeedback:!1,canChat:!1,chat:{questioning:!1,rolePlay:!1},images:{learningModules:!1,rtes:!1,outlines:"none"},premium:{available:!1}},c=(0,a.vy)({byCourseId:{}},{[l.AI_SETTINGS_LOAD]:(e,t)=>(0,n.Ay)(e,e=>{let r=e.byCourseId[t.courseId];r||(r={aiSettings:d,isLoaded:!1,isLoading:!0},e.byCourseId[t.courseId]=r),r.isLoading=!0}),[(0,a.ok)(l.AI_SETTINGS_LOAD)]:(e,t)=>{let r=t.data;return(0,n.Ay)(e,e=>{let s=e.byCourseId[t.courseId];s||(s={aiSettings:r,isLoaded:!0,isLoading:!1},e.byCourseId[t.courseId]=s),s.aiSettings=r,s.isLoaded=!0,s.isLoading=!1})},[(0,a.fJ)(l.AI_SETTINGS_LOAD)]:(e,t)=>(0,n.Ay)(e,e=>{let r=e.byCourseId[t.courseId];r&&(r.isLoading=!1)})}),E=Object.freeze({aiSettings:d,isLoaded:!1,isLoading:!1}),p={getAiSettings:(e,t)=>{let r=e.ai.byCourseId[t];return r||E}},m={getAiSettings:e=>(0,a.RA)(async(t,r)=>{var n;let c=r().ai.byCourseId[e];if((null==c?void 0:c.isLoaded)||(null==c?void 0:c.isLoading))return null==(n=p.getAiSettings(r(),e))?void 0:n.aiSettings;t((0,a.rc)(l.AI_SETTINGS_LOAD,{courseId:e}));try{let r=await (0,o.Ab)(e);return t((0,a.rc)((0,a.ok)(l.AI_SETTINGS_LOAD),{courseId:e,data:r})),r}catch(r){if((0,u.rh)((0,u.xt)(r),[s.t3V.NotFound]))return t((0,a.rc)((0,a.ok)(l.AI_SETTINGS_LOAD),{courseId:e,data:d})),d;throw t((0,a.rc)((0,a.fJ)(l.AI_SETTINGS_LOAD),{courseId:e,err:r})),t((0,a.rc)((0,a.ok)(i.A.APP_ERROR),{error:r})),{err:r}}})}},596269:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>u,Lt:()=>c,o1:()=>d});var s=r(905898),n=r(196973),o=r(968554),i=r(449454),a=r(12679);let l={},u=(0,o.vy)({courses:l,paging:null,isLoading:!1,isValid:!0,canFetchCourseMessagesSummaries:!0},{[i.g.COURSE_MESSAGE_SUMMARIES_LOAD]:o.r1,[(0,o.ok)(i.g.COURSE_MESSAGE_SUMMARIES_LOAD)]:(e,t)=>{let r=(0,s.Ay)(e,r=>{var s;r.courses=(null==(s=t.paging)?void 0:s.offset)>0?{...e.courses,...t.courses}:t.courses,r.paging=t.paging,r.isValid=!0,r.canFetchCourseMessagesSummaries=Object.keys(t.courses).length>=i.N});return(0,o.Zg)(r,t)},[(0,o.fJ)(i.g.COURSE_MESSAGE_SUMMARIES_LOAD)]:(e,t)=>(0,o.Nh)(e,t,{courses:l,paging:null}),[i.g.COURSE_MESSAGE_SUMMARIES_INVALIDATE]:e=>(0,s.Ay)(e,e=>{e.isValid=!1}),[(0,o.ok)(a.g.COURSE_MESSAGE_COUNT_LOAD_SINGLE)]:(e,t)=>e.courses[t.courseId]?(0,s.Ay)(e,e=>{e.courses[t.courseId].numUnreadMessages=t.courseMessageCount.unreadCount}):e,[(0,o.ok)(a.g.COURSE_MESSAGE_COUNT_UPDATE_SINGLE)]:(e,t)=>e.courses[t.courseId]?(0,s.Ay)(e,e=>{let{numUnreadMessages:r}=e.courses[t.courseId];r>0&&(e.courses[t.courseId].numUnreadMessages=r-t.readCount)}):e}),d={loadCourseMessageSummaries:e=>(0,o.VP)(i.g.COURSE_MESSAGE_SUMMARIES_LOAD,async()=>{let t=null!=e?e:{offset:0,limit:i.N};return await (0,n.p)(t)}),invalidateCourseMessageSummaries:()=>(0,o.rc)(i.g.COURSE_MESSAGE_SUMMARIES_INVALIDATE)},c={getCourseMessageSummaries:e=>e.courseMessageSummary.courses,getCourseMessageSummariesCount:e=>{var t;return(null==(t=e.courseMessageSummary)?void 0:t.courses)?Object.keys(e.courseMessageSummary.courses).length:0},getCanFetchCourseMessageSummaries:e=>e.courseMessageSummary.canFetchCourseMessagesSummaries,isLoadingCourseMessageSummaries:e=>e.courseMessageSummary.isLoading,isValidCourseMessageSummaries:e=>e.courseMessageSummary.isValid}},598606:(e,t,r)=>{"use strict";r.d(t,{o1:()=>d,Ff:()=>u,Lt:()=>c});var s=r(905898),n=r(825271),o=r(608719),i=r(968554),a=r(95418);let l={isLoading:!1,previewing:void 0,courseMembershipId:void 0,user:void 0},u=(0,i.vy)(l,{[a.g.STUDENT_PREVIEW_LOAD]:i.r1,[(0,i.ok)(a.g.STUDENT_PREVIEW_LOAD)]:(e,t)=>{let{studentPreviewInfo:r}=t,n=e;return n=(0,s.Ay)(e,e=>{e.previewing=!!(null==r?void 0:r.previewing),e.user=null==r?void 0:r.user,e.courseMembershipId=null==r?void 0:r.courseMembershipId}),(0,i.Zg)(n,t)},[(0,i.fJ)(a.g.STUDENT_PREVIEW_LOAD)]:i.Nh,[(0,i.ok)(a.g.STUDENT_PREVIEW_EXIT)]:e=>(0,s.Ay)(e,e=>{e.courseMembershipId=l.courseMembershipId,e.previewing=l.previewing,e.user=l.user})}),d={exitStudentPreview:e=>(0,i.RA)(t=>(t((0,i.rc)((0,i.ok)(a.g.STUDENT_PREVIEW_EXIT),{data:{courseId:e}})),Promise.resolve(null))),loadStudentPreviewUser:e=>(0,i.Vy)(a.g.STUDENT_PREVIEW_LOAD,async()=>{try{return{studentPreviewInfo:await (0,o.ZqD)(n.dZ,e)}}catch(e){throw new i.GS(e)}},{condition:(e,t)=>{var r;return r=t.getState(),void 0===c.getIsPreviewing(r)}}),setStudentPreviewUserInStore:e=>(0,i.rc)((0,i.ok)(a.g.STUDENT_PREVIEW_LOAD),{studentPreviewInfo:e})},c={getStudentPreviewUserInfo:e=>({previewing:e.studentPreview.previewing,courseMembershipId:e.studentPreview.courseMembershipId,user:e.studentPreview.user}),getIsPreviewing:e=>e.studentPreview.previewing}},599108:(e,t,r)=>{"use strict";r.d(t,{Iu:()=>u,dS:()=>l,is:()=>d,oJ:()=>i,zx:()=>a});var s=r(56684);let n="/v1/courses/%courseId%/gradebook/schemas",o=`${n}/%schemaId%`;class i extends s.mj{constructor(e){super(n,e)}}class a extends s.mj{constructor(e){super(o,e)}}class l extends s.w_{constructor(e){super(n,e)}}class u extends s.QR{constructor(e){super(o,e)}}class d extends s.FK{constructor(e){super(o,e)}}},599259:(e,t,r)=>{"use strict";r.d(t,{l:()=>p});var s=r(514041),n=r(732873),o=r(150618),i=r(237017),a=r(586533),l=r(718903),u=r(424059),d=r(331585),c=r(87492),E=r(493880);let p=e=>{switch(e.name){case"pdf":return s.createElement(a.z,{className:e.iconClass});case"presentation":return s.createElement(u.J,{className:e.iconClass});case"spreadsheet":return s.createElement(d.Z,{className:e.iconClass});case"zip":return s.createElement(E.q,{className:e.iconClass});case"audio":return s.createElement(n.f,{className:e.iconClass});case"photo":return s.createElement(l.$,{className:e.iconClass});case"video":return s.createElement(c.C,{className:e.iconClass});case"document-text":return s.createElement(i.T,{className:e.iconClass})}return s.createElement(o.w,{className:e.iconClass})}},600560:()=>{"use strict";var e;!function(e){e.IP="IP",e.Link="LINK",e.Links="LINKS",e.Image="IMAGE",e.Content="CONTENT"}(e||(e={}))},600667:(e,t,r)=>{"use strict";r.d(t,{GG:()=>m,jE:()=>c,kj:()=>d,p9:()=>p,rd:()=>y,wY:()=>u,we:()=>g,z_:()=>E});var s=r(56684);let n="/v1/courses/%courseId%/gradebook",o=`${n}/columns/%columnId%/attempts`,i=`${n}/columns/%columnId%/groupAssociations`,a=`${n}/columns/%columnId%/groupAttempts`,l=`${n}/groupAttempts/%groupAttemptId%`;class u extends s.QR{constructor(e){super(`${n}/attempts/%attemptId%`,e)}}class d extends s.w_{constructor(e){super(o,e)}}class c extends s.pT{constructor(e){super(o,e)}}class E extends s.QR{constructor(e){super(`${n}/groupAttempts/%attemptId%`,e)}}class p extends s.FK{constructor(e){super(`${n}/attempts/%attemptId%`,e)}}class m extends s.FK{constructor(e){super(`${l}`,e)}}class g extends s.pT{constructor(e){super(`${i}/%groupAssociationId%/groupAttempts`,e)}}class y extends s.mj{constructor(e){super(a,e)}}},601478:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});let s=r(407659).d4},601615:(e,t,r)=>{"use strict";r.d(t,{m:()=>i});var s=r(716968),n=r(440209);class o extends s.l{error(e,t,r){let s;s=t instanceof Error?t:Error("Error logged",{cause:t}),this.notifySink({ts:Date.now(),level:n.$.Error,topic:e,context:r,exception:s})}warn(e,t,r){this.notifySink({ts:Date.now(),level:n.$.Warning,topic:e,context:r,message:t})}info(e,t,r){this.notifySink({ts:Date.now(),level:n.$.Information,topic:e,context:r,message:t})}debug(e,t,r){this.notifySink({ts:Date.now(),level:n.$.Debug,topic:e,context:r,message:t})}}let i=new o},603066:(e,t,r)=>{"use strict";r.d(t,{YX:()=>o,aN:()=>a,gG:()=>l,sv:()=>i,v8:()=>u});var s=r(56684);let n="/v1/courses/%courseId%/contents/%contentId%/adaptiveReleaseRules";class o extends s.w_{constructor(e){super(n,e)}}class i extends s.FK{constructor(e){super(`${n}/rules/%ruleId%`,e)}}class a extends s.FK{constructor(e){super(n,e)}}class l extends s.pT{constructor(e){super(n,e)}}class u extends s.Jk{constructor(e){super(n,e)}}},603754:(e,t,r)=>{"use strict";r.d(t,{z:()=>s});let s={SAFE_ASSIGN:"safe-assign",ATTEMPT_SAFE_ASSIGN_SETTING:"attempt-safe-assign-setting"}},604705:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,eq:()=>l,hu:()=>a});var s=r(202277),n=r(608719),o=r(830030);let i=e=>s._h.LearningModule.isEqualTo(e.contentHandler),a=e=>{var t,r;return i(e)&&!!(null==(r=null==(t=e.contentDetail)?void 0:t[n.Sa9.LearningModule])?void 0:r.isSequential)};function l(e){return!0===e.inSequence}let u={isLearningModule:i,isForcedSequenceModule:a,isInForcedSequenceLearningModule:l,isFolderOrLearningModule:e=>(0,o.BC)(e)||i(e)}},605737:(e,t,r)=>{"use strict";r.d(t,{o1:()=>E,Ff:()=>c,Lt:()=>p});var s=r(905898),n=r(968554),o=r(608719),i=r(807727),a=r(300474),l=r(758247);let u={USER_PRONOUNS_LOAD:"user-pronouns.load",USER_PRONOUN_ADD:"user-pronoun.add",USER_PRONOUN_DELETE:"user-pronoun.delete"},d=(e,t)=>(0,s.jM)(e,r=>{let s={...e.approvedPronounsById},n={...e.pendingPronounsById};t.forEach(e=>{let t={...e,api:{isDeleting:!1,isUpdating:!1,isInvalidated:!1}};e.status===o.uVk.Approved?(s[t.id]=t,delete n[t.id]):(n[t.id]=t,delete s[t.id])}),r.approvedPronounsById=s,r.pendingPronounsById=n}),c=(0,n.vy)({approvedPronounsById:{},pendingPronounsById:{},isLoading:!1},{[u.USER_PRONOUNS_LOAD]:(e,t)=>(0,n.r1)(e,t),[(0,n.ok)(u.USER_PRONOUNS_LOAD)]:(e,t)=>{let r=t.results;return(0,n.Zg)(d(e,r),t)},[(0,n.ok)(u.USER_PRONOUN_ADD)]:(e,t)=>d(e,t.pronoun.id?[t.pronoun]:[]),[(0,n.ok)(u.USER_PRONOUN_DELETE)]:(e,t)=>{let r=t.pronounId;return(0,s.jM)(e,t=>{let s={...e.approvedPronounsById},n={...e.pendingPronounsById};delete s[r],delete n[r],t.approvedPronounsById=s,t.pendingPronounsById=n})}}),E={loadSystemPronouns:e=>(0,n.VP)(u.USER_PRONOUNS_LOAD,async()=>{try{return await (0,i.c9)(e)}catch(e){throw{err:e}}}),addSystemPronoun:e=>(0,n.RA)(async t=>{let r;try{return t((0,n.rc)(u.USER_PRONOUN_ADD,{pronoun:e})),r=await (0,i.l$)(e),t((0,n.rc)((0,n.ok)(u.USER_PRONOUN_ADD),{pronoun:r})),{pronoun:r}}catch(e){if(e instanceof a.Li)throw e;throw t((0,n.rc)((0,n.ok)(l.A.APP_ERROR),{error:e})),e}}),deleteSystemPronoun:e=>(0,n.VP)(u.USER_PRONOUN_DELETE,async()=>{try{return await (0,i.Ed)(e),{pronounId:e}}catch(e){throw{err:e}}})},p={getApprovedPronouns:e=>Object.values(e.userPronouns.approvedPronounsById),getPendingPronouns:e=>Object.values(e.userPronouns.pendingPronounsById),getAllPronouns:e=>[...p.getApprovedPronouns(e),...p.getPendingPronouns(e)]}},607965:(e,t,r)=>{"use strict";r.d(t,{u:()=>n,x:()=>s});let s=0xa0000000,n="forbidden files"},608506:(e,t,r)=>{"use strict";r.d(t,{KS:()=>a,mk:()=>o,zp:()=>i});var s=r(514041),n=r(97123);let o=s.createContext({index:0,row:{active:!1,captured:!1,index:0,selected:void 0}}),i=({defaultActive:e,index:t,children:r,selected:i})=>{let{getRow:a,select:l}=(0,s.useContext)(n.yE),u=(0,s.useRef)(e),d=(0,s.useMemo)(()=>({index:t,row:a(t,{defaultActive:u.current})}),[t,a]);return(0,s.useEffect)(()=>{"boolean"==typeof i&&l(t,i)},[t,l,i]),s.createElement(o.Provider,{value:d},r)};function a(){let{grid:e}=(0,s.useContext)(n.yE),{row:t}=(0,s.useContext)(o);return(0,s.useMemo)(()=>({grid:e,row:t}),[e,t])}},609926:(e,t,r)=>{"use strict";r(654719)},611592:(e,t,r)=>{"use strict";r.d(t,{o1:()=>k,Ff:()=>w,Lt:()=>M});var s=r(905898),n=r(968554),o=r(323691),i=r(97082),a=r(437272),l=r(139552),u=r(443873),d=r(732583),c=r(612918);let E=(0,l.Ad)(u.UI,d.oJ),p=(0,l.Ad)(u.UI,d.Cu),m=E((e,t,r)=>{let s=e.gradebookGroupGrade.byColumnId[t];return s?r.filter(e=>{var t;if(!s.grades[e])return!0;let r=s.grades[e];return null!=(t=null==r?void 0:r.value)&&!!t.lastAttemptUrl&&!r.value.lastAttemptId||!r.status||r.status===c.gO}):r},e=>e),g=p((e,t,r)=>{let s=e.gradebookGroupGrade.byColumnId[t];if(!s)return{};let n={};return r.forEach(e=>{var t;let r=null==(t=s.grades[e])?void 0:t.value;r&&(n[e]=r)}),n},e=>e);var y=r(895703),I=r(608719),A=r(246206),h=r(519241),_=r(645250),b=r.n(_);function S(){return{isLoading:!1,grades:{}}}function T(e){return{columnId:e.columnId,groupAssociationIds:"groupAssociationIds"in e?e.groupAssociationIds:void 0}}function O(e,t,r){var s;let n=null==(s=e.byColumnId[r])?void 0:s.grades[t];n&&(n.status=c.gO)}function v(e,t,r){var s;let n=e.byColumnId;for(let e of t){let t=null==e?void 0:e.value,o=null==t?void 0:t.id;if(!o)continue;n[t.columnId]||(n[t.columnId]=S());let i=n[t.columnId],a=null==(s=i.grades[o])?void 0:s.value;if(!r&&a&&a.version>t.version)return;i.grades[o]={value:t,status:!function(e,t){var s;return!!r&&(!e||(null==(s=null==e?void 0:e.displayGrade)?void 0:s.isOverride)||e.isCalculatedColumnGrade||(null==e?void 0:e.id)===t)}(a,o)?c.U8:c.gO}}}function f(e,t){return(0,s.Ay)(e,e=>{v(e,t,!0)})}let C=["columnId","groupAssociationIds"],R=(e,t)=>{var r;let s=null!=(r=e.views.byColumnId[t.columnId])?r:{},o=Object.keys(s).find(e=>{let r=s[e];return b().isEqual(b().pick(T(t),...C),b().pick(T(r.query),...C))});return o?{id:o,view:s[o]}:n.Vc},D=e=>["views","byColumnId",e.columnId],L=(e,t)=>{let{view:r}=R(t.getState().gradebookGroupGrade,e.query);return!r||!r.isLoading&&!r.isValid},N=(e,t)=>!U(t.getState(),e.columnId),U=(e,t)=>{var r;return!!(null==(r=e.gradebookGroupGrade.byColumnId[t])?void 0:r.isLoading)},P=(e,t,r)=>{e.byColumnId[t]||(e.byColumnId[t]=S()),e.byColumnId[t].isLoading=r},w=(0,n.vy)({byColumnId:{},views:{byColumnId:{}}},{[i.g.GRADEBOOK_GROUP_BULKVIEW_LOAD]:(0,n.Dh)(R,D),[(0,n.ok)(i.g.GRADEBOOK_GROUP_BULKVIEW_LOAD)]:(e,t)=>{var r,o;let i=null!=(o=null==(r=t.data)?void 0:r.grades)?o:[];return e=(0,s.Ay)(e,e=>{v(e,i.map(e=>({value:e,status:c.U8})))}),(0,n.lY)(e,t,{viewResolver:R,viewsPathResolver:D,values:i.map(e=>e.id).filter(e=>!!e)})},[(0,n.fJ)(i.g.GRADEBOOK_GROUP_BULKVIEW_LOAD)]:(0,n.To)(R,D),[i.g.GRADEBOOK_GROUP_GRADE_POST_GRADE_BY_GROUP_ASSOCIATION_ID]:(e,t)=>{let{columnId:r}=t;return(0,s.Ay)(e,e=>{e.byColumnId[r]||(e.byColumnId[r]=S())})},[(0,n.ok)(y.g.GRADEBOOK_COLUMN_POST_READY_GRADES)]:(e,t)=>{var r;let{columnId:n}=t;if(!n)return e;let o=(null==(r=e.byColumnId[n])?void 0:r.grades)?Object.values(e.byColumnId[n].grades):[];return(0,s.Ay)(e,e=>{v(e,o,!0)})},[(0,n.ok)(i.g.GRADEBOOK_GROUP_GRADE_POST_GRADE_BY_GROUP_ASSOCIATION_ID)]:(e,t)=>{let{columnId:r,gradeId:n}=t;return(0,s.Ay)(e,e=>{var t;let s=null==(t=e.byColumnId[r])?void 0:t.grades[n];(null==s?void 0:s.value)&&v(e,[{value:{...s.value,manualStatus:I.AP$.IsPosted,hasGradeBeenPosted:!0},status:c.U8}])})},[i.g.GRADEBOOK_GROUP_GRADES_INVALIDATE_BY_COLUMN_ID]:(e,t)=>{let{columnId:r}=t;return(0,s.Ay)(e,e=>{let t=e.byColumnId[r];for(let s of(t&&v(e,Object.values(t.grades),!0),((e,t)=>{var r;let s=Object.keys(t);return Object.values(null!=(r=e.views.byColumnId[t.columnId])?r:{}).filter(e=>b().isEqual(b().pick(T(t),...s),b().pick(T(e.query),...s)))})(e,{columnId:r})))"groupAssociationIds"in s.query&&s.query.groupAssociationIds&&(s.isValid=!1)})},[i.g.GRADEBOOK_GROUP_GRADES_INVALIDATE_BY_COLUMN_ID_AND_GROUP_ASSOCIATION_ID]:(e,t)=>{let{columnId:r,groupAssociationId:n}=t;return(0,s.Ay)(e,e=>O(e,n,r))},[i.g.GRADEBOOK_GROUP_GRADE_DETAIL_LOAD]:(e,t)=>{let{columnId:r}=t;return(0,s.Ay)(e,e=>{P(e,r,!0)})},[(0,n.ok)(i.g.GRADEBOOK_GROUP_GRADE_DETAIL_LOAD)]:(e,t)=>{let{grade:r}=t;return(0,s.Ay)(e,e=>{v(e,[{value:r,status:c.U8}]),P(e,r.columnId,!1)})},[(0,n.fJ)(i.g.GRADEBOOK_GROUP_GRADE_DETAIL_LOAD)]:(e,t)=>{let{columnId:r}=t;return(0,s.Ay)(e,e=>{P(e,r,!1)})},[(0,n.ok)(a.g.GRADEBOOK_GROUP_ATTEMPT_UPDATE)]:(e,t)=>{let{groupAttempt:r}=t,{groupAssociationId:n,columnId:o}=r;return n&&o?(0,s.Ay)(e,e=>{let t=e.byColumnId[o];v(e,[null==t?void 0:t.grades[n]],!0)}):e},[(0,n.ok)(a.g.GRADEBOOK_GROUP_ATTEMPT_DELETE)]:(e,t)=>{let{groupAttempt:{groupAssociationId:r,columnId:n}}=t;return n&&r?(0,s.Ay)(e,e=>{O(e,r,n)}):e},[(0,n.ok)(A.g.GRADED_QUESTION_ATTEMPT_FOR_GROUP_PERSIST)]:(e,t)=>{var r;let{columnId:s,groupAssociationId:n}=t.data.dependents;if(!s||!n)return e;let o=null==(r=e.byColumnId[s])?void 0:r.grades[n];return o?f(e,[o]):e},[(0,n.ok)(i.g.GRADEBOOK_GROUP_GRADE_UPDATE_MEMBERS_GRADE_ID)]:(e,t)=>{var r;let{params:s}=t,{groupAssociationId:n,columnId:o}=s,i=null==(r=e.byColumnId[o])?void 0:r.grades[n];return i?f(e,[i]):e}}),k={loadGroupGradesBulkView:e=>(0,n.Vy)(i.g.GRADEBOOK_GROUP_BULKVIEW_LOAD,async()=>{try{return{data:await o.oC(e),query:e}}catch(t){throw new n.GS(t).setData({query:e})}},{data:{query:e},condition:L}),postGroupGradeByGroupAssociationId:(e,t,r)=>(0,n.Vy)(i.g.GRADEBOOK_GROUP_GRADE_POST_GRADE_BY_GROUP_ASSOCIATION_ID,async()=>(await o.Gq(e,t,r),{columnId:t,gradeId:r}),{data:{columnId:t,gradeId:r}}),invalidateGradebookGroupGradesByColumnId:e=>(0,n.rc)(i.g.GRADEBOOK_GROUP_GRADES_INVALIDATE_BY_COLUMN_ID,{columnId:e}),invalidateGradebookGroupGradeByColumndIdAndGroupAssociationId:(e,t)=>(0,n.rc)(i.g.GRADEBOOK_GROUP_GRADES_INVALIDATE_BY_COLUMN_ID_AND_GROUP_ASSOCIATION_ID,{columnId:e,groupAssociationId:t}),loadGroupGradeByGroupAssociationId:(e,t,r)=>(0,n.Vy)(i.g.GRADEBOOK_GROUP_GRADE_DETAIL_LOAD,async()=>{try{return{grade:await o.d$(e,t,r)}}catch(e){throw new n.GS(e).setData({columnId:t})}},{data:{columnId:t},condition:N}),updateGroupGradeByMemberGradeIds:(e,t,r,s)=>(0,n.Vy)(i.g.GRADEBOOK_GROUP_GRADE_UPDATE_MEMBERS_GRADE_ID,async()=>({grades:Object.values((await (0,h.hi)(e,t,r,s)).data).map(e=>e.result).filter(e=>!!e),params:e}))},M={getGroupAssociationIdsWithMissingOrInvalidatedGradesInColumn:m,getGradebookGradesByColumnIdAndGroupAssociationIds:g,getGroupGradeByColumnIdAndGroupAssociationId:(e,t,r)=>{var s;return null==(s=e.gradebookGroupGrade.byColumnId[t])?void 0:s.grades[r]}}},611826:(e,t,r)=>{"use strict";r.d(t,{CL:()=>o,_D:()=>i,tz:()=>a});var s=r(608719),n=r(825271);function o(){return(0,s.oJV)(n.dZ).then(e=>{let{results:t}=e,r={};return t.forEach(e=>{r[e.flagKey]=e}),{featureFlags:{byKey:r}}})}function i(e){return(0,s.Dvw)(n.dZ,e.flagKey)}function a(e){return(0,s.rT9)(n.dZ,e.flagKey,e)}},612216:(e,t,r)=>{"use strict";r(56684).w_},612918:(e,t,r)=>{"use strict";r.d(t,{E1:()=>E,FV:()=>b,J7:()=>y,JL:()=>m,Lx:()=>f,PH:()=>v,TR:()=>C,U8:()=>u,XP:()=>g,gE:()=>T,gO:()=>p,hu:()=>s,nn:()=>I,p_:()=>c,qO:()=>S,rK:()=>_,s1:()=>A,vR:()=>h,vq:()=>d,y_:()=>l,zO:()=>O});var s,n=r(645250),o=r(905898),i=r(163785),a=r.n(i);!function(e){e[e.Load=0]="Load",e[e.Create=1]="Create",e[e.Update=2]="Update",e[e.Delete=3]="Delete"}(s||(s={}));let l=Object.freeze({status:"success",fetchStatus:"idle"}),u=Object.freeze({status:"success",fetchStatus:"idle",mutationStatus:"idle"}),d=Object.freeze({status:"idle",fetchStatus:"fetching"}),c=Object.freeze({status:"idle",fetchStatus:"fetching",mutationStatus:"idle"}),E=Object.freeze({status:"invalid",fetchStatus:"idle"}),p=Object.freeze({status:"invalid",fetchStatus:"idle",mutationStatus:"idle"}),m=Object.freeze({status:"error",fetchStatus:"idle"}),g=Object.freeze({status:"error",fetchStatus:"idle",mutationStatus:"idle"}),y=Object.freeze({status:"idle",fetchStatus:"idle",mutationStatus:"updating"}),I=Object.freeze({status:"idle",fetchStatus:"idle",mutationStatus:"deleting"}),A=Object.freeze({status:"deleted",fetchStatus:"idle",mutationStatus:"idle"});function h(e,t){return(r,s)=>{let i=e(s);return(0,o.Ay)(r,e=>{(0,n.get)(r,[...i],void 0)?(0,n.set)(e,[...i,"status"],t):(0,n.set)(e,[...i],{status:t})})}}function _(e,t,r){return(i,a)=>{let l=e(a);return(0,o.Ay)(i,e=>{let o=(0,n.get)(i,[...l],void 0);if(!o)return void(0,n.set)(e,[...l],{status:r});(t===s.Delete||"deleted"!==o.status.status&&"deleting"!==o.status.mutationStatus)&&(t!==s.Delete||"deleted"!==o.status.status)&&(0,n.set)(e,[...l,"status"],r)})}}function b(e,t,r,s){return(i,l)=>{var u;let{query:d}=l,c=null!=(u=e(i,d).id)?u:a()(),E=t(d);return(0,o.Ay)(i,e=>{(0,n.get)(i,[...E,c],void 0)||(0,n.set)(e,[...E,c],{status:r,query:d}),(0,n.set)(e,[...E,c,"status"],r),(0,n.set)(e,[...E,c,"query"],d),"success"===r.status&&((null==s?void 0:s.values)&&((0,n.set)(e,[...E,c,"values"],s.values),(0,n.set)(e,[...E,c,"lastFetched"],Date.now())),(null==s?void 0:s.paging)&&(0,n.set)(e,[...E,c,"paging"],s.paging),(null==s?void 0:s.sort)&&(0,n.set)(e,[...E,c,"sort"],s.sort),(null==s?void 0:s.permissions)&&(0,n.set)(e,[...E,c,"permissions"],s.permissions))})}}function S(e){return!e||("invalid"===e.status||"error"===e.status)&&"idle"===e.fetchStatus}function T(e){return!e||("invalid"===e.status||"error"===e.status)&&"idle"===e.fetchStatus&&"idle"===e.mutationStatus}function O(e){return"deleted"!==e.status&&"updating"!==e.mutationStatus&&"deleting"!==e.mutationStatus}function v(e){return"deleted"!==e.status&&"deleting"!==e.mutationStatus}function f(e,t,r){return e!==s.Delete&&((null==t?void 0:t.status.status)==="deleted"||(null==t?void 0:t.status.mutationStatus)==="deleting")?t.status:r}function C(e,t){var r;return t&&(null==(r=t.value)?void 0:r.id)&&(e[t.value.id]=t),e}},615209:(e,t,r)=>{"use strict";r.d(t,{o1:()=>g,Ff:()=>m,Lt:()=>y});var s=r(645250),n=r(612918),o=r(968554),i=r(825271),a=r(853400),l=r(608719);let u=(0,a.Y)(l.zok,i.dZ);var d=r(905898);let c={LOR_ASSOCIATIONS_LOAD:"lor-associations-load"},E=(e,t)=>{let r=Object.keys(e.views).find(r=>{let n=e.views[r];return(0,s.isEqual)(n.query,t)});return r?{id:r,view:e.views[r]}:o.Vc},p=()=>["views"],m=(0,o.vy)({byContentId:{},views:{}},{[c.LOR_ASSOCIATIONS_LOAD]:(0,n.FV)(E,p,n.vq),[(0,o.ok)(c.LOR_ASSOCIATIONS_LOAD)]:(e,t)=>{let{query:r,paging:s,associations:i}=t,a=Object.values(null!=i?i:{}).map(t=>{var s;let i=null==(s=e.byContentId[r.filter.contentId])?void 0:s.byAssociatedCourseId[t.id];return{value:(0,o.rL)(null==i?void 0:i.value,t),status:(0,n.Lx)(n.hu.Load,i,n.U8)}}).reduce(n.TR,{}),l=(0,d.Ay)(e,t=>{var s;let n=(0,o.rL)(null==(s=e.byContentId[r.filter.contentId])?void 0:s.byAssociatedCourseId,a);t.byContentId=(0,o.rL)(e.byContentId,{[r.filter.contentId]:{byAssociatedCourseId:n}})}),u=Object.keys(a).filter(e=>!!e);return(0,n.FV)(E,p,n.y_,{values:u,paging:s})(l,t)},[(0,o.fJ)(c.LOR_ASSOCIATIONS_LOAD)]:(0,n.FV)(E,p,n.JL)}),g={fetchLorAssociations:e=>(0,o.Vy)(c.LOR_ASSOCIATIONS_LOAD,async()=>{try{let{results:t,paging:r}=await u(e);return{query:e,associations:t,paging:r}}catch(t){throw new o.GS(t).setData({query:e})}},{data:{query:e},condition:(t,{getState:r})=>{var s;return!!e&&(0,n.qO)(null==(s=y.getLorAssociationsWithView(r(),e))?void 0:s.status)}})},y={getLorAssociationsWithView:(e,t)=>{var r,s;let n=E(e.lorAssociations,t);if(!n||!n.id)return;let o=e.lorAssociations.views[n.id],i=null!=(s=null==(r=o.values)?void 0:r.map(r=>{var s,n;return null==(n=null==(s=e.lorAssociations.byContentId[t.filter.contentId])?void 0:s.byAssociatedCourseId[r])?void 0:n.value}).filter(e=>!!e))?s:[];return{...o,results:i}}}},615231:(e,t,r)=>{"use strict";r.d(t,{o1:()=>A,Ff:()=>I,Lt:()=>h});var s=r(968554);let n={VIDEO_QUIZ_LOAD:"video-studio-quiz.load",VIDEO_QUIZ_DELETE:"video-studio-quiz.delete",VIDEO_QUIZ_SAVE:"video-studio-quiz.save"};var o=r(905898),i=r(645250),a=r(608719),l=r(825271),u=r(853400);let d=(0,u.Y)(a.DXg,l.dZ);async function c(e,t,r){return r.quizId?await (0,a.gIh)(l.dZ,{courseId:e,videoId:t,quizId:r.quizId},r):await (0,a.VTN)(l.dZ,{courseId:e,videoId:t},r)}let E=(0,u.Y)(a.i29,l.dZ);var p=r(612918);let m=e=>["byVideoId",e.videoId],g=(e,t)=>{let r=e.views.byVideoId[t.videoId]||{},n=Object.keys(r).find(e=>{let s=r[e];return(0,i.isEqual)(s.query,t)});return n?{id:n,view:r[n]}:s.Vc},y=e=>["views","byVideoId",e.videoId],I=(0,s.vy)({byVideoId:{},views:{byVideoId:{}}},{[n.VIDEO_QUIZ_LOAD]:(0,p.FV)(g,y,p.vq),[(0,s.ok)(n.VIDEO_QUIZ_LOAD)]:(e,t)=>{let{query:r,videoStudioQuizDetails:s}=t,n=(0,o.Ay)(e,e=>{e.byVideoId[r.videoId]={value:s,status:(0,p.Lx)(p.hu.Load,e.byVideoId[r.videoId],p.U8)}});return(0,p.FV)(g,y,p.y_,{values:[r.videoId]})(n,t)},[(0,s.fJ)(n.VIDEO_QUIZ_LOAD)]:(0,p.FV)(g,y,p.JL),[n.VIDEO_QUIZ_SAVE]:(0,p.rK)(m,p.hu.Update,p.J7),[(0,s.ok)(n.VIDEO_QUIZ_SAVE)]:(e,t)=>{var r,s;let{query:n,videoStudioQuizDetails:i}=t,a=p.hu.Create,l=null!=(s=null==(r=e.byVideoId[n.videoId])?void 0:r.value)?s:[];if(l.length>0){let e=i.map(e=>e.quizId);l=l.filter(({quizId:t})=>!e.includes(t)),a=p.hu.Update}return(0,o.Ay)(e,e=>{e.byVideoId[n.videoId]={value:[...l,...i],status:(0,p.Lx)(a,e.byVideoId[n.videoId],p.U8)}})},[(0,s.fJ)(n.VIDEO_QUIZ_SAVE)]:(0,p.rK)(m,p.hu.Update,p.XP),[n.VIDEO_QUIZ_DELETE]:(0,p.rK)(m,p.hu.Delete,p.nn),[(0,s.ok)(n.VIDEO_QUIZ_DELETE)]:(e,t)=>{var r,s;let{videoId:n,quizId:i}=t;return(null==(r=e.byVideoId[n])?void 0:r.value)&&(e.byVideoId[n].value=null==(s=e.byVideoId[n])?void 0:s.value.filter(e=>(null==e?void 0:e.quizId)!==i)),(0,o.Ay)(e,t=>{var r,s;let o=null!=(s=null==(r=e.byVideoId[n])?void 0:r.value)?s:[];t.byVideoId[n]={value:[...o],status:(0,p.Lx)(p.hu.Delete,t.byVideoId[n],p.s1)}})},[(0,s.fJ)(n.VIDEO_QUIZ_DELETE)]:(0,p.rK)(m,p.hu.Delete,p.XP)}),A={fetchVideoQuiz:e=>(0,s.Vy)(n.VIDEO_QUIZ_LOAD,async()=>{try{return{videoStudioQuizDetails:(await d(e)).results,query:e}}catch(t){throw new s.GS(t).setData({query:e})}},{data:{query:e},condition:(t,{getState:r})=>((e,t)=>{let{view:r}=g(t.videoStudioQuiz,e);return!(null==r?void 0:r.isLoading)&&!(null==r?void 0:r.isValid)})(e,r())}),saveVideoQuiz:(e,t)=>(0,s.Vy)(n.VIDEO_QUIZ_SAVE,async()=>{let{courseId:r,videoId:n}=e;try{return{videoStudioQuizDetails:[await c(r,n,t)],query:e}}catch(t){throw new s.GS(t).setData({query:e})}},{data:{query:e}}),deleteVideoQuiz:(e,t)=>{let{courseId:r,videoId:o}=e;return(0,s.Vy)(n.VIDEO_QUIZ_DELETE,async()=>{try{return await E({courseId:r,videoId:o,quizId:t}),{videoId:o,courseId:r,quizId:t}}catch(e){throw new s.GS(e).setData({videoId:o,quizId:t})}},{data:{query:e}})}},h={getVideoStudioQuiz:(e,t)=>{var r;return null==(r=e.videoStudioQuiz.byVideoId[t])?void 0:r.value}}},615418:(e,t,r)=>{"use strict";r.d(t,{o1:()=>C,Ff:()=>f,Lt:()=>R});var s=r(905898),n=r(968554),o=r(612918),i=r(750609),a=r(732583),l=r(170228),u=r(97082);let d={ACHIEVEMENT_RECIPIENT_LOAD:"achievement.recipient.load",ACHIEVEMENT_RECIPIENT_UPDATE:"achievement.recipient.update",ACHIEVEMENT_RECIPIENTS_LOAD_BY_MEMBERSHIP:"achievement.recipients.load.by.membership",ACHIEVEMENT_RECIPIENTS_LOAD_BY_ACHIEVEMENT:"achievement.recipients.load.by.achievement"};var c=r(895703),E=r(808954),p=r(437272);let m=(e,t)=>`${e}#${t}`,g=e=>m(e.achievementId,e.membershipId),y=(e,t)=>{var r,s;if(!(null==t?void 0:t.achievementId))return n.Vc;let[o,i]=null!=(s=Object.entries(null!=(r=e.views.byAchievementId[t.achievementId])?r:{}).find(([,e])=>(0,a.Y_)(e.query,t)))?s:[null,null];return o?{id:o,view:i}:n.Vc},I=e=>["views","byAchievementId",e.achievementId],A=(e,t)=>{var r,s;if(!(null==t?void 0:t.membershipFoundationsId))return n.Vc;let[o,i]=null!=(s=Object.entries(null!=(r=e.views.byMembershipFoundationsId[t.membershipFoundationsId])?r:{}).find(([,e])=>(0,a.Y_)(e.query,t)))?s:[null,null];return o?{id:o,view:i}:n.Vc},h=e=>["views","byMembershipFoundationsId",e.membershipFoundationsId],_=e=>["byId",m(e.achievementId,e.membershipFoundationsId)],b=(e,t)=>{var r;if(!(null==(r=e.query)?void 0:r.achievementId))return!1;let{view:s}=y(t.getState().achievementRecipient,e.query);return!s||!s.isLoading&&!s.isValid},S=(e,t)=>{var r;if(!(null==(r=e.query)?void 0:r.membershipFoundationsId))return!1;let{view:s}=A(t.getState().achievementRecipient,e.query);return!s||!s.isLoading&&!s.isValid},T=(e,t)=>{let r=t.getState(),s=m(e.achievementId,e.membershipFoundationsId),n=r.achievementRecipient.byId[s];return(0,o.gE)(null==n?void 0:n.status)},O=(e,t)=>{let r=t.getState(),s=m(e.achievementId,e.membershipFoundationsId),n=r.achievementRecipient.byId[s];return(0,o.zO)(null==n?void 0:n.status)},v=(e,t)=>{t&&(Object.values(e.views.byAchievementId).forEach(e=>{Object.values(e).forEach(e=>{e.query.courseLearnId===t&&(e.isValid=!1)})}),Object.values(e.views.byMembershipFoundationsId).forEach(e=>{Object.values(e).forEach(e=>{e.query.courseLearnId===t&&(e.isValid=!1)})}))},f=(0,n.vy)({byId:{},views:{byAchievementId:{},byMembershipFoundationsId:{}}},{[d.ACHIEVEMENT_RECIPIENTS_LOAD_BY_MEMBERSHIP]:(0,n.Dh)(A,h),[(0,n.ok)(d.ACHIEVEMENT_RECIPIENTS_LOAD_BY_MEMBERSHIP)]:(e,t)=>{var r;let{data:i}=t,a=(0,s.Ay)(e,e=>{i.results.forEach(t=>{var r,s;let n=g(t);e.byId[n]={value:t,status:null!=(s=null==(r=e.byId[n])?void 0:r.status)?s:o.U8}})});return(0,n.lY)(a,t,{viewResolver:A,viewsPathResolver:h,values:null!=(r=null==i?void 0:i.results.map(e=>g(e)))?r:[]})},[(0,n.fJ)(d.ACHIEVEMENT_RECIPIENTS_LOAD_BY_MEMBERSHIP)]:(0,n.To)(A,h),[d.ACHIEVEMENT_RECIPIENTS_LOAD_BY_ACHIEVEMENT]:(0,n.Dh)(y,I),[(0,n.ok)(d.ACHIEVEMENT_RECIPIENTS_LOAD_BY_ACHIEVEMENT)]:(e,t)=>{var r,i;let{data:a}=t,l=(0,s.Ay)(e,e=>{a.results.forEach(t=>{let r=g(t);e.byId[r]={value:t,status:e.byId[r]?e.byId[r].status:o.U8}})});return(0,n.lY)(l,t,{viewResolver:y,viewsPathResolver:I,values:null!=(i=null==(r=null==a?void 0:a.results)?void 0:r.map(e=>g(e)))?i:[],paging:{lastEvaluatedKey:null==a?void 0:a.lastEvaluatedKey}})},[(0,n.fJ)(d.ACHIEVEMENT_RECIPIENTS_LOAD_BY_ACHIEVEMENT)]:(0,n.To)(y,I),[d.ACHIEVEMENT_RECIPIENT_LOAD]:(0,o.rK)(_,o.hu.Load,o.p_),[(0,n.ok)(d.ACHIEVEMENT_RECIPIENT_LOAD)]:(e,t)=>{let{data:r}=t;return(0,s.Ay)(e,e=>{let t=g(r);e.byId[t]={value:r,status:(0,o.Lx)(o.hu.Load,e.byId[t],o.U8)}})},[(0,n.fJ)(d.ACHIEVEMENT_RECIPIENT_LOAD)]:(0,o.rK)(_,o.hu.Load,o.XP),[d.ACHIEVEMENT_RECIPIENT_UPDATE]:(0,o.rK)(_,o.hu.Update,o.J7),[(0,n.ok)(d.ACHIEVEMENT_RECIPIENT_UPDATE)]:(e,t)=>(0,s.Ay)(e,e=>{let{data:r}=t,s=g(r);e.byId[s]={value:r,status:(0,o.Lx)(o.hu.Update,e.byId[s],o.U8)},((e,t)=>{if(!t)return;let r=e.views.byAchievementId[t];r&&Object.keys(r).forEach(e=>{r[e].isValid=!1})})(e,r.achievementId),((e,t)=>{if(!t)return;let r=e.views.byMembershipFoundationsId[t];r&&Object.keys(r).forEach(e=>{r[e].isValid=!1})})(e,r.membershipId)}),[(0,n.fJ)(d.ACHIEVEMENT_RECIPIENT_UPDATE)]:(0,o.rK)(_,o.hu.Update,o.XP),[(0,n.ok)(l.g.GRADEBOOK_GRADE_PERSIST_BY_GRADE_ID)]:(e,t)=>(0,s.Ay)(e,e=>{v(e,t.grade.courseId)}),[(0,n.ok)(l.g.GRADEBOOK_GRADE_PERSIST_BY_USER_ID)]:(e,t)=>(0,s.Ay)(e,e=>{v(e,t.grade.courseId)}),[(0,n.ok)(l.g.GRADEBOOK_GRADE_POST_GRADE_BY_GRADE_ID)]:(e,t)=>(0,s.Ay)(e,e=>{v(e,t.courseId)}),[(0,n.ok)(l.g.GRADEBOOK_GRADES_LOAD)]:(e,t)=>{var r;let n=new Set(null==(r=t.grades)?void 0:r.map(e=>e.courseId));return n.size?(0,s.Ay)(e,e=>{n.forEach(t=>{v(e,t)})}):e},[(0,n.ok)(u.g.GRADEBOOK_GROUP_GRADE_POST_GRADE_BY_GROUP_ASSOCIATION_ID)]:(e,t)=>(0,s.Ay)(e,e=>{v(e,t.courseId)}),[(0,n.ok)(c.g.GRADEBOOK_COLUMN_POST_READY_GRADES)]:(e,t)=>(0,s.Ay)(e,e=>{v(e,t.courseId)}),[(0,n.ok)(E.g.GRADEBOOK_ATTEMPT_UPDATE)]:(e,t)=>(0,s.Ay)(e,e=>{v(e,t.attempt.courseId)}),[(0,n.ok)(p.g.GRADEBOOK_GROUP_ATTEMPT_UPDATE)]:(e,t)=>(0,s.Ay)(e,e=>{v(e,t.groupAttempt.courseId)}),[(0,n.ok)(p.g.SET_GRADEBOOK_GROUP_ATTEMPT_UPDATE)]:(e,t)=>(0,s.Ay)(e,e=>{v(e,t.groupAttempt.courseId)})}),C={loadAchievementRecipientsByMembershipQuery:e=>(0,n.Vy)(d.ACHIEVEMENT_RECIPIENTS_LOAD_BY_MEMBERSHIP,async()=>{try{return{data:await (0,i.Ohq)(e.courseFoundationsId,e.membershipFoundationsId),query:e}}catch(t){throw new n.GS(t).setData({query:e})}},{data:{query:e},condition:S}),loadAchievementRecipientsByAchievementQuery:e=>(0,n.Vy)(d.ACHIEVEMENT_RECIPIENTS_LOAD_BY_ACHIEVEMENT,async()=>{try{return{data:await (0,i.dHD)(e.courseFoundationsId,e.achievementId,e.paging),query:e}}catch(t){throw new n.GS(t).setData({query:e})}},{data:{query:e},condition:b}),loadAchievementRecipient:e=>(0,n.Vy)(d.ACHIEVEMENT_RECIPIENT_LOAD,async()=>{try{return{data:await (0,i.f7b)(e.courseFoundationsId,e.achievementId,e.membershipFoundationsId),query:e}}catch(t){throw new n.GS(t).setData({query:e})}},{data:{...e},condition:T}),updateAchievementRecipient:(e,t)=>(0,n.Vy)(d.ACHIEVEMENT_RECIPIENT_UPDATE,async()=>{try{return{data:await (0,i.u5B)(e.courseFoundationsId,e.achievementId,e.membershipFoundationsId,t),query:e}}catch(t){throw new n.GS(t).setData({query:e})}},{data:{...e},condition:O})},R={getAchievementRecipientsByMembershipQuery:(e,t)=>{var r;let{view:s}=A(e.achievementRecipient,t);return s?(null!=(r=s.values)?r:[]).map(t=>e.achievementRecipient.byId[t]).filter(e=>void 0!==e&&void 0!==e.value&&"deleted"!==e.status.status).map(e=>e.value):[]},getAchievementRecipientsViewByMembershipQuery:(e,t)=>{let{view:r}=A(e.achievementRecipient,t);return null!=r?r:null},getAchievementRecipientsByAchievementQuery:(e,t)=>{var r;let{view:s}=y(e.achievementRecipient,t);return s?(null!=(r=s.values)?r:[]).map(t=>e.achievementRecipient.byId[t]).filter(e=>void 0!==e&&void 0!==e.value&&"deleted"!==e.status.status).map(e=>e.value):[]},getAchievementRecipientsViewByAchievementQuery:(e,t)=>{let{view:r}=y(e.achievementRecipient,t);return null!=r?r:null},getAchievementRecipientById:(e,t)=>{var r;return null==(r=e.achievementRecipient.byId[t])?void 0:r.value}}},616611:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(571568);let n={getRenderedGroupSets:(e,t)=>{var r,n;return null!=(n=null==(r=e.groupWorkspace.groupSets.byCourseId[t])?void 0:r.map(t=>{var r;return{id:t,...e.groupWorkspace.groupSets.byId[t],assignedGroups:null==(r=s.Lt.getGroupsByGroupSetId(e,t))?void 0:r.map(e=>e.id)}}))?n:[]}}},620614:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>S,Lt:()=>O,o1:()=>T});var s=r(968554),n=r(608719),o=r(905898),i=r(487967),a=r(11396),l=r(865337),u=r(808954),d=r(566416),c=r(170228),E=r(95418),p=r(437272),m=r(758247),g=r(645250),y=r(368737),I=r(243502),A=r(764209);let h=(e,t)=>{if(!t)return{id:null,view:null};let r=e.views.byBlogId[t.blogId]||{},s=Object.keys(r).find(e=>{let s=r[e],n=(0,g.isEqual)(s.query.paging,t.paging),o=(0,g.isEqual)(s.query.searchText,t.searchText)||!s.query.searchText&&!t.searchText,i=(0,g.isEqual)(s.query.submissionStatus,t.submissionStatus)||!s.query.submissionStatus&&!t.submissionStatus,a=(0,g.isEqual)(s.query.gradingStatus,t.gradingStatus)||!s.query.gradingStatus&&!t.gradingStatus,l=(0,g.isEqual)(s.query.sortColumn,t.sortColumn)||!s.query.sortColumn&&!t.sortColumn,u=(0,g.isEqual)(s.query.sortDirection,t.sortDirection)||!s.query.sortDirection&&!t.sortDirection;return n&&o&&i&&a&&l&&u});return{id:s,view:s?r[s]:null}},_=e=>["views","byBlogId",e.blogId],b=(e,t,r)=>{if(r){let s=e.views.byBlogId[r];s&&Object.keys(s).forEach(e=>{t.views.byBlogId[r][e].isValid=!1})}else Object.keys(e.views.byBlogId).forEach(r=>{Object.keys(e.views.byBlogId[r]).forEach(e=>{t.views.byBlogId[r][e].isValid=!1})})},S=(0,s.vy)({byBlogId:{},gradeColumnToBlog:{},views:{byBlogId:{}},isLoading:!1},{[(0,s.ok)(d.g.COURSE_MEMBERSHIP_SET)]:e=>(0,o.Ay)(e,t=>{b(e,t,void 0)}),[y.g.BLOG_PARTICIPANTS_LOAD]:(0,s.Dh)(h,_),[(0,s.ok)(y.g.BLOG_PARTICIPANTS_LOAD)]:(e,t)=>{let{data:r,query:n}=t,{byCourseMembershipId:i,paging:a}=r,l=(0,o.Ay)(e,e=>{let t=n.blogId;e.byBlogId[t]||(e.byBlogId[t]={}),Object.keys(i).forEach(t=>{let r=i[t];e.byBlogId[n.blogId][t]={courseMembershipId:t,userId:r.user.id,attemptStatus:r.attemptStatus,entriesCount:r.entriesCount,lastAttemptDate:r.lastAttemptDate,hasNewActivity:r.hasNewActivity}})});return(0,s.lY)(l,t,{viewResolver:h,viewsPathResolver:_,paging:a,values:Object.keys(i)})},[(0,s.fJ)(y.g.BLOG_PARTICIPANTS_LOAD)]:(0,s.To)(h,_),[y.g.BLOG_PARTICIPANT_CLEAR_ACTIVITY_FLAG]:(e,t)=>{let{participantId:r,blogId:s}=t;return r&&s?(0,o.Ay)(e,e=>{var t;let n=null==(t=e.byBlogId[s])?void 0:t[r];n&&(n.hasNewActivity=!1)}):e},[(0,s.ok)(a.g.BLOG_LOAD)]:(e,t)=>(0,o.Ay)(e,e=>{let{blog:r}=t;r&&(e.gradeColumnToBlog[r.gradeColumnId]=r.id)}),[(0,s.ok)(l.g.BLOG_ENTRY_REMOVE)]:(e,t)=>{let{entry:r}=t;if(r.assignedUserId!==r.creatorId)return e;let s=e.byBlogId[r.blogId];return s&&s[r.assignedUserId]?(0,o.Ay)(e,e=>{let t=e.byBlogId[r.blogId][r.assignedUserId];t.entriesCount-=1,0===t.entriesCount&&t.attemptStatus===n.ID3.NeedsGrading&&(t.attemptStatus=null)}):e},[(0,s.ok)(c.g.GRADEBOOK_GRADE_PERSIST_BY_USER_ID)]:(e,t)=>{let{grade:r}=t,s=e.gradeColumnToBlog[r.columnId];return e.byBlogId[s]&&e.byBlogId[s][r.memberId]?(0,o.Ay)(e,t=>{t.byBlogId[s][r.memberId].attemptStatus=n.ID3.Completed,b(e,t,s)}):e},[(0,s.ok)(c.g.GRADEBOOK_GRADE_DIRECT_GRADE_ENTRY_MAPPING)]:(e,t)=>{let{grade:r}=t,s=e.gradeColumnToBlog[r.columnId];return e.byBlogId[s]&&e.byBlogId[s][r.memberId]?(0,o.Ay)(e,t=>{if(r.lastAttemptId){let e=r.displayGrade.score?n.ID3.Completed:n.ID3.NeedsGrading;t.byBlogId[s][r.memberId].attemptStatus=e}else{let e=r.manualScore?n.ID3.Completed:void 0;t.byBlogId[s][r.memberId].attemptStatus=e}b(e,t,s)}):e},[(0,s.ok)(c.g.GRADEBOOK_GRADE_PERSIST_BY_GRADE_ID)]:(e,t)=>{let{grade:r}=t,s=e.gradeColumnToBlog[r.columnId];return e.byBlogId[s]&&e.byBlogId[s][r.memberId]?(0,o.Ay)(e,t=>{if(r.lastAttemptId){let e=r.displayGrade.score?n.ID3.Completed:n.ID3.NeedsGrading;t.byBlogId[s][r.memberId].attemptStatus=e}else{let e=r.manualScore?n.ID3.Completed:null;t.byBlogId[s][r.memberId].attemptStatus=e}b(e,t,s)}):e},[(0,s.ok)(c.g.GRADEBOOK_GRADE_POST_GRADE_BY_GRADE_ID)]:(e,t)=>(0,o.Ay)(e,r=>{let s=e.gradeColumnToBlog[null==t?void 0:t.columnId];s&&b(e,r,s)}),[(0,s.ok)(u.g.GRADEBOOK_ATTEMPT_UPDATE)]:(e,t)=>(0,o.Ay)(e,r=>{for(let[s,n]of Object.entries(e.views.byBlogId))Object.keys(n).forEach(e=>{r.views.byBlogId[s][e].query.courseId===t.attempt.courseId&&(r.views.byBlogId[s][e].isValid=!1),t.attempt.courseId||(r.views.byBlogId[s][e].isValid=!1)})}),[(0,s.ok)(p.g.GRADEBOOK_GROUP_ATTEMPT_UPDATE)]:(e,t)=>{let r,s,{groupAttempt:n}=t;if(n.columnId&&(r=e.gradeColumnToBlog[n.columnId],s=e.byBlogId[r]),!s)return e;let i=[];return(n.attempts&&n.attempts.length>0&&n.attempts.forEach(t=>{Object.keys(e.byBlogId[r]).forEach(s=>{e.byBlogId[r][s].userId===t.userId&&i.push(e.byBlogId[r][s])})}),0===i.length)?e:(0,o.Ay)(e,t=>{var s;for(let n of i)for(let o of Object.keys(e.views.byBlogId[r]))(null==(s=t.views.byBlogId[r][o].values)?void 0:s.includes(n.courseMembershipId))&&(t.views.byBlogId[r][o].isValid=!1)})},[(0,s.ok)(E.g.STUDENT_PREVIEW_EXIT)]:(e,t)=>(0,o.Ay)(e,t=>{for(let[r,s]of Object.entries(e.views.byBlogId))Object.keys(s).forEach(e=>{t.views.byBlogId[r][e].isValid=!1})}),[(0,s.ok)(I.gK.ADAPTIVE_RELEASE_RULES_CREATE)]:(e,t)=>v(e,t.contentId),[(0,s.ok)(A.g.CONTENT_DELETE_ALL_ADAPTIVE_RELEASE_IN_STORE)]:(e,t)=>v(e,t.contentId)}),T={loadParticipantList:e=>(0,s.RA)(async(t,r)=>{if(((e,t)=>{let{view:r}=h(e.blog.participants,t);return!r||!r.isLoading&&!r.isValid})(r(),e)){t((0,s.rc)(y.g.BLOG_PARTICIPANTS_LOAD,{query:e}));try{let r=await i.EP(e);t((0,s.rc)((0,s.ok)(y.g.BLOG_PARTICIPANTS_LOAD),{query:e,data:r}))}catch(r){t((0,s.rc)((0,s.fJ)(y.g.BLOG_PARTICIPANTS_LOAD),{query:e})),t((0,s.rc)((0,s.ok)(m.A.APP_ERROR),{error:r}))}}}),updateParticipantActivity:(e,t)=>(0,s.rc)(y.g.BLOG_PARTICIPANT_CLEAR_ACTIVITY_FLAG,{participantId:e,blogId:t})},O={getBlogParticipantByMembershipId:(e,t,r)=>{let s=e.blog.participants.byBlogId[t];return s?s[r]:null},getBlogParticipantsByQuery:(e,t)=>{let{view:r}=h(e.blog.participants,t);return r&&r.values&&r.isValid?r.values.map(r=>e.blog.participants.byBlogId[t.blogId][r]):null},getPagingByQuery:(e,t)=>{let{view:r}=h(e.blog.participants,t);return r?r.paging:null},isLoading:(e,t)=>{let{view:r}=h(e.blog.participants,t);return r?r.isLoading:null}},v=(e,t)=>(0,o.Ay)(e,r=>{for(let[s,n]of Object.entries(e.views.byBlogId))Object.keys(n).forEach(e=>{r.views.byBlogId[s][e].query.contentId===t&&(r.views.byBlogId[s][e].isValid=!1)})})},621885:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});let s={ADD_GOALS:"goal-picker-legacy"}},623409:(e,t,r)=>{"use strict";r.d(t,{o1:()=>M,Ff:()=>P,Lt:()=>B});var s=r(608719),n=r(968554),o=r(591835),i=r(905898),a=r(825271),l=r(645250),u=r.n(l),d=r(139552),c=r(443873),E=r(732583);let p=(0,d.Ad)(c.UI,E.Cu);function m(e){return e.allQuestionGradeStatuses[e.asiObjectId]}let g=e=>e.questionGradeStatus.questionGradeStatusByAsiObjectId,y=(0,d.Mz)(g,(e,t,r=o.MM.Default)=>r,(e,t)=>{let r={};return Object.entries(e).forEach(e=>{let s=e[1][t];(0,o.uj)(s)&&(r[e[0]]=s)}),r}),I=(0,d.Mz)(g,(e,t,r=o.MM.Default)=>r,(e,t)=>{let r={};return Object.entries(e).forEach(e=>{let s=e[1][t];(0,o.uj)(s)&&(r[e[0]]=s)}),r}),A=p((e,t,r)=>t.reduce((t,s)=>{var n,o;return{...t,[s]:null==(o=null==(n=e.questionGradeStatus.questionIdsByQuestionBlockId[s])?void 0:n[r])?void 0:o.ids}},{}),e=>e),h=(0,d.Mz)(y,(e,t,r=o.MM.Default)=>{var s,n;return null==(n=null==(s=e.questionGradeStatus.questionIdsByAssessmentId[t])?void 0:s[r])?void 0:n.ids},(e,t)=>Array.isArray(t)?t.map(t=>m({asiObjectId:t,allQuestionGradeStatuses:e})):void 0),_=p((e,t,r)=>t.reduce((t,s)=>{var n,o;return{...t,[s]:(null==(o=null==(n=e.questionGradeStatus.questionIdsByQuestionBlockId[s])?void 0:n[r])?void 0:o.isLoading)===!0}},{}),e=>e),b=p((e,t,r)=>t.reduce((t,s)=>{var n,o;return{...t,[s]:(null==(o=null==(n=e.questionGradeStatus.questionIdsByQuestionBlockId[s])?void 0:n[r])?void 0:o.isValid)===!0}},{}),e=>e),S=p(I,A,(e,t)=>u().mapValues(t,t=>Array.isArray(t)?t.map(t=>m({asiObjectId:t,allQuestionGradeStatuses:e})):void 0));var T=r(842804),O=r(567808),v=r(246206),f=r(808954),C=r(437272),R=r(764209),D=r(457969);function L(e,t){Object.values(e.questionIdsByAssessmentId).forEach(e=>{Object.values(e).forEach(e=>{e.courseId===t&&(e.isValid=!1)})}),Object.values(e.questionIdsByQuestionBlockId).forEach(e=>{Object.values(e).forEach(e=>{e.courseId===t&&(e.isValid=!1)})})}function N(e,t){var r,s,n,i;if(e.questionIdsByAssessmentId[t]){for(let a of Object.values(o.MM))if(e.questionIdsByAssessmentId[t][a])for(let o of(e.questionIdsByAssessmentId[t]={...e.questionIdsByAssessmentId[t],[a]:{...e.questionIdsByAssessmentId[t][a],isValid:!1}},null!=(n=null==(s=null==(r=e.questionIdsByAssessmentId[t])?void 0:r[a])?void 0:s.ids)?n:[]))(null==(i=e.questionIdsByQuestionBlockId[o])?void 0:i[a])&&(e.questionIdsByQuestionBlockId[o]={...e.questionIdsByQuestionBlockId[o],[a]:{...e.questionIdsByQuestionBlockId[o][a],isValid:!1}})}}let U=(e,t,r)=>{t.id&&(e.questionGradeStatusByAsiObjectId[t.id]={...e.questionGradeStatusByAsiObjectId[t.id]||null,[r]:{...t}})},P=(0,n.vy)({questionGradeStatusByAsiObjectId:{},questionIdsByAssessmentId:{},questionIdsByQuestionBlockId:{}},{[o.gK.QUESTIONS_GRADE_STATUS_LOAD]:(e,{courseId:t,assessmentId:r,filters:s})=>((e,t,r,s)=>(0,i.Ay)(e,e=>{var n,o,i,a,l;e.questionIdsByAssessmentId[r]={...e.questionIdsByAssessmentId[r],[s]:{ids:null==(o=null==(n=e.questionIdsByAssessmentId[r])?void 0:n[s])?void 0:o.ids,isLoading:!0,isValid:null==(l=null==(a=null==(i=e.questionIdsByAssessmentId[r])?void 0:i[s])?void 0:a.isValid)||l,courseId:t}}}))(e,t,r,s.questionGradeStatusType),[(0,n.ok)(o.gK.QUESTIONS_GRADE_STATUS_LOAD)]:(e,t)=>{let{data:{courseId:r,assessmentId:s,results:n,filters:o}}=t;return((e,t,r,s,n)=>(0,i.Ay)(e,e=>{((e,t,r,s,n)=>{e.questionIdsByAssessmentId[r]={...e.questionIdsByAssessmentId[r],[s]:{ids:n.map(e=>e.id).filter(e=>!!e),isLoading:!1,isValid:!0,courseId:t}}})(e,r,s,n,t),t.forEach(t=>{U(e,{...t},n)})}))(e,n,r,s,o.questionGradeStatusType)},[o.gK.QUESTION_BLOCKS_GRADE_STATUS_LOAD]:(e,{courseId:t,assessmentId:r,questionBlockId:s,filters:n})=>((e,t,r,s,n)=>(0,i.Ay)(e,e=>{var r,o;e.questionIdsByQuestionBlockId[s]={...e.questionIdsByQuestionBlockId[s],[n]:{ids:null==(o=null==(r=e.questionIdsByQuestionBlockId[s])?void 0:r[n])?void 0:o.ids,isLoading:!0,isValid:!0,courseId:t}}}))(e,t,0,s,n.questionGradeStatusType),[(0,n.ok)(o.gK.QUESTION_BLOCKS_GRADE_STATUS_LOAD)]:(e,t)=>{let{data:{courseId:r,assessmentId:s,questionBlockId:n,results:o,filters:a}}=t;return((e,t,r,s,n,o)=>(0,i.Ay)(e,e=>{((e,t,r,s,n)=>{e.questionIdsByQuestionBlockId[r]={...e.questionIdsByQuestionBlockId[r],[s]:{ids:n.map(e=>e.id).filter(e=>!!e),isLoading:!1,isValid:!0,courseId:t}}})(e,r,n,o,t),t.forEach(t=>{U(e,{...t},o)})}))(e,o,r,0,n,a.questionGradeStatusType)},[(0,n.ok)(T.g.QUESTION_PERSIST)]:(e,t)=>{let{question:{id:r}}=t;return(0,i.Ay)(e,e=>{r&&function(e,t){for(let r of Object.values(e.questionIdsByAssessmentId))for(let e of Object.values(o.MM)){let s=r[e];if((0,o.x8)(s)){let{ids:e=[]}=s;-1!==e.indexOf(t)&&(s.isValid=!1)}}for(let r of Object.values(e.questionIdsByQuestionBlockId))for(let e of Object.values(o.MM)){let s=r[e];if((0,o.x8)(s)){let{ids:e=[]}=s;-1!==e.indexOf(t)&&(s.isValid=!1)}}}(e,r)})},[(0,n.ok)(f.g.GRADEBOOK_ATTEMPT_DELETE)]:(e,{attempt:{assessmentId:t}})=>(0,i.Ay)(e,e=>{t&&N(e,t)}),[(0,n.ok)(f.g.GRADEBOOK_ATTEMPT_UPDATE)]:(e,t)=>{var r;let{attempt:s,resultGradeBookAttempt:n}=t;if(n&&"exempt"in n){let t=null==(r=(0,D.kK)(s))?void 0:r.id;if(t)return(0,i.Ay)(e,e=>{N(e,t)})}return e},[(0,n.ok)(C.g.GRADEBOOK_GROUP_ATTEMPT_DELETE)]:(e,{groupAttempt:{assessmentId:t}})=>(0,i.Ay)(e,e=>{t&&N(e,t)}),[(0,n.ok)(R.g.CONTENT_PERSIST)]:(e,t)=>(0,i.Ay)(e,e=>{var r,s;let{contents:n,prevContent:o,columns:i}=t;if(n&&(null==o?void 0:o.id)&&i){let t=n[o.id];(null==(r=null==t?void 0:t.gradingColumn)?void 0:r.aggregationModel)!==(null==(s=null==o?void 0:o.gradingColumn)?void 0:s.aggregationModel)&&t.assessmentId&&N(e,t.assessmentId)}}),[(0,n.ok)(O.g.GRADEBOOK_SETTINGS_UPDATE)]:(e,t)=>{let{courseId:r}=t;return(0,i.Ay)(e,e=>L(e,r))},[(0,n.ok)(v.g.GRADED_QUESTION_ATTEMPTS_INVALIDATE_BY_COURSE_ID)]:(e,t)=>(0,i.Ay)(e,e=>L(e,t.courseId))}),w=e=>{var t,r;return{questionGradeStatusType:null!=(t=null==e?void 0:e.questionGradeStatusType)?t:o.MM.Default,hideUnavailableStudents:null!=(r=null==e?void 0:e.hideUnavailableStudents)&&r}},k=e=>{let t=[];return(null==e?void 0:e.questionGradeStatusType)===o.MM.MyStudents&&t.push(s.a1g.MyStudentsToGrade),(null==e?void 0:e.hideUnavailableStudents)&&t.push(s.a1g.HideUnavailableStudents),t},M={loadQuestionGradeStatusesByAssessmentId:(e,t,r)=>{let i=w(r);return(0,n.Vy)(o.gK.QUESTIONS_GRADE_STATUS_LOAD,async()=>({data:{...await function(e,t,r){let n=r?{filter:r.join(",")}:void 0;return(0,s.B1V)(a.dZ,{courseId:e,assessmentId:t},n)}(e,t,k(i)),courseId:e,assessmentId:t,filters:i}}),{data:{courseId:e,assessmentId:t,filters:i}})},loadQuestionGradingStatusesByQuestionBlockId:(e,t,r,i)=>{let l=w(i);return(0,n.Vy)(o.gK.QUESTION_BLOCKS_GRADE_STATUS_LOAD,async()=>({data:{...await function(e,t,r,n){let o=n?{filter:n.join(",")}:void 0;return(0,s.qg4)(a.dZ,{courseId:e,assessmentId:t,questionBlockId:r},o)}(e,t,r,k(l)),courseId:e,assessmentId:t,questionBlockId:r,filters:l}}),{data:{courseId:e,assessmentId:t,questionBlockId:r,filters:l}})},refreshCachedQuestionGradeStatusesByQuestionId:(e,t,r,s)=>{let i=w(s);return(0,n.Vy)(o.gK.QUESTIONS_GRADE_STATUS_REFRESH,async(s,n)=>{var o,a,l;let u=n.getState(),d=null!=(l=null==(a=null==(o=u.questionGradeStatus.questionIdsByAssessmentId[t])?void 0:o[i.questionGradeStatusType])?void 0:a.ids)?l:[];if(d.includes(r))return void await n.dispatch(M.loadQuestionGradeStatusesByAssessmentId(e,t,i));let c=d.find(e=>{var t,s;let n=null==(s=null==(t=u.questionGradeStatus.questionIdsByQuestionBlockId[e])?void 0:t[i.questionGradeStatusType])?void 0:s.ids;return null==n?void 0:n.includes(r)});c&&await n.dispatch(M.loadQuestionGradingStatusesByQuestionBlockId(e,t,c,i))})}},B={getQuestionGradeStatusesByAssessmentId:(e,t=o.MM.Default)=>r=>h(r,e,t),isQuestionGradeStatusesLoadingByAssessmentId:(e,t=o.MM.Default)=>r=>((e,t,r=o.MM.Default)=>{var s,n;return(null==(n=null==(s=e.questionGradeStatus.questionIdsByAssessmentId[t])?void 0:s[r])?void 0:n.isLoading)===!0})(r,e,t),isQuestionGradeStatusesValidByAssessmentId:(e,t=o.MM.Default)=>r=>((e,t,r=o.MM.Default)=>{var s,n;return(null==(n=null==(s=e.questionGradeStatus.questionIdsByAssessmentId[t])?void 0:s[r])?void 0:n.isValid)===!0})(r,e,t),getQuestionGradeStatusesByQuestionBlockIds:(e,t=o.MM.Default)=>r=>S(r,e,t),isQuestionGradeStatusesLoadingByQuestionBlockIds:(e,t=o.MM.Default)=>r=>_(r,e,t),isQuestionGradeStatusesValidByQuestionBlockIds:(e,t=o.MM.Default)=>r=>b(r,e,t)}},626944:(e,t,r)=>{"use strict";r.d(t,{D:()=>a});var s=r(216693),n=r(514041),o=r(910685),i=r(601478);let a=e=>{let t=(0,o.Y)();return(0,n.useEffect)(()=>{e&&t(s.o1I.course.fetchCourse(e))},[t]),(0,i.l)(t=>e?s.Ltv.course.getCourseById(t,e):void 0)}},627789:(e,t,r)=>{"use strict";r.d(t,{o1:()=>_,Ff:()=>h,Lt:()=>S});var s=r(905898),n=r(340496),o=r(842804);let i={QUESTION_TYPE_LOAD:"question.type.load"};var a=r(968554),l=r(956284),u=r(352290),d=r(897582),c=r(764209),E=r(732583),p=r(839781),m=r(139552),g=r(443873);let y=e=>["views","byCourseId",e.courseId],I=(e,t)=>{var r;if(!t)return{id:null,view:null};let s=null!=(r=e.views.byCourseId[t.courseId])?r:{},n=Object.keys(s).find(e=>{let r=s[e];return"courseId"in r.query&&"courseId"in t&&(0,E.Y_)(t,r.query)});return n?{id:n,view:s[n]}:a.Vc},A=(e,t)=>{var r;t&&Object.values(null!=(r=e.views.byCourseId[t])?r:{}).forEach(e=>{e.isValid=!1})},h=(0,a.vy)({permissions:null,questionTypes:{},views:{byCourseId:{}}},{[i.QUESTION_TYPE_LOAD]:(0,a.Dh)(I,y),[(0,a.ok)(i.QUESTION_TYPE_LOAD)]:(e,t)=>{if(!(null==t?void 0:t.data))return(0,a.Zg)(e,t);let{data:r}=t,{permissions:n,questionTypes:o}=r,i=(0,s.Ay)(e,e=>{o.forEach(t=>{e.questionTypes[t]||(e.questionTypes[t]=t)})});return(0,a.lY)(i,t,{viewResolver:I,viewsPathResolver:y,permissions:n,values:o})},[(0,a.fJ)(i.QUESTION_TYPE_LOAD)]:(0,a.To)(I,y),[(0,a.ok)(d.g.ASSESSMENT_DELETE)]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{A(e,r)})},[(0,a.ok)(d.g.ASSESSMENT_IMPORT_TASK_UPDATE)]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{A(e,r)})},[(0,a.ok)(c.g.CONTENT_DELETE)]:(e,t)=>(0,s.Ay)(e,e=>{let{courseAssessmentIds:r}=t;r&&Object.keys(r).forEach(t=>{A(e,t)})}),[(0,a.ok)(c.g.CONTENT_DELETE_IN_STORE)]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{A(e,r)})},[(0,a.ok)(c.g.CONTENT_IMPORT_COMPLETE)]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{A(e,r)})},[u.g.GRANULAR_CONTENT_COPY_COMPLETE]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{A(e,r)})},[(0,a.ok)(o.g.QUESTION_DELETE)]:(e,t)=>{let{courseId:r}=t.prevQuestion;return(0,s.Ay)(e,e=>{A(e,r)})},[(0,a.ok)(o.g.QUESTION_PERSIST)]:(e,t)=>(0,s.Ay)(e,e=>{let{prevQuestion:r,question:s}=t;(null==r?void 0:r.id)&&0===r.id.indexOf(l.Gw)&&A(e,s.courseId)})}),_={loadQuestionTypesByQuery:e=>(0,a.VP)(i.QUESTION_TYPE_LOAD,()=>(0,n.Y)(e).catch(e=>{throw{err:e}}),{query:e})},b=(0,m.Ad)(g.UI,E.Y_),S={getQuestionTypesByQuery:(0,p.n)((e,t)=>{let{view:r}=I(e.questionType,t);return r?(r.values||[]).map(t=>S.getQuestionTypeByString(e,t)).filter(e=>!!e):[]},e=>e),getQuestionTypeViewStatusByQuery:b((e,t)=>{let{view:r}=I(e.questionType,t);return r?{isLoading:r.isLoading,isValid:r.isValid,permissions:r.permissions}:null},e=>e),getQuestionTypeByString:(e,t)=>Object.values(e.questionType.questionTypes).find(e=>e===t)}},633666:(e,t,r)=>{"use strict";r.d(t,{d:()=>i,i:()=>o});var s=r(825271),n=r(608719);function o(e){return(0,n.qN5)(s.dZ,e)}function i(e){return(0,n.Nce)(s.dZ,e)}},633753:(e,t,r)=>{"use strict";r.d(t,{Jq:()=>a,aj:()=>l});var s=r(56684);class n extends s.pT{constructor(){super("/v1/dashboard")}}class o extends s.mj{constructor(){super("/v1/dashboard/entitled")}}var i=r(542633);async function a(e,t){let r=new n;return r.withSession(e),r.withPaging(t),(0,i.w)(r)}async function l(e){let t=new o().withSession(e);return(0,i.w)(t)}},634504:(e,t,r)=>{var s={"./ar-sa/translation.json":[966559,66559],"./az-az/translation.json":[585968,85968],"./cs-cz/translation.json":[241981,41981],"./cy-gb/translation.json":[473291,73291],"./da-dk/translation.json":[550618,50618],"./de-de/translation.json":[891288,91288],"./en-au/translation.json":[280657,80657],"./en-gb/translation.json":[975338,75338],"./en-us-k12/translation.json":[267208,67208],"./en-us-pro/translation.json":[231881,31881],"./en/translation.json":[155144,55144],"./es-es/translation.json":[910570,10570],"./fr-ca/translation.json":[517338,17338],"./fr-fr/translation.json":[608686,8686],"./he-il/translation.json":[745014,45014],"./it-it/translation.json":[429952,29952],"./ja-jp/translation.json":[841703,41703],"./ko-kr/translation.json":[412657,12657],"./ms-my/translation.json":[110992,10992],"./nb-no/translation.json":[143621,43621],"./nl-nl/translation.json":[876742,76742],"./nn-no/translation.json":[878041,78041],"./pl-pl/translation.json":[121658,21658],"./pt-br/translation.json":[191290,91290],"./pt-pt/translation.json":[364010,64010],"./ru-ru/translation.json":[137916,37916],"./sv-se/translation.json":[888997,88997],"./th-th/translation.json":[350162,50162],"./tr-tr/translation.json":[317778,17778],"./uk-ua/translation.json":[819072,19072],"./zh-cn/translation.json":[428457,28457],"./zh-tw/translation.json":[554997,54997]};function n(e){if(!r.o(s,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=s[e],n=t[0];return r.e(t[1]).then(()=>r(n))}n.keys=()=>Object.keys(s),n.id=634504,e.exports=n},635111:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});let s=(0,r(877973).n9)(e=>({button:{color:e.palette.link.active,textDecoration:"underline",verticalAlign:"baseline","&:hover":{color:e.palette.link.focus},"&:focus":{color:e.palette.link.hover}},close:{marginInlineStart:"6px"}}))},637942:(e,t,r)=>{"use strict";r.d(t,{B:()=>o});var s=r(514041);let n=-1;function o(){let[e]=(0,s.useState)(()=>`:r${n+=1}:`);return e}},638476:(e,t,r)=>{"use strict";r(295124)},644592:(e,t,r)=>{"use strict";r.d(t,{Wj:()=>o,n3:()=>n,vS:()=>i});var s=r(56684);s.w_,s.QR;class n extends s.mj{constructor(e){super("v1/users/%userId%",e)}}s.w_,s.Jk;class o extends s.FK{constructor(e){super("/v1/users/me/preferences/%key%",e)}}class i extends s.mj{constructor(e){super("v1/users/emailVerificationDetails/%userId%",e)}}},647059:(e,t,r)=>{"use strict";r.d(t,{Gw:()=>s,I$:()=>o,R7:()=>n,jD:()=>a});let s="new_",n=e=>!!e.id;class o{constructor(e){if(this.previousState=e,null==e)throw Error("Unable to instantiate RestModel with null state object");this.state={...e}}isNew(){return!this.state.id||0===this.state.id.indexOf(s)}}function i(e,t){return t&&t.id&&(e[t.id]=t),e}function a(e,t){return e.reduce(t||i,{})}},647494:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var s=r(608719),n=r(825271);async function o(e){return(0,s.MA7)(n.dZ,e)}},648142:(e,t,r)=>{"use strict";r.d(t,{o1:()=>A,Ff:()=>I,Lt:()=>_});var s=r(645250),n=r(905898),o=r(637213),i=r(758247),a=r(968554);let l={COURSE_TASKS_LOAD:"course-tasks.load",COURSE_TASK_DELETE:"course-tasks.delete",COURSE_TASK_INVALIDATE:"course-tasks.invalidate"};var u=r(139552),d=r(443873),c=r(732583),E=r(839781),p=r(352290);let m=(e,t)=>e=(0,n.jM)(e,e=>{var r;let s=null!=(r=e.views.byCourseId[t])?r:{};Object.keys(s).forEach(e=>{s[e].isValid=!1})}),g=(e,t)=>{if(!t)return{id:null,view:null};let r=e.views.byCourseId[t.courseId]||{},n=Object.keys(r).find(e=>{let n=r[e],o=s.isEqual(n.query.paging,t.paging),i=s.isEqual(n.query.queryParams,t.queryParams);return o&&i});return{id:n,view:n?r[n]:null}},y=e=>["views","byCourseId",e.courseId],I=(0,a.vy)({byCourseTaskId:{},views:{byCourseId:{}}},{[l.COURSE_TASKS_LOAD]:(0,a.Dh)(g,y),[(0,a.ok)(l.COURSE_TASKS_LOAD)]:(e,t)=>{let{data:r}=t;r||(0,a.Zg)(e,t);let{tasksIds:s,tasks:o,paging:i}=r;return e=(0,n.jM)(e,e=>{Object.keys(o).forEach(t=>{e.byCourseTaskId[t]={...e.byCourseTaskId[t],...o[t]}})}),(0,a.lY)(e,t,{viewResolver:g,viewsPathResolver:y,paging:i,values:s})},[(0,a.fJ)(l.COURSE_TASKS_LOAD)]:(0,a.To)(g,y),[l.COURSE_TASK_DELETE]:(e,t)=>(0,n.jM)(e,e=>{let r={...e.byCourseTaskId[t.taskId].api,isDeleting:!0};e.byCourseTaskId[t.taskId].api=r}),[(0,a.ok)(l.COURSE_TASK_DELETE)]:(e,t)=>m(e,t.courseId),[(0,a.fJ)(l.COURSE_TASK_DELETE)]:(e,t)=>(e=(0,n.jM)(e,e=>{let r={...e.byCourseTaskId[t.taskId].api,isDeleting:!1};e.byCourseTaskId[t.taskId].api=r}),(0,a.Nh)(e,t)),[l.COURSE_TASK_INVALIDATE]:(e,t)=>m(e,t.courseId),[(0,a.ok)(p.g.CREATE_COPY_TASK)]:(e,t)=>(0,n.jM)(e,e=>{e.byCourseTaskId[t.data.taskId]=t.data})}),A={deleteTaskByCourseIdAndTaskId:(e,t)=>(0,a.RA)(async r=>{r((0,a.rc)(l.COURSE_TASK_DELETE,{courseId:e,taskId:t}));try{await (0,o.qh)(e,t),r((0,a.rc)((0,a.ok)(l.COURSE_TASK_DELETE),{courseId:e,taskId:t}))}catch(s){throw r((0,a.rc)((0,a.fJ)(l.COURSE_TASK_DELETE),{courseId:e,taskId:t})),r((0,a.rc)((0,a.ok)(i.A.APP_ERROR),{error:s})),{error:s}}}),loadCourseTasksByQuery:e=>(0,a.RA)(async(t,r)=>{if(((e,t)=>{let{view:r}=g(e.courseTasks,t);return!r||!r.isLoading&&!r.isValid})(r(),e)){t((0,a.rc)(l.COURSE_TASKS_LOAD,{query:e}));try{let r=await (0,o.G8)(e);t((0,a.rc)((0,a.ok)(l.COURSE_TASKS_LOAD),{query:e,data:r}))}catch(r){throw t((0,a.rc)((0,a.fJ)(l.COURSE_TASKS_LOAD),{query:e})),t((0,a.rc)((0,a.ok)(i.A.APP_ERROR),{error:r})),{error:r}}}}),invalidateCourseTaskViews:e=>(0,a.RA)(async t=>{t((0,a.rc)(l.COURSE_TASK_INVALIDATE,{courseId:e}))})},h=(0,u.Ad)(d.UI,c.Y_)((e,t)=>{let{view:r}=g(e.courseTasks,t);return r?{isLoading:r.isLoading,isValid:r.isValid,paging:r.paging}:null},e=>e),_={getCourseTasksById:(e,t)=>(0,s.find)(e.courseTasks.byCourseTaskId,{taskId:t}),getCourseTasksByQuery:(0,E.n)((e,t)=>{let{view:r}=g(e.courseTasks,t);return r?(r.values||[]).map(t=>e.courseTasks.byCourseTaskId[t]):[]},e=>e),getCourseTaskViewStatusByQuery:h}},650107:(e,t,r)=>{"use strict";r.d(t,{o1:()=>c,Ff:()=>d,Lt:()=>E});var s=r(905898),n=r(968554),o=r(147653);r(362420),r(332014),r(935539),r(828650);let i={FOUNDATIONS_LICENSE_LOAD:"foundations-license.load"};var a=r(612918);r(362420),r(332014),r(935539),r(828650);let l=(e,t)=>{let r=t.getState(),{licenseName:s}=e,n=r.foundationsLicense.byIdentifier[s];return(0,a.qO)(null==n?void 0:n.status)},u=e=>["byIdentifier",e.licenseName],d=(0,n.vy)({byIdentifier:{}},{[i.FOUNDATIONS_LICENSE_LOAD]:(0,a.vR)(u,a.vq),[(0,n.ok)(i.FOUNDATIONS_LICENSE_LOAD)]:(e,t)=>{let{licenseName:r,active:n}=t;return(0,s.Ay)(e,e=>{e.byIdentifier[r]={value:{licenseName:r,active:n},status:a.y_}})},[(0,n.cw)(i.FOUNDATIONS_LICENSE_LOAD)]:(e,t)=>{let{licenseName:r}=t;return(0,s.Ay)(e,e=>{e.byIdentifier[r]={value:{licenseName:r,active:!1},status:a.y_}})},[(0,n.fJ)(i.FOUNDATIONS_LICENSE_LOAD)]:(0,a.vR)(u,a.JL)}),c={loadLicenseByName:e=>(0,n.Vy)(i.FOUNDATIONS_LICENSE_LOAD,async()=>{try{return await (0,o.X)(e.licenseName)}catch(t){throw new n.GS(t).setData({licenseName:e.licenseName})}},{condition:l,data:{licenseName:e.licenseName},allowedErrors:[404]})},E={getAllLicenses:e=>e.foundationsLicense.byIdentifier,getLicenseByName:(e,t)=>{var r;return null==(r=e.foundationsLicense.byIdentifier[t])?void 0:r.value}}},650160:(e,t,r)=>{"use strict";r.d(t,{K:()=>a});var s=r(514041),n=r(129093),o=r(951777),i=r(865004);let a=({titleText:e,contentText:t,analyticsId:r,rootId:a,confirmationText:l,exitCallback:u})=>{let d=(0,i.W)();return s.createElement(n.gT,{analyticsId:`${r}.dialog`,open:!0,onClose:()=>u(),"aria-labelledby":`${a}.dialog-title`},s.createElement(o.Fv,{analyticsId:`${r}.dialog-title`,onClose:()=>u(),id:`${a}.dialog-title`,closeLabel:d("global.close")},d(e)),s.createElement(o.Wy,{analyticsId:`${r}.dialog-content`},s.createElement(o.pP,{analyticsId:`${r}.dialog-description`,id:`${a}.dialog-description`},d(t))),s.createElement(o.gS,{analyticsId:`${r}.dialog-events`},s.createElement(o.wJ,{analyticsId:`${r}.dialog.cancel.button`,onClick:()=>u()},d("global.cancel")),s.createElement(o.Hu,{analyticsId:`${r}.dialog.confirm.button`,onClick:()=>u(!0)},d(l))))}},651512:(e,t,r)=>{"use strict";r(542633);var s=r(56684);r(362420),r(332014),r(935539),r(828650),s.mj,r(362420),r(332014),r(935539),r(828650),r(362420),r(332014),r(935539),r(828650)},654602:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});let s={ALIGN_GOALS_FOR_INSTRUCTOR:"question-goal-alignment",ALIGN_GOALS_FOR_STUDENT:"question-goal-alignment-for-student"}},661266:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});var s=r(56684);class n extends s.pT{constructor(e){super("/v1/courses/%courseId%/adaptiveReleaseRules/performanceItems",e)}}},669525:(e,t,r)=>{"use strict";r(542633);var s=r(56684);s.mj,s.kz},671400:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});var s=r(534579);class n extends s.G{}},672089:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(820151);s.A.createChange=(e=!0)=>({format:{"code-block":e,align:"left"}});let n=s.A},673609:(e,t,r)=>{"use strict";r.d(t,{P:()=>n});var s=r(681908);function n(e,t){let r=(0,s.xA)((0,s.F3)(e,t));window.open(r,"_self")}},675621:(e,t,r)=>{"use strict";r.d(t,{m:()=>o});var s=r(608719),n=r(825271);let o=(0,r(853400).Y)(s.EK0,n.dZ)},677335:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var s=r(877973);let n="10px",o=(0,s.n9)(e=>(0,s.rU)({root:{color:e.palette.text.primary,display:"flex",flexFlow:"wrap",position:"relative",transform:"translateZ(0)","&:hover $rootControlsInline button":{backgroundColor:e.palette.background.b9,color:e.palette.secondary.light},"&:hover $rootControlsInline button:hover":{color:e.palette.primary.contrastText}},rootControls:{display:"flex",flex:"1 0 100%",order:1,alignItems:"stretch",minHeight:"58px",minWidth:0},rootControlsWidgets:{"@media print":{display:"none"},display:"flex","& button":{color:e.palette.text.secondary,height:"100%",minHeight:"48px",width:"48px",borderRadius:"0"},"& button:hover, & button:focus":{backgroundColor:e.palette.background.b4,color:e.palette.primary.main}},rootControlsInline:{flex:"0 1 auto",position:"absolute",right:0,zIndex:100,minHeight:"auto","& $rootControlsWidgets":{flexDirection:"column-reverse"}},rootBackground:{backgroundColor:e.palette.background.paper,"@media print":{border:"1px solid"}},contextMenu:{display:"flex",marginLeft:"auto"},inlineRenderToggle:{display:"flex"},inlineRenderToggleSeparator:{alignSelf:"center",borderLeft:`1px solid ${e.palette.background.b5}`,height:"50%",width:"1px"},mediaRoot:{margin:"0 auto",order:2,textAlign:"center",width:"100%"},documentPreviewHidden:{height:0,display:"none","div& iframe":{height:0,minHeight:0,visibility:"hidden"}},mediaRootInline:{order:0},attachmentMeta:{display:"flex",alignItems:"center",flex:1,height:"100%",minWidth:0,paddingLeft:n,paddingRight:n,wordBreak:"break-all"},attachmentMetaClickable:{"&:hover,&:focus":{backgroundColor:e.palette.background.b4,cursor:"pointer",textDecoration:"underline"}},icon:{marginRight:"10px"},fileText:{flexShrink:1,lineHeight:"unset",textAlign:"unset",fontWeight:e.typography.fontWeightBold},contextMenuHovered:{"& svg":{color:e.palette.primary.main},"& button.is-expanded svg":{color:e.palette.brand.main}},fileHasError:{color:e.palette.error.main},fileSubText:{color:e.palette.text.secondary}}))},679293:(e,t,r)=>{"use strict";r.d(t,{W:()=>a});var s=r(514041),n=r(309546),o=r(877973);let i=(0,o.n9)(e=>(0,o.rU)({footerRoot:{display:"flex",justifyContent:"flex-end",backgroundColor:e.palette.background.b2,borderTop:`1px solid ${e.palette.border.main}`,padding:"15px",gap:"10px","& > button":{flex:"1 1 0",[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:"170px",flexBasis:"auto"}}},peek:{justifyContent:"center"}})),a=e=>{let{children:t,peek:r}=e,o=i();return s.createElement("footer",{className:(0,n.A)(o.footerRoot,r&&o.peek,e.className),role:"contentinfo"},t)}},680087:(e,t,r)=>{"use strict";r.d(t,{o:()=>i});var s=r(968554),n=r(846576);let o={SUBMIT_DIRECT_SUBMIT_UPLOAD_SUBMISSION:"direct.submit.upload.submission"},i={postDirectSubmitUploadSubmission:(e,t)=>(0,s.VP)(o.SUBMIT_DIRECT_SUBMIT_UPLOAD_SUBMISSION,()=>(0,n.$i)(e,t).then(e=>e.ok),{})}},681067:(e,t,r)=>{"use strict";r.d(t,{W:()=>a});var s=r(514041),n=r(645250),o=r(322327),i=r(951777);let a=s.memo(({analyticsId:e,item:t,onChange:r})=>{let n=(0,o.I)();return s.createElement(i.on,{analyticsId:`${e}.listItem`,className:n.listItem,disableGutters:!0},s.createElement(i.wB,{analyticsId:`${e}.formControlLabel`,label:t.label,htmlFor:`ind-checkbox-${t.value}`,control:s.createElement(i.Yc,{analyticsId:`${e}.multiSelectItem.input.checkbox`,id:`ind-checkbox-${t.value}`,checked:t.checked,value:t.value,onChange:r})}))},n.isEqual)},683392:(e,t,r)=>{"use strict";r.d(t,{Io:()=>o,cs:()=>i});var s=r(139552);let n=e=>e.questionAttempt.questionAttemptsById,o=(0,s.Mz)(n,(e,t)=>t,(e,t)=>e[t]),i=(0,s.Mz)(n,(e,t)=>e.questionAttempt.questionAttemptsByAttemptIds[t],(e,t)=>null==t?void 0:t.map(t=>e[t]))},683732:(e,t,r)=>{"use strict";r(216693),r(601478),r(407659)},685190:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(376392);s.A.createChange=(e=!0)=>({format:{strike:e}});let n=s.A},689133:(e,t,r)=>{"use strict";r.d(t,{sX:()=>I,iF:()=>A,r3:()=>u,yx:()=>s,oE:()=>n,mn:()=>g,Vp:()=>o,zs:()=>i,hR:()=>a,T8:()=>l,D3:()=>E,$V:()=>y.A,Vd:()=>p,f3:()=>m,XM:()=>d,y8:()=>c});let s={id:"editAttachment",type:"attachment"},n={id:"editYoutubeVideo",type:"embedded-app"},o=[s,n],i={maxFileMB:2500,maxFileSize:262144e4},a={Bold:"bold",Italic:"italic",Underline:"underline",Superscript:"superscript",Strike:"strike",Subscript:"subscript",List:"list"},l=["font","bold","italic","size","color","strike","underline","superscript","subscript"],u=["header","list","align","lineheight","direction"],d={small:"small",medium:"medium",large:"large"},c={default:"default",minimal:"minimal"},E=764,p=554,m=268,g={BLURRED:"blurred",FOCUSED:"focused",TOOLBAR:"toolbar"};var y=r(811379);r(151927);let I="bb-editor",A=["small","medium","large"]},693499:(e,t,r)=>{"use strict";r.d(t,{w:()=>l});var s=r(793741),n=r(410900),o=r(608719),i=r(406814);let a="contentCollection",l=e=>[{pluginId:a,buttonConfig:function(e){return{id:a,cssClass:a,iconName:"content-collection",iconComponent:i.A,isDialog:!0,isActive:()=>!1,onClick:t=>{var r;null==(r=t.onModalOpen)||r.call(t,!0),e.getOpenContentCollectionFunction(r=>{var i;let a=r.map(e=>{let t=decodeURIComponent(e.name);return{href:e.fullUrl,bbfile:{alternativeText:t,linkName:t,mimeType:e.type,render:o.hH4.Inline,fileSize:"number"==typeof e.size?e.size:parseInt(e.size,10)},originalFile:e}}).filter(e=>!!e.href),l=[];a.length>1?(a.forEach(({href:e,bbfile:t})=>{l=l.concat((0,n.A)(e,t,!0))}),t.applyChange(l),null==(i=t.onModalOpen)||i.call(t,!1)):1===a.length&&(0,s.mS)(a[0].bbfile,t.showModal,e,t,a[0].href)})}}}(e)}]},695067:(e,t,r)=>{"use strict";r.d(t,{o1:()=>N,Ff:()=>L,Lt:()=>U});var s=r(905898),n=r(956284),o=r(968554),i=r(750609),a=r(306611),l=r(170228),u=r(97082),d=r(895703),c=r(808954),E=r(437272),p=r(246206);let m=(0,r(139552).Mz)((e,t)=>{var r;return null==(r=e.columnSummary.byCourseId[t])?void 0:r.columns},(e,t)=>t,(e,t,r)=>null!=r?r:n.Lr.MyStudents,(e,t,r)=>{if(!e)return[];let s=null!=r?r:n.Lr.MyStudents;return Object.values(e).filter(e=>(0,a.l)(e,s)).map(e=>e[s])});var g=r(645250),y=r.n(g),I=r(764209),A=r(612918),h=r(243502);let _=(e,t)=>(0,s.Ay)(e,e=>{var r;for(let s of Object.values(n.Lr))(null==(r=e.byColumnId[t])?void 0:r[s])&&(e.byColumnId[t]={...e.byColumnId[t],[s]:{...e.byColumnId[t][s],status:A.E1}})}),b=(e,t)=>(0,s.Ay)(e,e=>{var r;if(t){let s=e.views.byCourseId[t];s&&Object.keys(s).forEach(e=>s[e].isValid=!1);let n=null==(r=e.byCourseId[t])?void 0:r.columnSummariesCounts;n&&(void 0!==n.needsGrading&&(n.needsGrading.status=A.E1),void 0!==n.needsPosting&&(n.needsPosting.status=A.E1),void 0!==n.needsReconciling&&(n.needsReconciling.status=A.E1))}}),S=(e,t)=>{var r;for(let s of[n.Lr.Default,n.Lr.MyStudents,n.Lr.Overview]){let n=null==(r=e.byColumnId[t])?void 0:r[s];if(null==n?void 0:n.value)return n.value.courseId}},T=e=>["views","byCourseId",e.courseId],O=e=>["byColumnId",e.columnId,e.columnSummaryType],v=e=>["byCourseId",e.courseId,"columnSummariesCounts",e.filter],f=(e,t)=>{if(!t)return o.Vc;let r=e.views.byCourseId[t.courseId]||{},s=Object.keys(r).find(e=>{let s=r[e],n=y().isEqual(s.query.paging,t.paging),o=y().isEqual(s.query.filter,t.filter),i=y().isEqual(s.query.sort,t.sort);return n&&i&&o});return s?{id:s,view:r[s]}:o.Vc},C=(e,t)=>{var r;if(!(null==(r=e.query)?void 0:r.courseId))return!1;let{view:s}=f(t.getState().columnSummary,e.query);return!s||!s.isLoading&&!s.isValid};function R(e,t,r){var s,o,i,a,l;let u=null!=r?r:n.Lr.MyStudents,d=function(e,t,r){var s,o,i,a,l;let{columnId:u}=e,d=null==(o=null==(s=r.byColumnId[u])?void 0:s[t])?void 0:o.value,c=function(e,t,r){var s,o,i,a;if(r!==n.Lr.Overview)return;let{columnId:l}=e,u=null==(i=null==(o=null==(s=t.byColumnId)?void 0:s[l])?void 0:o[n.Lr.Overview])?void 0:i.value;return null!=(a=e.oldestUngradedAttempt)?a:null==u?void 0:u.oldestUngradedAttempt}(e,r,t);return t!==n.Lr.Overview?{...e,oldestUngradedAttempt:c}:{...e,oldestUngradedAttempt:c,numSubmissionsNeedsGrading:null!=(i=e.numSubmissionsNeedsGrading)?i:null==d?void 0:d.numSubmissionsNeedsGrading,numStudentsSubmissionGradedNeedsPosting:null!=(a=e.numStudentsSubmissionGradedNeedsPosting)?a:null==d?void 0:d.numStudentsSubmissionGradedNeedsPosting,numSubmissionsNeedsReconciling:null!=(l=e.numSubmissionsNeedsReconciling)?l:null==d?void 0:d.numSubmissionsNeedsReconciling}}(t,u,e);e.byColumnId[t.columnId]={...e.byColumnId[t.columnId],[u]:{value:d,status:A.y_}},e.byCourseId[t.courseId]={...e.byCourseId[t.courseId],columns:{...null==(s=e.byCourseId[t.courseId])?void 0:s.columns,[t.columnId]:{...null==(i=null==(o=e.byCourseId[t.courseId])?void 0:o.columns)?void 0:i[t.columnId],[u]:d}},columnSummariesCounts:null!=(l=null==(a=e.byCourseId[t.courseId])?void 0:a.columnSummariesCounts)?l:{}}}let D=(e,t)=>(t.columnId&&(e=_(e,t.columnId)),b(e,t.courseId)),L=(0,o.vy)({byColumnId:{},byCourseId:{},isLoading:!1,views:{byCourseId:{}}},{[a.g.COLUMN_SUMMARY_LOAD]:(0,A.vR)(O,A.vq),[a.g.COLUMN_SUMMARY_SET_LOADING]:(0,A.vR)(O,A.vq),[a.g.COLUMN_SUMMARY_INVALIDATE]:(e,t)=>{let r=t.columnId,s=S(e=_(e,r),r);return b(e,s)},[(0,o.ok)(l.g.GRADEBOOK_GRADE_POST_GRADE_BY_GRADE_ID)]:(e,t)=>{let r=t.columnId,s=S(e=_(e,r),r);return b(e,s)},[(0,o.ok)(u.g.GRADEBOOK_GROUP_GRADE_POST_GRADE_BY_GROUP_ASSOCIATION_ID)]:(e,t)=>{let r=t.columnId,s=S(e=_(e,r),r);return b(e,s)},[(0,o.ok)(l.g.GRADEBOOK_GRADE_PERSIST_BY_USER_ID)]:(e,t)=>{let r=t.grade.columnId,s=S(e=_(e,r),r);return b(e,s)},[(0,o.ok)(d.g.GRADEBOOK_COLUMN_POST_READY_GRADES)]:(e,t)=>{let r=t.columnId,s=S(e=_(e,r),r);return b(e,s)},[(0,o.ok)(l.g.GRADEBOOK_GRADE_PERSIST_BY_GRADE_ID)]:(e,t)=>{let r=t.grade.columnId,s=S(e=_(e,r),r);return b(e,s)},[(0,o.ok)(u.g.GRADEBOOK_GROUP_GRADE_UPDATE_MEMBERS_GRADE_ID)]:(e,t)=>{let r=t.params.columnId,s=S(e=_(e,r),r);return b(e,s)},[(0,o.ok)(a.g.COLUMN_SUMMARY_LOAD)]:(e,t)=>{let r=(0,s.Ay)(e,e=>{let{columnSummary:r,columnSummaryType:s}=t;r&&R(e,r,s)});return(0,o.Zg)(r,t)},[(0,o.fJ)(a.g.COLUMN_SUMMARY_LOAD)]:(0,A.vR)(O,A.JL),[a.g.COLUMN_SUMMARY_LOAD_MULTIPLE]:o.r1,[(0,o.ok)(a.g.COLUMN_SUMMARY_LOAD_MULTIPLE)]:(e,t)=>{let r=(0,s.Ay)(e,e=>{let{columnSummaries:r,columnSummaryType:s}=t;r&&Object.keys(r).forEach(t=>{R(e,r[t],s)})});return(0,o.Zg)(r,t)},[(0,o.fJ)(a.g.COLUMN_SUMMARY_LOAD_MULTIPLE)]:o.Nh,[(0,o.ok)(c.g.GRADEBOOK_ATTEMPT_UPDATE)]:(e,t)=>{let{attempt:r}=t,s=r.columnId;return s&&(e=_(e,s)),b(e,r.courseId)},[(0,o.ok)(E.g.GRADEBOOK_GROUP_ATTEMPT_UPDATE)]:(e,t)=>{let{groupAttempt:r}=t,s=r.columnId;return s&&(e=_(e,s)),b(e,r.courseId)},[(0,o.ok)(p.g.GRADED_QUESTION_ATTEMPT_PERSIST)]:(e,t)=>{let{columnId:r,courseId:s}=t.data.dependents;return r?b(e=_(e,r),s):e},[(0,o.ok)(p.g.GRADED_QUESTION_ATTEMPT_FOR_GROUP_PERSIST)]:(e,t)=>{let{columnId:r,courseId:s}=t.data.dependents;return r?b(e=_(e,r),s):e},[(0,o.ok)(d.g.GRADEBOOK_COLUMN_DELETE)]:(e,t)=>{let{gradebookColumn:r}=t;return(null==r?void 0:r.id)?e:b(e=_(e,null==r?void 0:r.id),null==r?void 0:r.courseId)},[a.g.COLUMN_SUMMARIES_OVERVIEW_LOAD_BY_QUERY]:(0,o.Dh)(f,T),[(0,o.ok)(a.g.COLUMN_SUMMARIES_OVERVIEW_LOAD_BY_QUERY)]:(e,t)=>{let{columnSummariesOverview:r,columnIds:i,paging:a}=t.data;return r?(e=(0,s.Ay)(e,e=>{Object.keys(r).forEach(t=>{R(e,r[t],n.Lr.Overview)})}),(0,o.lY)(e,t,{viewResolver:f,viewsPathResolver:T,paging:a,values:i})):(0,o.Zg)(e,t)},[(0,o.fJ)(a.g.COLUMN_SUMMARIES_OVERVIEW_LOAD_BY_QUERY)]:o.Nh,[(0,o.ok)(I.g.CONTENT_DELETE_IN_STORE)]:(e,t)=>{let{courseId:r}=t;return b(e,r)},[(0,o.ok)(d.g.GRADEBOOK_COLUMN_PERSIST)]:(e,t)=>{let{gradebookColumn:r}=t;return b(e,null==r?void 0:r.courseId)},[(0,o.fJ)(a.g.COLUMN_SUMMARIES_OVERVIEW_LOAD_COUNTS)]:(0,A.vR)(v,A.JL),[a.g.COLUMN_SUMMARIES_OVERVIEW_LOAD_COUNTS]:(0,A.vR)(v,A.vq),[(0,o.ok)(a.g.COLUMN_SUMMARIES_OVERVIEW_LOAD_COUNTS)]:(e,t)=>{let{courseId:r,needsGrading:n,needsPosting:i,needsReconciling:a}=t.data;if(r){let t=e=>void 0!==e?{value:e,status:A.y_}:void 0,o=t(n),l=t(i),u=t(a);e=(0,s.Ay)(e,e=>{let t=e.byCourseId[r],s=t.columnSummariesCounts;e.byCourseId[r]={...t,columnSummariesCounts:{needsGrading:null!=o?o:s.needsGrading,needsPosting:null!=l?l:s.needsPosting,needsReconciling:null!=u?u:s.needsReconciling}}})}return(0,o.Zg)(e,t)},[(0,o.ok)(a.g.COLUMN_SUMMARY_INVALIDATE_BY_COURSE_ID)]:(e,t)=>b(e,t.courseId),[(0,o.ok)(c.g.GRADEBOOK_ATTEMPT_DELETE)]:(e,t)=>{let{attempt:r}=t,s=r.columnId;return s&&(e=_(e,s)),b(e,r.courseId)},[(0,o.ok)(h.gK.ADAPTIVE_RELEASE_RULES_CREATE)]:D,[(0,o.ok)(h.gK.ADAPTIVE_RELEASE_RULE_DELETE)]:D,[(0,o.ok)(I.g.CONTENT_DELETE_ALL_ADAPTIVE_RELEASE_IN_STORE)]:D}),N={loadColumnSummary:({courseId:e,columnId:t,columnSummaryType:r=n.Lr.MyStudents})=>(0,o.Vy)(a.g.COLUMN_SUMMARY_LOAD,async()=>({columnSummary:await (0,i.l$3)(e,t,r===n.Lr.Default?{allStudents:!0}:void 0),columnSummaryType:r}),{data:{columnId:t,courseId:e,columnSummaryType:r},condition:(e,t)=>{var r;let s=null==(r=t.getState().columnSummary.byColumnId[e.columnId])?void 0:r[e.columnSummaryType];return(0,A.qO)(null==s?void 0:s.status)}}),loadColumnSummaries:({courseId:e,columnIds:t,columnSummaryType:r=n.Lr.MyStudents})=>(0,o.VP)(a.g.COLUMN_SUMMARY_LOAD_MULTIPLE,async s=>(0,i.xP2)(e,t,r===n.Lr.Default?{allStudents:!0}:void 0).then(e=>({columnSummaries:e.columnSummaries,columnSummaryType:r}))),loadColumnSummariesOverviewByQuery:e=>(0,o.Vy)(a.g.COLUMN_SUMMARIES_OVERVIEW_LOAD_BY_QUERY,async()=>({data:await (0,i.F9B)(e),query:e}),{data:{query:e},condition:C}),loadColumnSummariesOverviewCount:e=>(0,o.Vy)(a.g.COLUMN_SUMMARIES_OVERVIEW_LOAD_COUNTS,async()=>({data:await (0,i.uW3)(e),query:e}),{data:{...e},condition:(e,t)=>{var r;let s=null==(r=t.getState().columnSummary.byCourseId[e.courseId])?void 0:r.columnSummariesCounts[e.filter];return(0,A.qO)(null==s?void 0:s.status)}}),setColumnSummaryInStore:({columnSummary:e,columnSummaryType:t=n.Lr.MyStudents})=>(0,o.rc)((0,o.ok)(a.g.COLUMN_SUMMARY_LOAD),{columnSummary:e,columnSummaryType:t}),invalidateColumnSummary:e=>(0,o.rc)(a.g.COLUMN_SUMMARY_INVALIDATE,{columnId:e}),invalidateColumnSummaryViewsByCourseId:e=>(0,o.RA)(async t=>{t((0,o.rc)((0,o.ok)(a.g.COLUMN_SUMMARY_INVALIDATE_BY_COURSE_ID),{courseId:e}))}),setLoading:({courseId:e,columnId:t,columnSummaryType:r=n.Lr.MyStudents})=>(0,o.rc)(a.g.COLUMN_SUMMARY_SET_LOADING,{courseId:e,columnId:t,columnSummaryType:r})},U={getColumnSummaryByColumnId:(e,t,r=n.Lr.MyStudents)=>{var s,o;return null==(o=null==(s=e.columnSummary.byColumnId[t])?void 0:s[r])?void 0:o.value},getColumnSummariesByCourseId:m,isLoading:(e,t,r=n.Lr.MyStudents)=>{var s,o;return(null==(o=null==(s=e.columnSummary.byColumnId[t])?void 0:s[r])?void 0:o.status)===A.vq},isValid:(e,t,r=n.Lr.MyStudents)=>{var s,o;return(null==(o=null==(s=e.columnSummary.byColumnId[t])?void 0:s[r])?void 0:o.status)===A.y_},shouldFetchColumnSummary:(e,t,r=n.Lr.MyStudents)=>{var s,o;return(0,A.qO)(null==(o=null==(s=e.columnSummary.byColumnId[t])?void 0:s[r])?void 0:o.status)},getColumnSummariesOverviewByQuery:(e,t)=>{let{view:r}=f(e.columnSummary,t);return r?(r.values||[]).map(r=>{var s,o,i;return null==(i=null==(s=e.columnSummary.byColumnId[r])?void 0:s[null!=(o=t.columnSummaryType)?o:n.Lr.MyStudents])?void 0:i.value}):[]},getColumnSummariesOverviewViewStatusByQuery:(e,t)=>{let{view:r}=f(e.columnSummary,t);return r?{isLoading:r.isLoading,isValid:r.isValid,paging:r.paging}:null},getColumnSummariesCount:(e,t)=>{var r,s;return null==(s=null==(r=e.columnSummary.byCourseId[t.courseId])?void 0:r.columnSummariesCounts[t.filter])?void 0:s.value},shouldFetchColumnSummariesCountbyQuery:(e,t)=>{var r,s;return(0,A.qO)(null==(s=null==(r=e.columnSummary.byCourseId[t.courseId])?void 0:r.columnSummariesCounts[t.filter])?void 0:s.status)},isLoadingColumnSummariesCountByQuery:(e,t)=>{var r,s,n,o;if(null==(s=null==(r=e.columnSummary.byCourseId[t.courseId])?void 0:r.columnSummariesCounts[t.filter])?void 0:s.status)return(null==(o=null==(n=e.columnSummary.byCourseId[t.courseId])?void 0:n.columnSummariesCounts[t.filter])?void 0:o.status)===A.vq}}},695299:(e,t,r)=>{"use strict";r.d(t,{o1:()=>I,Ff:()=>g,Lt:()=>y});var s=r(905898),n=r(968554),o=r(397965),i=r(847948),a=r(645250),l=r(608719);class u extends i.Z{constructor(e){super(e,"SystemPreferenceValueMissing")}}let d="/v1/systemPreferences/%key%";async function c(e){try{return await (0,o.Jt)((0,o.c$)(d,e))}catch(e){var t,r;throw(null==(t=null==e?void 0:e.error)?void 0:t.status)===l.t3V.NotFound&&(0,a.includes)(null==(r=null==e?void 0:e.error)?void 0:r.message,"No value was found for given preference key")?new u(e.error):e}}async function E(e){let t=(0,o.c$)(d,{key:e.key});return(0,o.yJ)(t,e)}var p=r(758247);let m={SYSTEM_PREFERENCE_LOAD:"system-preference.load",SYSTEM_PREFERENCE_PERSIST:"system-preference.persist"},g=(0,n.vy)({systemPreferences:{}},{[m.SYSTEM_PREFERENCE_LOAD]:(e,t)=>(0,s.Ay)(e,e=>{e.systemPreferences[t.key]||(e.systemPreferences[t.key]={api:{},key:t.key}),e.systemPreferences[t.key].api.isLoading=!0}),[(0,n.ok)(m.SYSTEM_PREFERENCE_LOAD)]:(e,t)=>{let{systemPreference:r}=t;return(0,s.Ay)(e,e=>{var t;e.systemPreferences[r.key]={...r,api:{isUpdating:!1,isDeleting:!1,isLoading:!1},ui:null==(t=e.systemPreferences[r.key])?void 0:t.ui}})},[(0,n.cw)(m.SYSTEM_PREFERENCE_LOAD)]:(e,t)=>(0,s.Ay)(e,e=>{e.systemPreferences[t.key]||(e.systemPreferences[t.key]={api:{},key:t.key}),e.systemPreferences[t.key].api.isLoading=!1}),[(0,n.fJ)(m.SYSTEM_PREFERENCE_LOAD)]:(e,t)=>(0,s.Ay)(e,e=>{e.systemPreferences[t.key]||(e.systemPreferences[t.key]={api:{},key:t.key}),e.systemPreferences[t.key].api||(e.systemPreferences[t.key].api={}),e.systemPreferences[t.key].api.isLoading=!1}),[m.SYSTEM_PREFERENCE_PERSIST]:(e,t)=>(0,s.Ay)(e,e=>{e.systemPreferences[t.nextSystemPreference.key]||(e.systemPreferences[t.nextSystemPreference.key]={}),e.systemPreferences[t.nextSystemPreference.key].api||(e.systemPreferences[t.nextSystemPreference.key].api={}),e.systemPreferences[t.nextSystemPreference.key].api.isUpdating=!0}),[(0,n.ok)(m.SYSTEM_PREFERENCE_PERSIST)]:(e,t)=>{let{systemPreference:r}=t,n={...r,api:{...e.systemPreferences[r.key].api,isUpdating:!1},ui:e.systemPreferences[r.key]&&e.systemPreferences[r.key].ui};return(0,s.Ay)(e,e=>{e.systemPreferences[n.key]=n})},[(0,n.fJ)(m.SYSTEM_PREFERENCE_PERSIST)]:(e,t)=>(0,s.Ay)(e,e=>{e.systemPreferences[t.nextSystemPreference.key]||(e.systemPreferences[t.nextSystemPreference.key]={}),e.systemPreferences[t.nextSystemPreference.key].api||(e.systemPreferences[t.nextSystemPreference.key].api={}),e.systemPreferences[t.nextSystemPreference.key].api.isUpdating=!1})}),y={getSystemPreferenceByKey:(e,t)=>{var r,s;return null==(s=null==(r=null==e?void 0:e.systemPreference)?void 0:r.systemPreferences)?void 0:s[t]},isSystemPreferenceLoading:(e,t)=>{var r,s;return!!(null==(s=null==(r=y.getSystemPreferenceByKey(e,t))?void 0:r.api)?void 0:s.isLoading)}},I={loadSystemPreference:e=>(0,n.RA)(async(t,r)=>{let{key:s,shouldLoadWhilePending:o}=e;if(!function(e,t,r){let s=!!y.getSystemPreferenceByKey(e,t),n=y.isSystemPreferenceLoading(e,t);return(!s||!!n)&&(!s||r)}(r(),s,o))return{systemPreference:y.getSystemPreferenceByKey(r(),e.key)};t((0,n.rc)(m.SYSTEM_PREFERENCE_LOAD,{key:s}));try{let r=await c(e);return t((0,n.rc)((0,n.ok)(m.SYSTEM_PREFERENCE_LOAD),{key:s,systemPreference:r})),{systemPreference:r}}catch(e){if(e instanceof u)return t((0,n.rc)((0,n.cw)(m.SYSTEM_PREFERENCE_LOAD),{key:s})),null;throw t((0,n.rc)((0,n.fJ)(m.SYSTEM_PREFERENCE_LOAD),{key:s})),t((0,n.rc)((0,n.ok)(p.A.APP_ERROR),{error:e})),e}}),persistSystemPreference:e=>(0,n.VP)(m.SYSTEM_PREFERENCE_PERSIST,()=>E(e).then(e=>({systemPreference:e})).catch(e=>{throw{err:e}}),{nextSystemPreference:e})}},700714:(e,t,r)=>{"use strict";var s;r.d(t,{M:()=>s,o:()=>n}),function(e){e.Aborted="Aborted",e.Unknown="Unknown",e.API="API"}(s||(s={}));class n{constructor(e){this._type=e}get errorType(){return this._type}}},700804:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,O:()=>o});var s=r(542633),n=r(21008);function o(e,t,r){let o=new n.Zh(t).withQueryParams(r).withSession(e);return(0,s.w)(o)}function i(e,t,r){let o=new n.EA(t).withQueryParams(r).withSession(e);return(0,s.w)(o)}},706045:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});var s=r(56684);class n extends s.mj{constructor(){super("/public/v1/uploads/settings")}}},706152:(e,t,r)=>{"use strict";var s=r(56684);s.w_,s.w_},707301:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=[".mp4"]},710117:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var s=r(56684);class n extends s.mj{constructor(e){super("webapps/partner-cloud/app/v1/providers/%providerId%/settings",e)}}var o=r(542633);async function i(e,t){let r=new n({providerId:t}).withSession(e);return(0,o.w)(r)}},712321:(e,t,r)=>{"use strict";r.d(t,{o1:()=>d,Ff:()=>u,Lt:()=>c});var s=r(905898),n=r(675621),o=r(612918),i=r(968554);let a={SYSTEM_TOOL_LOAD:"system-tool.load"},l=e=>["byIdentifier",e.identifier],u=(0,i.vy)({byIdentifier:{}},{[a.SYSTEM_TOOL_LOAD]:(0,o.vR)(l,o.vq),[(0,i.ok)(a.SYSTEM_TOOL_LOAD)]:(e,t)=>{let{systemTool:r}=t;return(0,s.Ay)(e,e=>{e.byIdentifier[r.identifier]={status:o.y_,value:r}})},[(0,i.fJ)(a.SYSTEM_TOOL_LOAD)]:(0,o.vR)(l,o.JL)}),d={loadSystemTool:e=>(0,i.Vy)(a.SYSTEM_TOOL_LOAD,async()=>{try{let t=await (0,n.m)(e);return{identifier:e,systemTool:t}}catch(t){throw new i.GS(t).setData({identifier:e})}},{data:{identifier:e},condition:(t,{getState:r})=>{var s;return(0,o.qO)(null==(s=c.getSystemToolByIdentifier(r(),e))?void 0:s.status)}})},c={getSystemToolByIdentifier:(e,t)=>e.systemTools.byIdentifier[t]}},713082:(e,t,r)=>{"use strict";r.d(t,{o1:()=>p,Ff:()=>E,Lt:()=>m});var s=r(905898),n=r(349134),o=r(56174),i=r(747265),a=r(968554);let l=(0,r(139552).Mz)(e=>e.exceptionDetails.byCourseMembershipId,(e,t)=>t,(e,t)=>Object.values(e).map(e=>null==e?void 0:e.byColumnId[t]).filter(e=>void 0!==e));var u=r(645250);let d=e=>["views","byCourseId",e.courseId],c=(e,t)=>{var r;if(!t)return{id:null,view:null};let s=null!=(r=e.views.byCourseId[t.courseId])?r:{},n=Object.keys(s).find(e=>{let r=s[e];return"membershipId"in r.query?t.columnId===r.query.columnId&&"membershipId"in t&&t.membershipId===r.query.membershipId:"groupId"in r.query?t.columnId===r.query.columnId&&"groupId"in t&&t.groupId===r.query.groupId:(0,u.isEqual)(r.query,t)});return{id:null!=n?n:null,view:n?s[n]:null}},E=(0,a.vy)({views:{byCourseId:{}},byCourseMembershipId:{},byGroupId:{},isLoading:!1},{[o.g.EXCEPTION_DETAILS_LOAD]:(e,t)=>{let r=(0,s.jM)(e,e=>{let{courseId:r,columnIds:s,membershipId:n}=t.query;s.forEach(t=>{(0,a.gD)(e,(0,a.Dh)(c,d)(e,{type:o.g.EXCEPTION_DETAILS_LOAD,query:{courseId:r,columnId:t,membershipId:n}}))})});return(0,a.r1)(r,t)},[(0,a.ok)(o.g.EXCEPTION_DETAILS_LOAD)]:(e,t)=>{let{query:r,data:{learnExceptionDetails:n}}=t,{courseId:i,columnIds:l,membershipId:u}=r,E=(0,s.jM)(e,e=>{n&&n.length>0?n.forEach(t=>{var r,s,n,l;let E=null!=(s=e.byCourseMembershipId[null!=(r=t.membershipId)?r:u])?s:{byColumnId:{}};E.byColumnId[t.columnId]=t,e.byCourseMembershipId[null!=(n=t.membershipId)?n:u]=E,(0,a.gD)(e,(0,a.lY)(e,{type:(0,a.ok)(o.g.EXCEPTION_DETAILS_LOAD),query:{courseId:i,columnId:t.columnId,membershipId:null!=(l=t.membershipId)?l:u}},{viewResolver:c,viewsPathResolver:d}))}):(u&&!l.length&&(0,a.gD)(e,(0,a.lY)(e,{type:(0,a.ok)(o.g.EXCEPTION_DETAILS_LOAD),query:{courseId:i,columnId:u}},{viewResolver:c,viewsPathResolver:d})),l.forEach(t=>{var r,s;(null==(r=e.byCourseMembershipId[u])?void 0:r.byColumnId[t])&&(null==(s=e.byCourseMembershipId[u])||delete s.byColumnId[t]),(0,a.gD)(e,(0,a.lY)(e,{type:(0,a.ok)(o.g.EXCEPTION_DETAILS_LOAD),query:{courseId:i,columnId:t,membershipId:u}},{viewResolver:c,viewsPathResolver:d}))})),u&&l.forEach(t=>{(0,a.gD)(e,(0,a.lY)(e,{type:(0,a.ok)(o.g.EXCEPTION_DETAILS_LOAD),query:{courseId:i,columnId:t,membershipId:u}},{viewResolver:c,viewsPathResolver:d}))})});return(0,a.Zg)(E,t)},[(0,a.fJ)(o.g.EXCEPTION_DETAILS_LOAD)]:a.Nh,[i.gK.GRADABLE_USER_OPTION_ITEM_LOAD]:(0,a.Dh)(c,d),[(0,a.ok)(i.gK.GRADABLE_USER_OPTION_ITEM_LOAD)]:(e,t)=>{let{courseId:r,columnId:n,byCourseMembershipId:o,byGroupId:i,type:l,...u}=t,E=(0,s.jM)(e,e=>{var t;u.fullDetails&&(i&&Object.entries(null!=i?i:{}).forEach(([t,s])=>{var o;null!=(o=e.byGroupId)[t]||(o[t]={byColumnId:{}}),e.byGroupId[t].byColumnId[n]=s,(0,a.gD)(e,(0,a.lY)(e,{type:l,query:{courseId:r,columnId:n,groupId:t}},{viewResolver:c,viewsPathResolver:d}))}),o&&Object.keys(o).forEach(t=>{var s;let i={...o[t]};null!=(s=e.byCourseMembershipId)[t]||(s[t]={byColumnId:{}}),e.byCourseMembershipId[t].byColumnId[n]=i,(0,a.gD)(e,(0,a.lY)(e,{type:l,query:{courseId:r,columnId:n,membershipId:t}},{viewResolver:c,viewsPathResolver:d}))}),null==(t=u.groupIds)||t.forEach(t=>{(0,a.gD)(e,(0,a.lY)(e,{type:l,query:{courseId:r,columnId:n,groupId:t}},{viewResolver:c,viewsPathResolver:d}))}),u.membershipIds&&u.membershipIds.forEach(t=>{(0,a.gD)(e,(0,a.lY)(e,{type:l,query:{courseId:r,columnId:n,membershipId:t}},{viewResolver:c,viewsPathResolver:d}))}))});return(0,a.lY)(E,{type:l,query:{courseId:r,columnId:n,...u}},{viewResolver:c,viewsPathResolver:d})},[(0,a.fJ)(i.gK.GRADABLE_USER_OPTION_ITEM_LOAD)]:(0,a.To)(c,d),[(0,a.ok)(i.gK.GRADABLE_USER_OPTION_ITEM_PUT)]:(e,t)=>{let{courseId:r,columnId:n,membershipId:o,groupId:i}=t.params;return(0,s.jM)(e,e=>{if(i){let t=c(e,{courseId:r,columnId:n,groupId:i});t.view&&(t.view.isValid=!1)}if(o){let t=c(e,{courseId:r,columnId:n,membershipId:o});t.view&&(t.view.isValid=!1)}})},[(0,a.ok)(i.gK.GRADABLE_USER_OPTION_ITEM_DELETE)]:(e,t)=>(0,s.jM)(e,e=>{var r,s;null==(r=e.byGroupId[t.groupId])||delete r.byColumnId[t.columnId],null==(s=e.byCourseMembershipId[t.membershipId])||delete s.byColumnId[t.columnId]}),[o.g.EXCEPTION_DETAILS_INVALIDATE_BY_COLUMN_ID]:(e,t)=>{let{columnId:r}=t;return(0,s.jM)(e,e=>{Object.values(e.views.byCourseId).forEach(e=>{Object.values(e).forEach(e=>{e.query.columnId===r&&(e.isValid=!1)})})})}}),p={fetchExceptionDetails:(e,t)=>{var r;let s={courseId:e.courseId,columnIds:null!=(r=t.columnId)?r:[],membershipId:e.membershipId},i={type:o.g.EXCEPTION_DETAILS_LOAD,query:s};return(0,a.VP)(o.g.EXCEPTION_DETAILS_LOAD,async()=>({query:s,data:await (0,n.s)(e,t)}),i)},deleteExceptionDetailByColumnIdAndMembershipIdInStore:(e,t)=>(0,a.rc)((0,a.ok)(i.gK.GRADABLE_USER_OPTION_ITEM_DELETE),{columnId:e,membershipId:t}),setExceptionDetailInStore:(e,t)=>(0,a.rc)((0,a.ok)(o.g.EXCEPTION_DETAILS_LOAD),{data:{learnExceptionDetails:t},query:{courseId:e,columnIds:[],membershipId:""}}),invalidateExceptionDetailsByColumnId:e=>(0,a.rc)(o.g.EXCEPTION_DETAILS_INVALIDATE_BY_COLUMN_ID,{columnId:e})},m={getExceptionDetailsMembershipId:(e,t)=>e.exceptionDetails.byCourseMembershipId[t],getExceptionDetailsByColumnIdAndMembershipId:(e,t,r)=>{var s;return null==(s=e.exceptionDetails.byCourseMembershipId[r])?void 0:s.byColumnId[t]},getExceptionDetailsByColumnId:l,isExceptionDetailsLoading:e=>e.exceptionDetails.isLoading,getExceptionDetailsViewStatusByQuery:(e,t)=>{let{view:r}=c(e.exceptionDetails,t);return r?{isLoading:r.isLoading,isValid:r.isValid}:null}}},713759:(e,t,r)=>{"use strict";r.d(t,{x:()=>n});var s=r(56684);class n extends s.Jk{constructor(){super("v1/utilities/batch")}}},714020:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s="collab_video"},715640:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(669418);s.A.createChange=(e=!0)=>({format:{italic:e}});let n=s.A},715777:(e,t,r)=>{"use strict";r.d(t,{o1:()=>w,Ff:()=>P,Lt:()=>k});var s=r(905898),n=r(645250),o=r(968554),i=r(956284),a=r(608719),l=r(924652),u=r(122235),d=r(76013),c=r(897582),E=r(764209),p=r(352290),m=r(758247),g=r(842804),y=r(820656);let I=(0,r(139552).Mz)(e=>e.question.questions,(e,t)=>t,(e,t)=>n.filter(e,{assessmentId:t,questionType:a.xib.PageBreak}));var A=r(246206),h=r(591835),_=r(193407),b=r(163785),S=r.n(b),T=r(728959);function O(e){a.xib.Matching===(null==e?void 0:e.questionType)&&e.answers.forEach(e=>{var t;(null==(t=null==e?void 0:e.ui)?void 0:t.id)||(e.ui={...e.ui,id:S().v4()})}),e&&(0,i.$$)(e)&&e.answers.forEach(e=>{var t;(null==(t=null==e?void 0:e.ui)?void 0:t.id)||(e.ui={...e.ui,id:S().v4()})})}let v=(e,t,r,s)=>{let n=e[t];n?n[r]=s:e[t]={[r]:s}},f=(e,t,r)=>{let s=e[t];Object.keys(s).length>1?delete s[r]:delete e[t]},C=e=>["views","byCourseId",e.courseId],R=(e,t)=>{var r;if(!t)return{id:null,view:null};let s=null!=(r=e.views.byCourseId[t.courseId])?r:{},i=Object.keys(s).find(e=>{let r=s[e];return"questionId"in r.query?"questionId"in t&&t.questionId===r.query.questionId&&t.courseId===r.query.courseId:!("questionId"in t)&&function(e,t){var r,s,o,i,a,l;let{assessmentId:u,courseId:d,filter:c,paging:E,refreshState:p,useSearch:m}=t,g=n.isEqual(E,e.paging)&&u===e.assessmentId&&d===e.courseId&&p===e.refreshState&&m===e.useSearch;if(!(null==e?void 0:e.filter)||!c)return g;if(!g)return!1;let{assessmentIds:y,categoryIds:I,excludeAssessmentIds:A,keywords:h,questionTypes:_,assessmentTypes:b}=c;return(!y||!!V(y,null==(r=e.filter)?void 0:r.assessmentIds))&&(!I||!!V(I,null==(s=e.filter)?void 0:s.categoryIds))&&(!A||!!V(A,null==(o=e.filter)?void 0:o.excludeAssessmentIds))&&(!h||!!V(h,null==(i=e.filter)?void 0:i.keywords))&&(!_||!!V(_,null==(a=e.filter)?void 0:a.questionTypes))&&(!b||!!V(b,null==(l=e.filter)?void 0:l.assessmentTypes))&&!0}(t,r.query)});return i?{id:i,view:s[i]}:o.Vc};function D(e,t){var r;t&&Object.values(null!=(r=e.views.byCourseId[t])?r:{}).forEach(e=>{e.isValid=!1})}function L(e,t,r){if(!t||!e.views.byCourseId[t])return;let s=Object.values(e.questions).filter(e=>(null==e?void 0:e.assessmentId)&&(null==r?void 0:r.includes(e.assessmentId))).map(e=>null==e?void 0:e.id);(!r||r.length<=0||s.length<=0)&&D(e,t),Object.values(e.views.byCourseId[t]).forEach(e=>{(null==e?void 0:e.values)&&e.values.find(e=>s.includes(e))&&(e.isValid=!1)})}let N=(e,t)=>({key:`questionsCopyShowTaskStatus${e.replace(/\_/g,".")}`,isRequired:!0,value:JSON.stringify({[t.taskId]:!0})}),U=new Set([a.rw8.Complete,a.rw8.CompleteErrors]),P=(0,o.vy)({copyQuestionsTaskByCourseId:{},fileUploadTasksByCourseId:{},importTasksByCourseId:{},isLoading:!1,paging:null,permissions:null,questions:{},views:{byCourseId:{}},hasStudentSubmission:{}},{[g.g.QUESTION_LOAD]:(0,o.Dh)(R,C),[(0,o.ok)(g.g.QUESTION_LOAD)]:(e,t)=>{if(!t||!t.data)return(0,o.Zg)(e,t);let{data:r}=t,{paging:i,permissions:a,questionIds:l,questions:u}=r,d=(0,s.Ay)(e,t=>{Object.keys(u).forEach(r=>{let s=e.questions[r],o=u[r],i=n.pickBy({contentId:null==s?void 0:s.contentId,permissions:(null==o?void 0:o.permissions)?null==o?void 0:o.permissions:null==s?void 0:s.permissions,ui:null==s?void 0:s.ui,questionIdsInBlock:null==s?void 0:s.questionIdsInBlock,sourceInfo:null==s?void 0:s.sourceInfo});O(u[r]),t.questions[r]={...u[r],ui:{},...i,api:{isUpdating:!1,isDeleting:!1}}})});return(0,o.lY)(d,t,{viewResolver:R,viewsPathResolver:C,paging:i,permissions:a,values:l})},[(0,o.fJ)(g.g.QUESTION_LOAD)]:(0,o.To)(R,C),[(0,o.ok)(g.g.QUESTION_CREATE)]:(e,t)=>(0,s.Ay)(e,r=>{let{nextQuestion:s}=t;O(s),"start"!==s.positionAfter&&(s={...s,position:e.questions[s.positionAfter].position+1});let n=e.questions[s.positionAfter]?e.questions[s.positionAfter].position+1:1,o=M(e.questions,s.assessmentId,!0,n);o.questions[s.id]=s,r.questions={...r.questions,...o.questions}}),[(0,o.ok)(g.g.QUESTIONS_CREATE)]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,assessmentId:s}=t;L(e,r,[s])}),[g.g.QUESTION_PERSIST]:(e,t)=>(0,s.Ay)(e,e=>{let{prevQuestion:r}=t;(null==r?void 0:r.id)&&(e.questions[r.id]={...e.questions[r.id],api:{...null==r?void 0:r.api,isUpdating:!0}})}),[(0,o.ok)(g.g.QUESTION_PERSIST)]:(e,t)=>(0,s.Ay)(e,r=>{var s;let{prevQuestion:n,question:o}=t;if(!(null==n?void 0:n.id)||!(null==o?void 0:o.id))return;if(O(o),0===n.id.indexOf(i.Gw)){let e={...o,api:{isUpdating:!1,isDeleting:!1}};r.questions[o.id]=e,delete r.questions[n.id],D(r,e.courseId);return}let a=e.questions[o.id],l={...o,...a.questionIdsInBlock&&{questionIdsInBlock:a.questionIdsInBlock},...a.sourceInfo&&{sourceInfo:a.sourceInfo},api:{...a.api,isUpdating:!1},...a.ui&&{ui:a.ui},aiState:o.aiState};if((null==n?void 0:n.position)&&(null==l?void 0:l.position)&&n.position!==l.position){let t=l.position<n.position,o=t?l.position:n.position+1,i=t?n.position-1:l.position,a=M(e.questions,null!=(s=null==l?void 0:l.assessmentId)?s:"",t,o,i);r.questions={...r.questions,...a.questions}}r.questions={...r.questions,[l.id]:l},D(r,l.courseId)}),[(0,o.fJ)(g.g.QUESTION_PERSIST)]:(e,t)=>(0,s.Ay)(e,e=>{let{prevQuestion:r}=t;(null==r?void 0:r.id)&&(e.questions[r.id]={...e.questions[r.id],api:{...null==r?void 0:r.api,isUpdating:!1}})}),[g.g.QUESTION_BULK_QUESTION_POINTS_UPDATE]:(e,t)=>(0,s.Ay)(e,e=>{let{questions:r}=t;null==r||r.forEach(t=>{(null==t?void 0:t.id)&&(e.questions[t.id]={...e.questions[t.id],api:{...null==t?void 0:t.api,isUpdating:!0}})})}),[(0,o.ok)(g.g.QUESTION_BULK_QUESTION_POINTS_UPDATE)]:(e,t)=>(0,s.Ay)(e,e=>{var r;let{questions:s}=t;null==s||s.forEach(t=>{(null==t?void 0:t.id)&&(e.questions[t.id]=x(e.questions[t.id],t,!1))}),D(e,null==(r=s[0])?void 0:r.courseId)}),[(0,o.ok)(g.g.QUESTIONS_COPY_QUEUED)]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,assessmentId:s,queueTask:n}=t;((e,t,r,s)=>{let n=e[t];n?n[r]=s:e[t]={[r]:s}})(e.copyQuestionsTaskByCourseId,r,n.taskId,{queueTask:n,assessmentId:s,questionCount:t.questionCount})}),[(0,o.ok)(g.g.QUESTIONS_COPY_TASK_REMOVE)]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,taskId:s}=t;((e,t,r)=>{let s=e[t];Object.keys(s).length>1?delete s[r]:delete e[t]})(e.copyQuestionsTaskByCourseId,r,s)}),[(0,o.fJ)(g.g.QUESTIONS_COPY_TASK_REMOVE)]:(e,t)=>(0,o.Nh)(e,t),[g.g.QUESTIONS_COPY_TASK_UPDATE]:(e,t)=>(0,s.Ay)(e,r=>{let{courseId:s,queueTask:n}=t;r.copyQuestionsTaskByCourseId[s][n.taskId].queueTask=n;let o=e.copyQuestionsTaskByCourseId[s][n.taskId].queueTask;n.taskStatus!==(null==o?void 0:o.taskStatus)&&U.has(n.taskStatus)&&D(r,t.courseId)}),[(0,o.ok)(g.g.QUESTIONS_COPY)]:(e,t)=>(0,s.Ay)(e,e=>{D(e,t.courseId)}),[g.g.QUESTION_DELETE]:(e,t)=>(0,s.Ay)(e,e=>{let{prevQuestion:r}=t;(null==r?void 0:r.id)&&e.questions[r.id]&&(e.questions[r.id]={...e.questions[r.id],api:{...null==r?void 0:r.api,isDeleting:!0}})}),[(0,o.ok)(g.g.QUESTION_DELETE)]:(e,t)=>(0,s.Ay)(e,r=>{var s,o,i;let{prevQuestion:l}=t;if(!(null==l?void 0:l.id))return;let u=function(e,t){let r={};return e.forEach(e=>{let s=e.questionIdsInBlock&&e.questionIdsInBlock.filter(e=>e!==t),n={...e,questionIdsInBlock:s};r[n.id]=n}),r}((o=e.questions,i=null==l?void 0:l.id,n.filter(o,e=>a.xib.QuestionBlock===e.questionType&&n.includes(e.questionIdsInBlock,i))),null==l?void 0:l.id);r.questions={...r.questions,...u};let d=M(r.questions,null!=(s=null==l?void 0:l.assessmentId)?s:"",!1,l.position+1);r.questions={...r.questions,...d.questions};let c=r.questions[l.id];delete r.questions[l.id],D(r,c.courseId)}),[(0,o.fJ)(g.g.QUESTION_DELETE)]:(e,t)=>(0,s.Ay)(e,e=>{let{prevQuestion:r}=t;(null==r?void 0:r.id)&&(e.questions[r.id]={...e.questions[r.id],api:{...null==r?void 0:r.api,isDeleting:!1}})}),[(0,o.ok)(c.g.ASSESSMENT_DELETE)]:(e,t)=>(0,s.Ay)(e,e=>{let{assessmentId:r,courseId:s}=t;L(e,s,r?[r]:[])}),[(0,o.ok)(E.g.CONTENT_DELETE)]:(e,t)=>(0,s.Ay)(e,e=>{let{courseAssessmentIds:r}=t;r&&Object.keys(r).forEach(t=>{let s=r[t].filter(e=>!!e);L(e,t,s)})}),[(0,o.ok)(E.g.CONTENT_DELETE_IN_STORE)]:(e,t)=>(0,s.Ay)(e,e=>{let{assessmentId:r,courseId:s}=t;L(e,s,r?[r]:[])}),[(0,o.ok)(E.g.CONTENT_IMPORT_COMPLETE)]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{D(e,r)})},[g.g.QUESTION_BLOCK_CLEAR_QUESTIONS]:(e,t)=>{let{questionBlockId:r}=t,n=e.questions[r];return n&&n.questionIdsInBlock?(0,s.Ay)(e,e=>{let t={...n,questionIdsInBlock:[]};(null==t?void 0:t.id)&&(e.questions[t.id]=t)}):e},[g.g.QUESTION_BLOCK_LOAD_QUESTIONS]:o.r1,[(0,o.ok)(g.g.QUESTION_BLOCK_LOAD_QUESTIONS)]:(e,t)=>{let r=(0,s.Ay)(e,r=>{let{questions:s,questionBlockId:n}=t,o=e.questions[n];o||(o={id:n,api:{isUpdating:!1,isDeleting:!1}}),Object.keys(s).forEach(t=>{let n=e.questions[t];O(s[t]),r.questions[t]={...s[t],api:{isUpdating:!1,isDeleting:!1},ui:n&&n.ui},o={...o,questionIdsInBlock:Array.from(new Set([...o.questionIdsInBlock||[],t]))}}),r.questions[o.id]=o});return(0,o.Zg)(r,t)},[g.g.QUESTION_BLOCKS_LOAD_QUESTIONS]:(0,o.Dh)(R,C),[(0,o.ok)(g.g.QUESTION_BLOCKS_LOAD_QUESTIONS)]:(e,t)=>{let{results:r,permissions:n}=t.data,i=(0,s.Ay)(e,t=>{r.forEach(({blockId:r,questions:s})=>{var n,o;let i=e.questions[r]&&{...e.questions[r],questionIdsInBlock:[]},a={...i},l=new Set;i||(a={id:r,api:{isUpdating:!1,isDeleting:!1}}),s.forEach(r=>{if(!r.id)return;l.add(r.id);let s=e.questions[r.id];O(r),t.questions[r.id]={...r,api:{isUpdating:!1,isDeleting:!1},ui:null==s?void 0:s.ui},a={...a,questionIdsInBlock:Array.from(new Set([...(null==a?void 0:a.questionIdsInBlock)||[],r.id]))}}),(null==a?void 0:a.id)&&(a.questionIdsInBlock=null!=(o=null==(n=a.questionIdsInBlock)?void 0:n.filter(e=>l.has(e)))?o:[],t.questions[a.id]=a)})});return(0,o.lY)(i,t,{viewResolver:R,viewsPathResolver:C,permissions:n})},[(0,o.ok)(g.g.QUESTION_BLOCK_DELETE_QUESTION)]:(e,t)=>(0,s.Ay)(e,e=>{let{prevQuestion:r,questionBlockId:s}=t,o=e.questions[s];e.questions[s].questionIdsInBlock=n.without(o.questionIdsInBlock,r.id),D(e,r.courseId)}),[(0,o.ok)(g.g.QUESTION_BLOCK_ADD_QUESTIONS)]:(e,t)=>{let r=(0,s.Ay)(e,r=>{let{questionBlockId:s}=t,n=e.questions[s];n||(n={id:s,api:{isUpdating:!1,isDeleting:!1}}),t.results.forEach(t=>{if(t.isOk){let s=t.result,o=e.questions[s.id];O(s={...s,api:{isUpdating:!1,isDeleting:!1},ui:o&&o.ui}),n={...n,questionIdsInBlock:Array.from(new Set([...n.questionIdsInBlock||[],s.id]))},r.questions={...r.questions,...(0,i.jD)([s,n])},D(r,s.courseId)}})});return(0,o.Zg)(r,t)},[(0,o.ok)(g.g.QUESTIONS_FILE_UPLOAD)]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r}=t;D(e,r)}),[(0,o.ok)(y.g.QUESTION_ATTEMPT_SET)]:(e,t)=>{let{data:{question:r}}=t;return r?(0,s.Ay)(e,e=>{if(null==r?void 0:r.id){let t=e.questions[r.id];O(r),e.questions[r.id]={api:{isUpdating:!1,isDeleting:!1},...t,...r}}}):e},[(0,o.ok)(y.g.QUESTION_ATTEMPTS_SET)]:(e,t)=>{let{data:r}=t;return(0,s.Ay)(e,e=>{r.forEach(t=>{let{question:r}=t;if(null==r?void 0:r.id){let t=e.questions[r.id];O(r),e.questions[r.id]={api:{isUpdating:!1,isDeleting:!1},...t,...r}}})})},[(0,o.ok)(y.g.QUESTION_ATTEMPTS_LOAD)]:(e,t)=>{let{data:{results:r}}=t;return(0,s.Ay)(e,e=>{r.forEach(t=>{let{question:r}=t;if(null==r?void 0:r.id){O(r);let t=e.questions[r.id];e.questions[r.id]={api:{isUpdating:!1,isDeleting:!1},...t,...r}}})})},[(0,o.ok)(A.g.GRADED_QUESTION_ATTEMPTS_LOAD)]:(e,t)=>{let{data:{results:r}}=t;return(0,s.Ay)(e,e=>{r.forEach(t=>{let{questionAttempt:r}=t,{question:s}=r;if(O(s),null==s?void 0:s.id){let t=e.questions[s.id];e.questions[s.id]={api:{isUpdating:!1,isDeleting:!1},...t,...s}}})})},[(0,o.ok)(A.g.GRADED_QUESTION_ATTEMPTS_LOAD_BY_QUESTION_ID)]:(e,t)=>{let{data:{results:r}}=t;return(0,s.Ay)(e,e=>{r.forEach(t=>{let{questionAttempt:r}=t,{question:s}=r;if(O(s),null==s?void 0:s.id){let t=e.questions[s.id];e.questions[s.id]={...t,...s}}})})},[(0,o.ok)(h.gK.QUESTIONS_GRADE_STATUS_LOAD)]:(e,t)=>{let{data:{results:r}}=t;return(0,s.Ay)(e,e=>{r.forEach(t=>{let{question:r}=t;if(O(r),null==r?void 0:r.id){let t=e.questions[r.id];e.questions[r.id]={...t,...r}}})})},[(0,o.ok)(h.gK.QUESTION_BLOCKS_GRADE_STATUS_LOAD)]:(e,t)=>{let{data:{results:r}}=t;return(0,s.Ay)(e,e=>{r.forEach(t=>{let{question:r}=t;if(O(r),null==r?void 0:r.id){let t=e.questions[r.id];e.questions[r.id]={...t,...r}}})})},[c.g.ASSESSMENT_FILE_UPLOAD_TASK_ADD]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,taskId:s,fileName:n}=t;v(e.fileUploadTasksByCourseId,r,s,{taskId:s,fileName:n,progress:0})}),[c.g.ASSESSMENT_FILE_UPLOAD_TASK_REMOVE]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,taskId:s}=t;f(e.fileUploadTasksByCourseId,r,s)}),[c.g.ASSESSMENT_FILE_UPLOAD_TASK_UPDATE]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,taskId:s,progress:n,fileLocation:o}=t,i=e.fileUploadTasksByCourseId[r][s];e.fileUploadTasksByCourseId[r][s]={...i,progress:n,fileLocation:o}}),[c.g.ASSESSMENT_IMPORT_TASK_ADD]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,queueTask:s}=t;v(e.importTasksByCourseId,r,s.taskId,s)}),[c.g.ASSESSMENT_IMPORT_TASK_UPDATE]:(e,t)=>(0,s.Ay)(e,r=>{let{courseId:s,queueTasks:n}=t;n.forEach(n=>{var o;r.importTasksByCourseId[s][n.taskId]=n;let i=null==(o=e.importTasksByCourseId[s])?void 0:o[n.taskId];n.taskStatus!==(null==i?void 0:i.taskStatus)&&U.has(n.taskStatus)&&D(r,t.courseId)})}),[(0,o.ok)(c.g.ASSESSMENT_IMPORT_TASK_REMOVE)]:(e,t)=>(0,s.Ay)(e,e=>{let{courseId:r,taskId:s}=t;f(e.importTasksByCourseId,r,s)}),[p.g.GRANULAR_CONTENT_COPY_COMPLETE]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{D(e,r)})},[(0,o.ok)(g.g.QUESTION_HAS_STUDENT_SUBMISSION)]:(e,t)=>(0,s.Ay)(e,e=>{let{questionId:r,hasSubmissions:s}=t;e.hasStudentSubmission[r]=s})}),w={loadQuestion:e=>{let{assessmentId:t,courseId:r,questionId:s}=e;return w.loadQuestionById({assessmentId:t,courseId:r,questionId:s})},loadQuestions:e=>{let{assessmentId:t,courseId:r,offset:s,refreshState:n}=e;return w.loadQuestionsByQuery({assessmentId:t,courseId:r,paging:{offset:s,limit:100},refreshState:n})},loadQuestionById:({courseId:e,assessmentId:t,questionId:r})=>(0,o.RA)(s=>{let n={assessmentId:t,courseId:e,questionId:r};return s((0,o.rc)(g.g.QUESTION_LOAD,{query:n})),(0,u.X6)({assessmentId:t,courseId:e,questionId:r}).then(e=>(s((0,o.rc)((0,o.ok)(g.g.QUESTION_LOAD),{data:{questions:{[e.id]:e},questionIds:[e.id]},query:n})),e)).catch(e=>{throw s((0,o.rc)((0,o.ok)(m.A.APP_ERROR),{error:e})),s((0,o.rc)((0,o.fJ)(g.g.QUESTION_LOAD),{query:n})),e})}),loadQuestionsByQuery:e=>(0,o.RA)(async(t,r)=>{var s;let{view:i}=R(null==(s=r())?void 0:s.question,e);return!function(e,t,r=!1,s){let o=n.isEmpty(k.getQuestionsByCourseId(e,t));if(s)return!s.isLoading&&(o||r);let i=e.question.views.byCourseId[t],a=!1;return i&&(a=Object.keys(i).some(e=>!0===i[e].isLoading)),!a&&(o||r)}(r(),e.courseId,null==e?void 0:e.refreshState,i)?Promise.resolve(null):(t((0,o.rc)(g.g.QUESTION_LOAD,{query:e})),(0,u.Xc)(e).then(r=>(t((0,o.rc)((0,o.ok)(g.g.QUESTION_LOAD),{data:r,query:e})),{...r})).catch(r=>{throw t((0,o.rc)((0,o.ok)(m.A.APP_ERROR),{error:r})),t((0,o.rc)((0,o.fJ)(g.g.QUESTION_LOAD),{query:e})),r}))}),loadAssessmentQuestionsByQuery:e=>(0,o.Vy)(g.g.QUESTION_LOAD,async()=>{try{return{data:await (0,u.Xc)(e),query:e}}catch(t){throw new o.GS(t).setData({query:e})}},{data:{query:e},condition:G}),persistQuestion:(e,t,r)=>(0,o.VP)(g.g.QUESTION_PERSIST,async()=>{try{let s={...await (0,u.JZ)(e,t,r),assessmentId:r.assessmentId,courseId:r.courseId,aiState:t.aiState};return{prevQuestion:e,question:s,...r.columnId&&{columnId:r.columnId}}}catch(t){throw{prevQuestion:e,err:t}}},{prevQuestion:e}),updateQuestionPoints:(e,t,r)=>(0,o.VP)(g.g.QUESTION_BULK_QUESTION_POINTS_UPDATE,async()=>{try{return{questions:(await (0,u.NZ)(e,t,r)).map(e=>({...e,points:_.Ay.isQuestionBlock(e)?e.pointsPerQuestion:e.points})),...r}}catch(e){throw Error(`Failed to update question points: ${e}`)}},e),createQuestion:(e,t,r,s)=>(0,o.RA)(async(n,i)=>{let l;n((0,o.rc)(g.g.QUESTION_CREATE,{assessmentId:e,positionAfter:t,questionType:r,questionOptions:s}));let c=d.Lt.getAssessmentById(i(),e);if((null==c?void 0:c.type)===a.PAn.Test&&(l=c.subtype),(null==c?void 0:c.id)&&c.courseId)try{let e=(0,u.rf)(c.id,c.courseId,t,r,c.type,l,s);return n((0,o.rc)((0,o.ok)(g.g.QUESTION_CREATE),{nextQuestion:e})),{nextQuestion:e}}catch(e){throw n((0,o.rc)((0,o.fJ)(g.g.QUESTION_CREATE))),n((0,o.rc)((0,o.ok)(m.A.APP_ERROR),{error:e})),e}throw n((0,o.rc)((0,o.fJ)(g.g.QUESTION_CREATE))),n((0,o.rc)((0,o.ok)(m.A.APP_ERROR))),Error("Unable to create question")}),removeCopyQuestionsTask:(e,t)=>(0,o.VP)(g.g.QUESTIONS_COPY_TASK_REMOVE,async r=>{let s=((e,t,r)=>{var s;return null==(s=e.question.copyQuestionsTaskByCourseId[t])?void 0:s[r].queueTask})(r(),e,t),n=N(e,s);return await (0,T.xy)(n),{courseId:e,taskId:t}}),updateCopyTaskStatus:(e,t)=>(0,o.RA)(async r=>{let s=await (0,l.Dw)(t);return r((0,o.rc)(g.g.QUESTIONS_COPY_TASK_UPDATE,{courseId:e,queueTask:s})),s}),copyQuestionsQueued:(e,t)=>(0,o.VP)(g.g.QUESTIONS_COPY_QUEUED,async()=>{let r=await (0,u.E$)(e),s=N(e.courseId,r);return(0,T.xy)(s),{courseId:e.courseId,assessmentId:e.assessmentId,queueTask:r,questionCount:t}}),copyQuestions:e=>(0,o.VP)(g.g.QUESTIONS_COPY,async()=>{let{type:t,...r}=await (0,u.t)(e);return{...r,courseId:e.courseId}}),copyQuestionsCompleted:e=>(0,o.RA)(t=>{t((0,o.rc)((0,o.ok)(g.g.QUESTIONS_COPY),{courseId:e}))}),deleteQuestion:e=>(0,o.VP)(g.g.QUESTION_DELETE,t=>{let r=d.Lt.getAssessmentById(t(),e.assessmentId);return(0,u.ul)(e,{courseId:r.courseId,assessmentId:r.id}).then(()=>({prevQuestion:e})).catch(t=>{throw{prevQuestion:e,err:t}})},{prevQuestion:e}),deleteQuestions:e=>(0,o.RA)((t,r)=>{let s=d.Lt.getAssessmentById(r(),e[0].assessmentId);return(0,u.vM)(e,{courseId:s.courseId,assessmentId:s.id}).then(r=>{let s=new Map(e.map(e=>[e.id,e]));return Object.keys(r.results).forEach(e=>{let n=r.results[e],i=s.get(n.id);n.isOk?t((0,o.rc)((0,o.ok)(g.g.QUESTION_DELETE),{prevQuestion:i})):t((0,o.rc)((0,o.fJ)(g.g.QUESTION_DELETE),{prevQuestion:i}))}),r})}),loadQuestionsFromQuestionBlock:e=>(0,o.RA)((t,r)=>{var s;return s=r(),t((0,o.rc)(g.g.QUESTION_BLOCK_LOAD_QUESTIONS)),(0,u.dI)(e).then(e=>(t((0,o.rc)((0,o.ok)(g.g.QUESTION_BLOCK_LOAD_QUESTIONS),{...e})),e)).catch(e=>{t((0,o.rc)((0,o.fJ)(g.g.QUESTION_BLOCK_LOAD_QUESTIONS),e)),t((0,o.rc)((0,o.ok)(m.A.APP_ERROR),{error:e}))})}),loadAllQuestionsFromQuestionBlocks:e=>(0,o.Vy)(g.g.QUESTION_BLOCKS_LOAD_QUESTIONS,async()=>{if(!(null==e?void 0:e.assessmentId)||!(null==e?void 0:e.courseId))return Promise.resolve(null);try{return{data:await (0,u.KX)(e.courseId,e.assessmentId),query:e}}catch(e){throw new o.GS(e).setData({error:e})}},{data:{query:e},condition:(e,t)=>B(e,t)}),clearQuestionsFromQuestionBlock:e=>(0,o.rc)(g.g.QUESTION_BLOCK_CLEAR_QUESTIONS,{questionBlockId:e}),addQuestionsToQuestionBlock:(e,t)=>(0,o.RA)(async r=>{let s;try{s=await (0,u.v$)(e,t),r((0,o.rc)((0,o.ok)(g.g.QUESTION_BLOCK_ADD_QUESTIONS),s))}catch(e){throw r((0,o.rc)((0,o.fJ)(g.g.QUESTION_BLOCK_ADD_QUESTIONS),e)),r((0,o.rc)((0,o.ok)(m.A.APP_ERROR),{error:e})),e}let{assessmentId:n,courseId:i,questionBlockId:a}=t;return await r(w.loadQuestionById({courseId:i,assessmentId:n,questionId:a})),s}),updateQuestionsInQuestionBlock:(e,t,r,s)=>(0,o.RA)(async n=>{let i;try{i=await (0,u.$m)(e,t,r,s),n((0,o.rc)((0,o.ok)(g.g.QUESTION_BLOCK_UPDATE_QUESTIONS),i))}catch(e){throw n((0,o.rc)((0,o.fJ)(g.g.QUESTION_BLOCK_UPDATE_QUESTIONS),e)),n((0,o.rc)((0,o.ok)(m.A.APP_ERROR),{error:e})),e}return await n(w.loadQuestionById({courseId:e,assessmentId:t,questionId:r})),i}),deleteQuestionFromQuestionBlock:(e,t)=>(0,o.RA)(async r=>{let s={prevQuestion:e,questionBlockId:t.questionBlockId};try{await (0,u.Vx)(e,t),r((0,o.rc)((0,o.ok)(g.g.QUESTION_BLOCK_DELETE_QUESTION),s))}catch(e){throw r((0,o.rc)((0,o.fJ)(g.g.QUESTION_BLOCK_DELETE_QUESTION),e)),r((0,o.rc)((0,o.ok)(m.A.APP_ERROR),{error:e})),e}let{assessmentId:n,courseId:i}=t;return await r(w.loadQuestionsByQuery({courseId:i,assessmentId:n})),s}),addQuestionsToAssessment:(e,t,r)=>{let s={courseId:e,assessmentId:t,questions:r};return(0,o.Vy)(g.g.QUESTIONS_CREATE,async()=>{for(let s of r)await (0,u.JZ)(null,s,{courseId:e,assessmentId:t});return s},{data:s})},uploadQuestionsFromFile:e=>(0,o.RA)(async t=>{let{courseId:r,assessmentId:s}=e;t((0,o.rc)(g.g.QUESTIONS_FILE_UPLOAD,{args:e}));try{let n=await (0,u.Nv)(e);return t(n.success>0?(0,o.rc)((0,o.ok)(g.g.QUESTIONS_FILE_UPLOAD),{...n,courseId:r,assessmentId:s}):(0,o.rc)((0,o.fJ)(g.g.QUESTIONS_FILE_UPLOAD),{...n,courseId:r,assessmentId:s})),n}catch(e){throw t((0,o.rc)((0,o.ok)(m.A.APP_ERROR),{error:e})),t((0,o.rc)((0,o.fJ)(g.g.QUESTIONS_FILE_UPLOAD),{courseId:r,assessmentId:s})),e}}),checkQuestionHasStudentSubmission:(e,t)=>(0,o.Vy)(g.g.QUESTION_HAS_STUDENT_SUBMISSION,async()=>{if(!e||!t)return Promise.resolve({questionId:t,hasSubmissions:!1});try{let r=await (0,u.gF)(e,t);return{questionId:t,hasSubmissions:r}}catch(r){throw new o.GS(r).setData({courseId:e,questionId:t})}},{condition:(e,{getState:r})=>!r().question.hasStudentSubmission[t]})},k={getByQuestionId:(e,t)=>n.find(e.question.questions,{id:t}),getQuestionsByAssessmentId:(e,t)=>n.filter(e.question.questions,{assessmentId:t}),getFirstQuestionByAssessmentId:(e,t)=>n.find(e.question.questions,{assessmentId:t}),getPageBreakQuestionsByAssessmentId:I,getQuestionByPosition:(e,t)=>n.find(e.question.questions,{position:t}),getQuestionsByContentId:(e,t)=>{let r=d.Lt.getAssessmentByContentId(e,t);return r?n.filter(e.question.questions,{assessmentId:r.id,api:{isDeleting:!1}}):[]},getQuestionsByCourseId:(e,t)=>{let r=d.Lt.getAssessmentsByCourseId(e,t);return n.filter(e.question.questions,e=>n.includes(n.map(r,"id"),e.assessmentId))},getQuestionsByQuery:(e,t)=>{let{view:r}=R(e.question,t);return r?(r.values||[]).map(t=>k.getByQuestionId(e,t)).filter(e=>!!e):[]},getQuestionsByQueries:(e,t)=>{let r=new Set;return t.reduce((t,s)=>{let{view:n}=R(e.question,s);return[...t,...((null==n?void 0:n.values)||[]).map(t=>k.getByQuestionId(e,t)).filter(e=>!(!(null==e?void 0:e.id)||r.has(e.id))&&(r.add(e.id),!0))]},[])},getQuestionViewStatusByQuery:(e,t)=>{var r;let{view:s}=R(e.question,t);return s?{isLoading:s.isLoading,isValid:s.isValid,paging:null!=(r=s.paging)?r:null,permissions:s.permissions}:null},getQuestionViewStatusByQueries:(e,t)=>t.reduce((t,r)=>{var s;let{view:n}=R(e.question,r),o=null;return n&&(o={isLoading:n.isLoading,isValid:n.isValid,paging:null!=(s=n.paging)?s:null,permissions:n.permissions}),[...t,{query:r,view:o}]},[]),getQuestionsByQuestionBlockId:(e,t)=>{let r=n.find(e.question.questions,{id:t}),s=[];return(null==r?void 0:r.questionIdsInBlock)?(r.questionIdsInBlock.forEach(t=>{let r=e.question.questions[t];r&&s.push(r)}),n.sortBy(s,q,F)):s},getCopyQuestionsTask:(e,t)=>e.question.copyQuestionsTaskByCourseId[t],getQuestionHasSubmissions:(e,t)=>!!e.question.hasStudentSubmission[t]};function M(e,t,r,s,o,a=1){var l,u;let d={questions:{}};return(l=e,u={assessmentId:t,minPosition:s,maxPosition:o},n.filter(n.values(l),e=>{var t;return e.assessmentId===u.assessmentId&&(null==(t=e.id)?void 0:t.indexOf(i.Gw))===-1&&e.position>=u.minPosition&&(!u.maxPosition||e.position<=u.maxPosition)})).forEach(t=>{let s=t.id;d.questions[s]={...e[s],position:r?t.position+a:t.position-a}}),d}let B=(e,t)=>{var r;if(!(null==(r=e.query)?void 0:r.assessmentId)||!e.query.courseId)return!1;let{view:s}=R(t.getState().question,e.query),n=!!(null==s?void 0:s.isLoading),o=!(null==s?void 0:s.isValid)||!!e.query.refreshState;return!n&&o},G=(e,t)=>{var r;if(!(null==(r=e.query)?void 0:r.assessmentId))return!1;let s=t.getState(),o=e.query.assessmentId,{view:i}=R(s.question,e.query),a=n.isEmpty(k.getQuestionsByAssessmentId(s,o));return i?!i.isLoading&&(a||!!e.query.refreshState):a||!!e.query.refreshState},x=(e,t,r)=>{let s={...e,api:{...null==e?void 0:e.api,isUpdating:r}};return t.questionType===a.xib.QuestionBlock?{...{...s,pointsPerQuestion:t.points}}:{...s,points:t.points}};function V(e,t){return void 0===e&&void 0===t||void 0!==e&&void 0!==t&&(null==e?void 0:e.length)===(null==t?void 0:t.length)&&e.every(e=>t.includes(e))}function q(e){return parseInt(K(e.id)[0],10)}function F(e){return parseInt(K(e.id)[1],10)}function K(e){return e.split("_").slice(1)}},716968:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});let s="tracing.core";class n{constructor(){this.sinks=new Set}notifySink(e){this.sinks.forEach(t=>{try{t(e)}catch(e){console.error(`[${s}]: Encountered exception while dispatching error to sink ${t.name}`,e)}})}addSink(e){this.sinks.add(e),console.debug(s,`[${s}] Added new sink ${e.name}`)}removeSink(e){this.sinks.delete(e)||console.warn(`[${s}] Tried to remove a sink ${e.name} but the sink wasn't in our list; this could be a potential memory leak`)}}},717451:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var s=r(56684);class n extends s.mj{constructor(){super("/v1/utilities/entitlements")}}},721888:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var s=r(216693),n=r(514041),o=r(910685),i=r(601478);let a=(e,t)=>{let r=(0,o.Y)(),a=(0,i.l)(e=>{var t;return null==(t=s.Ltv.app.getRoute(e).params)?void 0:t.courseId}),l=(0,i.l)(e=>{if(a)return s.Ltv.course.getCourseById(e,a)});(0,n.useEffect)(()=>{a&&!l&&r(s.o1I.course.fetchCourse(a))},[l,a,r]);let u=null==l?void 0:l.isOrganization;return r=>u&&r.startsWith(e)?r.replace(e,t):r}},722356:(e,t,r)=>{"use strict";function s(e){return encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16)}`)}r.d(t,{A:()=>s})},722407:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>v,NC:()=>O});var s=r(939067),n=r.n(s),o=r(813834),i=r.n(o),a=r(180783),l=r(903152),u=r(748913),d=r(165113);let c={math:{xmlns:null,style:null,mathcolor:null,mathbackground:null,mathvariant:null,mathsize:null,dir:null,display:null,maxwidth:null,overflow:null,altimg:null,"altimg-width":null,"altimg-height":null,"altimg-valign":null,alttext:null,cdgroup:null},maction:{mathcolor:null,mathbackground:null,actiontype:null,selection:null},maligngroup:{mathcolor:null,mathbackground:null,groupalign:null},malignmark:{mathcolor:null,mathbackground:null,edge:null},menclose:{mathcolor:null,mathbackground:null,notation:null},merror:{mathcolor:null,mathbackground:null},mfenced:{mathcolor:null,mathbackground:null,open:null,close:null,separators:null},mfrac:{mathcolor:null,mathbackground:null,linethickness:null,numalign:null,denomalign:null,bevelled:null},mi:{mathcolor:null,mathbackground:null,mathvariant:null,mathsize:null,dir:null},mlongdiv:{mathcolor:null,mathbackground:null,longdivstyle:null},mmultiscripts:{mathcolor:null,mathbackground:null,subscriptshift:null,superscriptshift:null},mn:{mathcolor:null,mathbackground:null,mathvariant:null,mathsize:null,dir:null},mo:{mathcolor:null,mathbackground:null,mathvariant:null,mathsize:null,dir:null,form:null,fence:null,separator:null,lspace:null,rspace:null,"stretc hy":null,symmetric:null,maxsize:null,minsize:null,largeop:null,movablelimits:null,accent:null,linebreak:null,lineleading:null,linebreakstyle:null,linebreakmultchar:null,indentalign:null,indentshift:null,indenttarget:null,indentalignfirst:null,indentshiftfirst:null,indentalignlast:null,indentshiftlast:null},mover:{mathcolor:null,mathbackground:null,accent:null,align:null},mpadded:{mathcolor:null,mathbackground:null,height:null,depth:null,width:null,lspace:null,voffset:null},mphantom:{mathcolor:null,mathbackground:null},mprescripts:{},mroot:{mathcolor:null,mathbackground:null,mathvariant:null,mathsize:null,dir:null},mrow:{mathcolor:null,mathbackground:null,dir:null},ms:{mathcolor:null,mathbackground:null,mathvariant:null,mathsize:null,dir:null,lquote:null,rquote:null},mscarries:{mathcolor:null,mathbackground:null,position:null,location:null,crossout:null,scriptsizemultiplier:null},mscarry:{mathcolor:null,mathbackground:null,location:null,crossout:null},msgroup:{mathcolor:null,mathbackground:null,position:null,shift:null},msline:{mathcolor:null,mathbackground:null,position:null,length:null,leftoverhang:null,rightoverhang:null,mslinethickness:null},mspace:{mathcolor:null,mathbackground:null,mathvariant:null,mathsize:null,dir:null,indentalign:null,indentshift:null,indenttarget:null,indentalignfirst:null,indentshiftfirst:null,indentalignlast:null,indentshiftlast:null,width:null,height:null,depth:null,linebreak:null},msqrt:{mathcolor:null,mathbackground:null,mathvariant:null,mathsize:null,dir:null},msrow:{mathcolor:null,mathbackground:null,position:null},mstack:{mathcolor:null,mathbackground:null,align:null,stackalign:null,charalign:null,charspacing:null},mstyle:{mathcolor:null,mathbackground:null,mathvariant:null,mathsize:null,dir:null,scriptlevel:null,displaystyle:null,scriptsizemultiplier:null,scriptminsize:null,infixlinebreakstyle:null,decimalpoint:null},msub:{mathcolor:null,mathbackground:null,subscriptshift:null},msubsup:{mathcolor:null,mathbackground:null,subscriptshift:null,superscriptshift:null},msup:{mathcolor:null,mathbackground:null,superscriptshift:null},mtable:{mathcolor:null,mathbackground:null,align:null,rowalign:null,columnalign:null,groupalign:null,alignmentscope:null,columnwidth:null,width:null,rowspacing:null,columnspacing:null,rowlines:null,columnlines:null,frame:null,framespacing:null,equalrows:null,equalcolumns:null,displaystyle:null,side:null,minlabelspacing:null},mtd:{mathcolor:null,mathbackground:null,rowspan:null,columnspan:null,rowalign:null,columnalign:null,groupalign:null},mtext:{mathcolor:null,mathbackground:null,mathvariant:null,mathsize:null,dir:null},mtr:{mathcolor:null,mathbackground:null,rowalign:null,columnalign:null,groupalign:null},munder:{mathcolor:null,mathbackground:null,accentunder:null,align:null},munderover:{mathcolor:null,mathbackground:null,accent:null,accentunder:null,align:null},none:{},semantics:{definitionURL:null,encoding:null},annotation:{definitionURL:null,encoding:null,cd:null,name:null,src:null},"annotation-xml":{definitionURL:null,encoding:null,cd:null,name:null,src:null}};function E(e){return{...c[e]}}var p=r(955730),m=r(198448);let g="math",y={"data-mathml":null},I=!1;function A(e,t=!1,r=""){return t?{insert:!0}:""===r?{insert:!0,format:{[g]:{mathml:e}}}:{insert:`$$${r}$$`,format:{[l.HM]:{mathml:e}}}}let h=[...Object.keys(c),"img[data-mathml]"],_=(e,t)=>{let r=e.tagName.toLowerCase(),s=E(r);return new(i())("img"===r?[{insert:{[g]:(0,d.gu)(e,y)},attributes:(0,d.gu)(e,y)}]:[{insert:{[r]:{...(0,d.gu)(e,s),children:t.ops}},attributes:(0,d.gu)(e,s)}])};function b(e,t){return t.mathml}function S(e){e&&e.forEach(e=>{T(e.target,e.target.alt)})}function T(e,t){if(I)e.setAttribute("role","img");else{let r=document.createElement("span");r.classList.add("sr-only"),e.parentElement.appendChild(r),r.textContent=t}}let O=n().shape({apiBasePath:n().string,xsrfToken:n().string,courseId:n().string,locale:n().string}),v=e=>{let t=new m.MY(e),r=new m.o9(t);return[{pluginId:g,buttonConfig:{id:g,cssClass:g,iconName:"insert_formula",iconComponent:p.C,isDialog:!0,isActive:e=>!!e[g]&&!!e[g].mathml,onClick:({showModal:t,...r})=>{t(a.A,{createChange:A,...e,...r})}},matchers:h,deltaModifier:_,formatter:function(e){let t=new MutationObserver(S);return{type:"embedInline",blotName:g,tagName:"span",attributes:y,renderDomNode:(r,s,n,o)=>{let i=null;if(n.mathml)i=(0,u.g)(n.mathml);else if(n.children&&Array.isArray(n.children)){let e=document.createElement("math");e=(0,d.Wp)(e,E("math"),n),n.children.forEach(t=>(function e(t,r){if("string"==typeof r.insert){let e=document.createTextNode(r.insert);t.appendChild(e)}else if("object"==typeof r.insert){let s=Object.keys(r.insert).find(e=>void 0!==c[e]);if(s){let n=document.createElement(s),o=E(s);n="mfenced"===s?(0,d.jh)(n,o,r.attributes||{}):(0,d.Wp)(n,o,r.attributes||{});let i=r.insert[s].children;i&&Array.isArray(i)&&i.forEach(t=>e(n,t)),t.appendChild(n)}}})(e,t)),i=e.outerHTML}return(0,d.Wp)(r,s,{...n,...i?{mathml:i}:null}),r.classList.add("formula-container"),r.innerHTML=i,t.observe(r,{subtree:!0,attributes:!0,attributeFilter:["alt"]}),r.classList.add("wants-props-update"),r.formatComponent=e=>{var t;for(let s of(I=e.isReadOnly,r.parentElement.getElementsByClassName("Wirisformula")))s.nextSibling||(null==(t=s.nextSibling)?void 0:t.getAttribute()("sr-only"))||T(s,s.alt)},e.renderElement(r),r}}}(r),toBbML:b,onLoad:function(){r.onloadWiris()}},(0,l.Ay)(e)]}},723609:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});let s={ANNOUNCEMENT_DETAIL:"announcement-detail",READ_ANNOUNCEMENT:"read-announcement",ANNOUNCEMENT:"announcement"}},723781:(e,t,r)=>{"use strict";r.d(t,{G:()=>i});var s=r(56684);class n extends s.pT{constructor(e){super("/v1/courses/%courseId%/users/%userId%/studentActivityLog",e)}}var o=r(542633);async function i(e,t,r,s){let i=new n(t).withSession(e);return s&&i.withQueryParams(s),r.paging&&i.withPaging(r.paging),r.sort&&i.withSort(...r.sort),await (0,o.w)(i)}},727168:(e,t,r)=>{"use strict";r.d(t,{o1:()=>E,Ff:()=>c,Lt:()=>p});var s=r(905898),n=r(968554),o=r(397965);let i="/public/v1/courses/%courseId%/children",a=`${i}/%childCourseId%`;async function l(e){let t;try{t=await (0,o.Jt)((0,o.c$)(i,e))}catch(e){if(e.error.code&&"bb-blackboard-core-course-has-no-children"===e.error.code)t={results:[]};else throw e.error}return t}async function u(e){return await (0,o.Jt)((0,o.c$)(a,{courseId:e.parentCourseId,childCourseId:e.childCourseId,fields:e.fields}))}let d={CHILD_COURSES_LOAD:"child-courses.load",CHILD_COURSE_LOAD:"child-course.load"},c=(0,n.vy)({byParentCourseId:{},byChildCourseId:{}},{[d.CHILD_COURSES_LOAD]:n.r1,[(0,n.ok)(d.CHILD_COURSES_LOAD)]:(e,t)=>{let r=t.childCourses,o=t.courseId;return(0,s.jM)(e,t=>(t.byParentCourseId[o]=r.map(e=>e.id),r.forEach(r=>{let s=e.byChildCourseId[r.id];t.byChildCourseId[r.id]={...(0,n.rL)(s,r)}}),t))},[(0,n.fJ)(d.CHILD_COURSES_LOAD)]:n.Nh,[(0,n.ok)(d.CHILD_COURSE_LOAD)]:(e,t)=>{let{childCourse:r}=t;return(0,s.jM)(e,t=>{let s=e.byChildCourseId[r.id];t.byChildCourseId[r.id]={...(0,n.rL)(s,r)}})}}),E={loadChildCourses:e=>(0,n.VP)(d.CHILD_COURSES_LOAD,async()=>{try{let t=await l({courseId:e,fields:["id","childCourse"]});return{courseId:e,childCourses:t.results}}catch(e){throw{err:e}}}),loadChildCourse:(e,t)=>(0,n.VP)(d.CHILD_COURSE_LOAD,async()=>{try{let r=await u({parentCourseId:e,childCourseId:t,fields:["id","childCourse"]});return{childCourseId:t,childCourse:r}}catch(e){throw{err:e}}})},p={byParentCourseId:(e,t)=>{let r=e.courseChildren.byParentCourseId[t];if(r)return r.map(t=>e.courseChildren.byChildCourseId[t])},byChildCourseId:(e,t)=>e.courseChildren.byChildCourseId[t]}},728090:(e,t,r)=>{"use strict";r.d(t,{$U:()=>d,Ab:()=>a,JE:()=>E,Oh:()=>y,QG:()=>u,dH:()=>g,dy:()=>l,f7:()=>p,h9:()=>c,u5:()=>m});var s=r(339279),n=r(825271),o=r(647059),i=r(853400);let a=(0,i.Y)(s.G2,n.vG),l=(0,i.Y)(s.nk,n.vG),u=(0,i.Y)(s.cN,n.vG),d=(0,i.Y)(s.Dv,n.vG),c=async e=>{let{courseFoundationsId:t}=e;return function(e){let{results:t}=e;return{achievementsById:(0,o.jD)(t),achievementIds:t.map(e=>e.id)}}(await (0,i.Y)(s.ph,n.vG)(t))},E=(0,i.Y)(s.zx,n.vG),p=(0,i.Y)(s.fn,n.vG),m=(0,i.Y)(s.MA,n.vG),g=(0,i.Y)(s.Tl,n.vG),y=(0,i.Y)(s.e4,n.vG)},728959:(e,t,r)=>{"use strict";r.d(t,{jz:()=>u,xO:()=>a,xy:()=>l});var s=r(397965),n=r(608719),o=r(825271);let i="/v1/users/%userId%/preferences/%key%";function a(e){return null==e.userId&&(e.userId="me"),(0,s.Jt)((0,s.c$)(i,e))}async function l(e,t){let r=t&&t.userId||"me",n=(0,s.c$)(i,{userId:r,key:e.key});return(0,s.yJ)(n,e)}async function u(e){return(0,n.dvE)(o.dZ,{key:e})}},730372:(e,t,r)=>{"use strict";r.d(t,{E:()=>s.E}),r(713759);var s=r(171908)},730539:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>l,C7:()=>n,Lx:()=>a,W3:()=>s.Hu,oM:()=>o,t7:()=>i});var s=r(232709);let n="left",o="center",i="right",a="justify";s.Hu.whitelist=[n,o,i,a],s.Hu.createChange=(e=n)=>({format:{align:e}});let l=s.Hu},732583:(e,t,r)=>{"use strict";function s(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((e,r)=>t[r]===e)}function n(e,t){return e===t||JSON.stringify(e)===JSON.stringify(t)}function o(e,t){if(e===t)return!0;if(!e||!t)return e===t;let r=Object.keys(e);if(!s(r,Object.keys(t)))return!1;for(let s of r)if(e[s]!==t[s])return!1;return!0}r.d(t,{Cu:()=>o,Y_:()=>n,oJ:()=>s})},734506:(e,t,r)=>{"use strict";r.d(t,{W:()=>o,b:()=>n});var s=r(168698);function n(e){return!!e&&function(e){var t,r,n,o;let i=e instanceof HTMLElement?e:null==e?void 0:e.domNode;return(null==(t=null==i?void 0:i.tagName)?void 0:t.toLowerCase())===(null==(r=s.nA.tagName)?void 0:r.toLowerCase())||(null==(n=null==i?void 0:i.tagName)?void 0:n.toLowerCase())===(null==(o=s.nd.tagName)?void 0:o.toLowerCase())}(e)&&function(e){var t,r,n;let o=e instanceof HTMLElement?e.parentElement:null==(t=null==e?void 0:e.parent)?void 0:t.domNode;return(null==(r=null==o?void 0:o.tagName)?void 0:r.toLowerCase())===(null==(n=s.Hj.tagName)?void 0:n.toLowerCase())}(e)&&function(e){var t,r,n,o,i;let a=e instanceof HTMLElement?null==(t=e.parentElement)?void 0:t.parentElement:null==(n=null==(r=null==e?void 0:e.parent)?void 0:r.parent)?void 0:n.domNode;return(null==(o=null==a?void 0:a.tagName)?void 0:o.toLowerCase())===(null==(i=s.K3.tagName)?void 0:i.toLowerCase())}(e)}function o(e){var t,r;let s={"code-block":!0};if(n(e)){let n=null==e?void 0:e.domNode,o=null==(t=e.parent)?void 0:t.domNode,i=null==(r=e.parent.parent)?void 0:r.domNode;s[n.tagName.toLowerCase()]=null==n?void 0:n.getAttribute("cell_id"),s[o.tagName.toLowerCase()]=null==o?void 0:o.getAttribute("row_id"),s[i.tagName.toLowerCase()]=null==i?void 0:i.getAttribute("table_id")}return s}},734622:(e,t,r)=>{"use strict";r.d(t,{A:()=>T});var s=r(514041),n=r(843144),o=r(145558),i=r(4586),a=r(158301),l=r(578503),u=r(226785),d=r(583307),c=r(241101),E=r(689133),p=r(720425),m=r(151927),g=r(921316),y=r(944763);let I="editYoutubeVideo",A="embedded-app",h=[`a[data-bbtype="${A}"]`],_="geolocation *; microphone *; camera *; midi *; encrypted-media *; fullscreen *";function b(e){let t=t=>{if(t.data.messageType!==m.A.incoming.pageLoaded||!e)return;let r=Array.from(e.querySelectorAll(".embedded-app-container")).find(e=>e.contentWindow===t.source);r&&r.onEmeddedAppLoaded&&r.onEmeddedAppLoaded(t)};return window.addEventListener("message",t),()=>{window.removeEventListener("message",t)}}function S(e,t){let r=JSON.parse(t.bbfile);return`<a href="${r.src}" data-bbtype="${A}" data-bbfile="${(0,c.Ay)(t.bbfile)}">${r.alt}</a>`}let T=e=>({pluginId:I,buttonConfig:function(e){return{id:I,cssClass:I,iconName:"app",iconComponent:g.q,isDialog:!0,isActive:e=>{let t=e.bbfile?JSON.parse((0,y.zY)(e.bbfile)):{};return!!e[E.oE.type]&&t&&t.embeddedAppConfig&&t.embeddedAppConfig.isEditable},onClick:({editorFormat:t,showModal:r,buttonNode:s,...n})=>new Promise((r,n)=>{let{embeddedAppConfig:o}=t.bbfile?JSON.parse(t.bbfile):{},{id:i}=o;(0,a.A)(i,e,s).then(e=>{e?r(e.srcURL):n()})}).then(s=>{let o=JSON.parse(t.bbfile);r(u.A,{goBack:()=>{},srcURL:s,editingData:o,...e,...n})}).catch(()=>{r(l.A,{destroy:n.destroy,messageType:"mashupNotAvailable"})})}}(e),formatter:(e=>({type:"embed",blotName:A,tagName:"div",attributes:{"data-bbtype":I,"data-bbfile":null},renderDomNode(t,r,l,u){var c;let E=JSON.parse(l.bbfile),{embeddedAppConfig:m,linkRefId:g}=E,{id:y}=m||{id:`content_market${g}_${Math.floor(1e3*Math.random())}`},I=(0,d.A)(t,r,l),A=document.createElement("div"),h=document.createElement("div"),b=document.createElement("div"),S={allow:_,className:"embedded-app-container hidden no-select",frameBorder:0,id:y,tabIndex:!u.isReadOnly||u.isDisabled?-1:0,width:"100%"};A.classList.add("bb-embedded-app"),E.height&&(A.style.height=`${E.height}px`);let T=e=>{e.height&&(A.style.height=`${e.height}px`)};I.contentEditable="false",I.classList.add("wants-props-update"),I.style.paddingBottom=".1rem",I.style.overflow="hidden",I.style.display="flex",I.style.justifyContent="center",b.classList.add("embedded-app-overlay"),h.classList.add("loading-container"),I.appendChild(A),n.render(s.createElement(o.Spinner,{size:o.SpinnerSize.large}),h);let O=u.localize.getLocalePropsForClone(),v={title:E.title||u.localize.translate("bbmlEditor.editor.lightboxDefaultTitle"),fullScreenButtonText:u.localize.translate("bbmlEditor.editor.fullScreenButtonText")},f=new i.d(A,O,S,{localizedStrings:v,firstFocusableContentSelector:`.${S.id}`});return(A.childNodes[0]||A.appendChild(document.createElement("div"))).classList.add("no-longtext"),A.appendChild(h),A.appendChild(b),I.formatComponent=e=>{f.update(O,{tabIndex:!e.isReadOnly||e.isDisabled?"-1":"0"},{})},m?(0,a.A)(y,e,t).then(t=>{let r=t.srcURL;f.update(O,{onEmeddedAppLoaded:t=>{var s;h.classList.replace("loading-container","hidden"),f.update(O,{className:"embedded-app-container no-select",src:r},{});let n=new URL(r,window.origin);if(t.origin===n.origin){let r={apiBasePath:e.apiBasePath,xsrfToken:e.xsrfToken,locale:O.locale},n=(0,p.yZ)(r,E);null==(s=t.source)||s.postMessage(n,t.origin)}}},{})}):null==(c=null==e?void 0:e.getEmbedSrc)||c.call(e,E).then(e=>{let t;h.classList.remove("loading-container"),h.classList.add("hidden");try{t={onLtiFrameResize:T,originUrl:new URL(E.url).origin}}catch(e){}f.update(O,{src:e,allow:"autoplay *; fullscreen *; microphone *; encrypted-media *",className:"embedded-app-container no-select"},{},t)}),I}}))(e),matchers:h,toBbML:S,onLoad:b,IFRAME_ALLOW:_})},736150:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});class s{async goToRoute(){throw Error("routeHandler.goToRoute called before setting routeHandler")}async goPeekState(){throw Error("routeHandler.goPeekState called before setting routeHandler")}async getPeekHref(){throw Error("routeHandler.getPeekHref called before setting routeHandler")}async leavePeekState(){throw Error("routeHandler.leavePeekState called before setting routeHandler")}async search(){throw Error("routeHandler.search called before setting routeHandler")}getHref(){throw Error("routeHandler.getHref called before setting routeHandler")}onRouteChanging(){throw Error("routeHandler.onRouteChanging called before setting routeHandler")}getCurrentRoute(){throw Error("routeHandler.getCurrentRoute called before setting routeHandler")}}let n=new class{constructor(){this.routeHandler=new s}setRouteHandler(e){this.routeHandler=e}goRoute(e,t,r){return this.routeHandler.goToRoute(e,t,r)}goPeekState(e,t){return this.routeHandler.goPeekState(e.routeName,e.getArgs(),t)}getPeekHref(e,t){return this.routeHandler.getPeekHref(e.routeName,e.getArgs(),t)}getHref(e,t,r){return this.routeHandler.getHref(e,t,r)}leavePeekState(e,t){return this.routeHandler.leavePeekState(e,t)}search(e,t){return this.routeHandler.search(e,t)}onRouteChanging(e){return this.routeHandler.onRouteChanging(e)}getCurrentRoute(){return this.routeHandler.getCurrentRoute()}}},736812:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={BLOG_COMMENT_ADD:"blog.comment.add",BLOG_ENTRY_COMMENTS_LOAD:"blog.entry.comments.load",BLOG_COMMENT_REMOVE:"blog.comment.remove",BLOG_COMMENT_MODIFY:"blog.comment.modify"}},736888:(e,t,r)=>{"use strict";r(542633),r(56684).V0},738293:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var s=r(877973),n=r(914752);let o=(0,s.n9)(()=>({localizedNumberInput:e=>{let{locale:t,displayWesternNumbers:r,inlineLabel:s}=e,o=(0,n.Zk)(t,r),i=o?"right":"inherit";return{flip:!o,textAlign:i,display:s?"inline-block":"block","& label":{display:s?"inline-block":"block"},'& input[type="text"], & input[type="text"]:focus':{flip:!o,textAlign:i,margin:"0",background:"transparent",height:"auto",boxShadow:"none",minHeight:"34px",border:"none",outline:"none"}}}}))},738440:(e,t,r)=>{"use strict";r.d(t,{H:()=>a});var s=r(216693),n=r(514041),o=r(910685),i=r(759059);let a=(e,t)=>{let r=(0,o.Y)(),a=(0,i.h)(t);return(0,n.useEffect)(()=>{t&&!a&&e&&r(s.o1I.content.loadContents({courseId:e,contentId:t}))},[a,e,t,r]),a}},739126:(e,t,r)=>{"use strict";r.d(t,{o1:()=>p,Ff:()=>E,Lt:()=>m});var s=r(905898),n=r(56518),o=r(968554);let i={DISCUSSION_MESSAGE_STATE_UPDATE:"discussion.message-state.update",DISCUSSION_MESSAGE_STATE_LOAD:"discussion.message-state.load",DISCUSSION_SUBSCRIPTION_MESSAGE_ID_PERSIST:"discussion.subscription.message.id.persist"};var a=r(764209),l=r(612918);let u=e=>["byMessageId",e.messageId],d=(e,t)=>{let r=t.getState().discussionBoardMessageState.byMessageId[e.messageId];return(0,l.gE)(null==r?void 0:r.status)},c=(e,t)=>{let r=t.getState().discussionBoardMessageState.byMessageId[e.messageId];return(0,l.zO)(null==r?void 0:r.status)},E=(0,o.vy)({byMessageId:{},byForumId:{}},{[i.DISCUSSION_MESSAGE_STATE_UPDATE]:(0,l.rK)(u,l.hu.Update,l.p_),[(0,o.fJ)(i.DISCUSSION_MESSAGE_STATE_UPDATE)]:(0,l.rK)(u,l.hu.Update,l.XP),[(0,o.ok)(i.DISCUSSION_MESSAGE_STATE_UPDATE)]:(e,t)=>{let{messageId:r,discussionMessageState:n}=t;return(0,s.Ay)(e,e=>{e.byMessageId[r]={value:n,status:(0,l.Lx)(l.hu.Update,e.byMessageId[r],l.U8)}})},[i.DISCUSSION_MESSAGE_STATE_LOAD]:(0,l.rK)(u,l.hu.Load,l.p_),[(0,o.fJ)(i.DISCUSSION_MESSAGE_STATE_LOAD)]:(0,l.rK)(u,l.hu.Load,l.XP),[(0,o.ok)(i.DISCUSSION_MESSAGE_STATE_LOAD)]:(e,t)=>{let{messageId:r,discussionMessageState:n}=t;return(0,s.Ay)(e,e=>{e.byMessageId[r]={value:n,status:(0,l.Lx)(l.hu.Load,e.byMessageId[r],l.U8)}})},[(0,o.ok)(i.DISCUSSION_SUBSCRIPTION_MESSAGE_ID_PERSIST)]:(e,t)=>{let{forumId:r,messageId:n}=t;return(0,s.Ay)(e,e=>{r&&n&&(e.byForumId[r]={subscribableMessageId:n})})},[(0,o.ok)(a.g.CONTENT_LOAD)]:(e,t)=>{let{discussionsMessageStates:r}=t;return(0,s.Ay)(e,e=>{r&&0!==Object.keys(r).length&&Object.values(r).forEach(t=>{if(t){let r=t.msgMainId;e.byMessageId[r]={value:t,status:(0,l.Lx)(l.hu.Load,e.byMessageId[r],l.U8)},t.forumId&&(e.byForumId[t.forumId]={subscribableMessageId:r})}})})}}),p={loadDiscussionMessageState:e=>(0,o.Vy)(i.DISCUSSION_MESSAGE_STATE_LOAD,async()=>{try{let t=await (0,n.gF)(e);return{messageId:e.messageId,discussionMessageState:t}}catch(t){throw new o.GS(t).setData({messageId:e.messageId})}},{data:{messageId:e.messageId},condition:d}),updateDiscussionMessageState:(e,t)=>(0,o.Vy)(i.DISCUSSION_MESSAGE_STATE_UPDATE,async()=>{try{let r=await (0,n.pA)(e,t);return{messageId:e.messageId,discussionMessageState:r}}catch(t){throw new o.GS(t).setData({messageId:e.messageId})}},{data:{messageId:e.messageId},condition:c}),persistSubscribableMessageId:(e,t)=>(0,o.RA)(async r=>{r((0,o.rc)((0,o.ok)(i.DISCUSSION_SUBSCRIPTION_MESSAGE_ID_PERSIST),{messageId:e,forumId:t}))})},m={getDiscussionMessageStateByMessageId:(e,t)=>{var r;return null==(r=e.discussionBoardMessageState.byMessageId[t])?void 0:r.value},getSubscribableMessageIdByForumId:(e,t)=>{var r;return null==(r=e.discussionBoardMessageState.byForumId[t])?void 0:r.subscribableMessageId}}},740042:(e,t,r)=>{"use strict";r.d(t,{o1:()=>c,Ff:()=>d,Lt:()=>E});var s=r(905898),n=r(56518),o=r(968554),i=r(612918);let a={REVEAL_ANONYMOUS_DISCUSSION:"reveal.anonymous.discussion"},l=e=>["byMessageId",e.messageId],u=(e,t)=>{let r=t.getState().discussionBoardAnonymous.byMessageId[e.messageId];return(0,i.gE)(null==r?void 0:r.status)},d=(0,o.vy)({byMessageId:{}},{[a.REVEAL_ANONYMOUS_DISCUSSION]:(0,i.rK)(l,i.hu.Load,i.p_),[(0,o.ok)(a.REVEAL_ANONYMOUS_DISCUSSION)]:(e,t)=>{let{messageId:r,learnUser:n}=t;return(0,s.Ay)(e,e=>{e.byMessageId[r]={value:n,status:(0,i.Lx)(i.hu.Load,e.byMessageId[r],i.U8)}})},[(0,o.fJ)(a.REVEAL_ANONYMOUS_DISCUSSION)]:(0,i.rK)(l,i.hu.Load,i.XP)}),c={getRevealAuthorInfo:(e,t)=>(0,o.Vy)(a.REVEAL_ANONYMOUS_DISCUSSION,async()=>{try{let r=await (0,n.V9)(e,{reason:t});return{messageId:e.messageId,learnUser:r}}catch(t){throw new o.GS(t).setData({messageId:e.messageId})}},{data:{messageId:e.messageId},condition:u})},E={getRevealAuthorInfoStateByMessageId:(e,t)=>{var r;return null==(r=e.discussionBoardAnonymous.byMessageId[t])?void 0:r.value}}},740284:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var s=r(56684);class n extends s.mj{constructor(e){super("/v1/courses/%courseId%/gradebook/columns/%columnId%/statistics",e)}}},744756:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,f:()=>o});var s=r(397965);let n="/v1/courses/%courseId%/progress/configuration",o=e=>(0,s.Jt)((0,s.c$)(n,e)),i=(e,t)=>{let r=(0,s.c$)(n,{courseId:t.courseId});return(0,s.F6)(r,e)}},746404:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>u,Lt:()=>c,o1:()=>d});var s=r(905898),n=r(467338),o=r(968554),i=r(12679);let a={totalCount:0,unreadCount:0},l={courseMessageCount:{...a},isLoading:!1,isValid:!1},u=(0,o.vy)({counts:{overall:{totalCount:0,unreadCount:0},byCourseId:{}},isLoading:!1,courseMessageOption:{byCourseId:{}}},{[i.g.COURSE_MESSAGE_COUNT_LOAD_ALL]:o.r1,[(0,o.ok)(i.g.COURSE_MESSAGE_COUNT_LOAD_ALL)]:(e,t)=>{if(!(null==t?void 0:t.count))return(0,o.Zg)(e,t);let r=(0,s.Ay)(e,e=>{e.counts.overall=t.count});return(0,o.Zg)(r,t)},[(0,o.fJ)(i.g.COURSE_MESSAGE_COUNT_LOAD_ALL)]:o.Nh,[i.g.COURSE_MESSAGE_COUNT_LOAD_SINGLE]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{e.counts.byCourseId[r]?e.counts.byCourseId[r].isLoading=!0:e.counts.byCourseId[r]={...l,isLoading:!0}})},[(0,o.ok)(i.g.COURSE_MESSAGE_COUNT_LOAD_SINGLE)]:(e,t)=>{let{courseId:r,courseMessageCount:n}=t;return r?n?(0,s.Ay)(e,e=>{e.counts.byCourseId[r]={...l,courseMessageCount:n,isValid:!0}}):(0,s.Ay)(e,e=>{e.counts.byCourseId[r]={...l,isValid:!0}}):(0,o.Zg)(e,t)},[(0,o.fJ)(i.g.COURSE_MESSAGE_COUNT_LOAD_SINGLE)]:(e,t)=>{let{courseId:r}=t;return(0,s.Ay)(e,e=>{e.counts.byCourseId[r]?(e.counts.byCourseId[r].isLoading=!1,e.counts.byCourseId[r].isValid=!1):e.counts.byCourseId[r]={...l}})},[(0,o.ok)(i.g.COURSE_MESSAGE_OPTION_LOAD)]:(e,t)=>{let{courseId:r,courseMessageOption:n}=t;return r&&n?(0,s.Ay)(e,e=>{e.courseMessageOption.byCourseId[r]={courseMessageOption:n}}):(0,o.Zg)(e,t)},[(0,o.fJ)(i.g.COURSE_MESSAGE_OPTION_LOAD)]:(e,t)=>(0,o.Nh)(e,t,{}),[(0,o.ok)(i.g.COURSE_MESSAGE_OPTION_UPDATE)]:(e,t)=>{let{courseId:r,courseMessageOption:n}=t;return(0,s.Ay)(e,e=>{e.courseMessageOption.byCourseId[r]={courseMessageOption:n}})},[(0,o.ok)(i.g.COURSE_MESSAGE_COUNT_UPDATE_SINGLE)]:(e,t)=>(0,s.Ay)(e,e=>{var r,s;let n=null!=(r=e.counts.byCourseId[t.courseId])?r:{...l},o=null!=(s=n.courseMessageCount)?s:{...a};o.unreadCount>0&&(o.unreadCount=o.unreadCount-t.readCount),n.courseMessageCount=o,e.counts.byCourseId[t.courseId]=n})}),d={loadOverallCourseMessageCount:e=>(0,o.VP)(i.g.COURSE_MESSAGE_COUNT_LOAD_ALL,async()=>{try{return{count:await n.l1(e)}}catch(e){throw{err:e}}}),loadCourseMessageCount:e=>(0,o.VP)(i.g.COURSE_MESSAGE_COUNT_LOAD_SINGLE,async()=>({courseMessageCount:await n.yi(e),courseId:e})),loadCourseMessageOption:e=>(0,o.VP)(i.g.COURSE_MESSAGE_OPTION_LOAD,async()=>({courseMessageOption:await n.pp(e),courseId:e})),setCourseMessageOption:(e,t)=>(0,o.VP)(i.g.COURSE_MESSAGE_OPTION_UPDATE,async()=>({courseMessageOption:await n.wE(e,t),courseId:e})),updateCourseMessageCount:(e,t)=>(0,o.VP)(i.g.COURSE_MESSAGE_COUNT_UPDATE_SINGLE,async()=>({readCount:t,courseId:e}))},c={getOverallUnreadMessageCount:e=>{var t,r,s,n;return null!=(n=null==(s=null==(r=null==(t=e.courseMessage)?void 0:t.counts)?void 0:r.overall)?void 0:s.unreadCount)?n:0},getCourseUnreadMessageCount:(e,t)=>{var r,s,n;let o=null==(s=null==(r=e.courseMessage)?void 0:r.counts)?void 0:s.byCourseId[t];return null!=(n=null==o?void 0:o.courseMessageCount)?n:{...a}},getCourseMessageOption:(e,t)=>{var r,s;let n=null==(s=null==(r=e.courseMessage)?void 0:r.courseMessageOption)?void 0:s.byCourseId[t];if(n)return n.courseMessageOption}}},747265:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>l,Lt:()=>d,gK:()=>a,o1:()=>u});var s=r(968554),n=r(504566),o=r(905898),i=r(56174);let a={GRADABLE_USER_OPTION_ITEM_PUT:"gradable.user.option.item.put",GRADABLE_USER_OPTION_ITEM_DELETE:"gradable.user.option.item.delete",GRADABLE_USER_OPTION_ITEM_LOAD:"gradable.item.user.option.load",GRADABLE_USER_OPTION_COUNT_ITEM_LOAD:"gradable.item.user.option.count.load",GRADABLE_USER_OPTION_EXCEPTIONS_ITEM_LOAD:"gradable.item.user.option.exceptions.load"},l=(0,s.vy)({byColumnId:{},isLoading:!1,exceptionsCount:{fixedDueDateExceptionCount:void 0,relativeDueDateExceptionCount:void 0,unlimitedDueDateExceptionCount:void 0,withDueDateExceptionCount:void 0}},{[a.GRADABLE_USER_OPTION_ITEM_PUT]:s.r1,[(0,s.ok)(a.GRADABLE_USER_OPTION_ITEM_PUT)]:(e,t)=>{let{item:r}=t,{membershipId:n,groupId:i,columnId:a}=r,l=(0,o.Ay)(e,e=>{var t,s,o,l,u,d;let c={[a]:{}};n&&(c[a].byCourseMembershipId={...null==(t=e.byColumnId[a])?void 0:t.byCourseMembershipId,[n]:{...null==(o=null==(s=e.byColumnId[a])?void 0:s.byCourseMembershipId)?void 0:o[n],...r}}),i&&(c[a].byGroupId={...null==(l=e.byColumnId[a])?void 0:l.byGroupId,[i]:{...null==(d=null==(u=e.byColumnId[a])?void 0:u.byGroupId)?void 0:d[i],...r}}),e.byColumnId={...e.byColumnId,[r.columnId]:c[a]}});return(0,s.Zg)(l,t)},[(0,s.fJ)(a.GRADABLE_USER_OPTION_ITEM_PUT)]:s.Nh,[a.GRADABLE_USER_OPTION_ITEM_DELETE]:s.r1,[(0,s.ok)(a.GRADABLE_USER_OPTION_ITEM_DELETE)]:(e,t)=>{let r=(0,o.Ay)(e,e=>{e.byColumnId[t.columnId]&&delete e.byColumnId[t.columnId]});return(0,s.Zg)(r,t)},[(0,s.fJ)(a.GRADABLE_USER_OPTION_ITEM_DELETE)]:s.Nh,[a.GRADABLE_USER_OPTION_ITEM_LOAD]:s.r1,[(0,s.ok)(a.GRADABLE_USER_OPTION_ITEM_LOAD)]:(e,t)=>{let r,{columnId:n,byCourseMembershipId:i,byGroupId:a}=t;return i?r=(0,o.Ay)(e,e=>{var t;e.byColumnId[n]||(e.byColumnId[n]={byCourseMembershipId:{}}),e.byColumnId[n].byCourseMembershipId={...null!=(t=e.byColumnId[n].byCourseMembershipId)?t:{},...Object.keys(i).reduce((e,t)=>({...e,[t]:{...i[t],groupId:void 0}}),{})}}):a&&(r=(0,o.Ay)(e,e=>{var t;e.byColumnId[n]||(e.byColumnId[n]={byGroupId:{}}),e.byColumnId[n].byGroupId={...null!=(t=e.byColumnId[n].byGroupId)?t:{},...Object.keys(a).reduce((e,t)=>({...e,[t]:{...a[t],membershipId:void 0}}),{})}})),(0,s.Zg)(null!=r?r:e,t)},[(0,s.fJ)(a.GRADABLE_USER_OPTION_ITEM_LOAD)]:s.Nh,[a.GRADABLE_USER_OPTION_COUNT_ITEM_LOAD]:s.r1,[(0,s.ok)(a.GRADABLE_USER_OPTION_COUNT_ITEM_LOAD)]:(e,t)=>{let r=(0,o.Ay)(e,e=>{e.exceptionsCount=t.results});return(0,s.Zg)(r,t)},[(0,s.fJ)(a.GRADABLE_USER_OPTION_COUNT_ITEM_LOAD)]:s.Nh,[a.GRADABLE_USER_OPTION_EXCEPTIONS_ITEM_LOAD]:s.r1,[(0,s.ok)(a.GRADABLE_USER_OPTION_EXCEPTIONS_ITEM_LOAD)]:(e,t)=>{let{membershipId:r,byColumnId:n}=t,i=(0,o.Ay)(e,e=>{Object.keys(n).forEach(t=>{let r=n[t];if(null==r?void 0:r.hasDueDateException){let s=r.membershipId,n=r.groupId;e.byColumnId[t]||(e.byColumnId[t]={}),s?(e.byColumnId[t].byCourseMembershipId||(e.byColumnId[t].byCourseMembershipId={}),e.byColumnId[t].byCourseMembershipId[s]=r):n&&(e.byColumnId[t].byGroupId||(e.byColumnId[t].byGroupId={}),e.byColumnId[t].byGroupId[n]=r)}})});return(0,s.Zg)(i,t)},[(0,s.ok)(i.g.EXCEPTION_DETAILS_LOAD)]:(e,t)=>{let{data:{learnExceptionDetails:r}}=t;return(0,o.Ay)(e,e=>{r&&r.length>0&&r.forEach(t=>{let{membershipId:r,groupId:s,columnId:n}=t;e.byColumnId[n]||(e.byColumnId[n]={}),(null==t?void 0:t.hasDueDateException)&&(r?(e.byColumnId[n].byCourseMembershipId||(e.byColumnId[n].byCourseMembershipId={}),e.byColumnId[n].byCourseMembershipId[r]=t):s&&(e.byColumnId[n].byGroupId||(e.byColumnId[n].byGroupId={}),e.byColumnId[n].byGroupId[s]=t))})})},[(0,s.fJ)(a.GRADABLE_USER_OPTION_EXCEPTIONS_ITEM_LOAD)]:s.Nh}),u={persistGradableItemUserOptionByMembershipId:(e,t)=>(0,s.VP)(a.GRADABLE_USER_OPTION_ITEM_PUT,()=>(0,n.T8)(e,t).then(t=>({params:e,item:t})).catch(e=>{throw{err:e}}),{}),deleteGradableItemUserOptionByMembershipId:e=>(0,s.VP)(a.GRADABLE_USER_OPTION_ITEM_DELETE,async()=>{try{return await (0,n.n6)(e),{courseId:e.courseId,columnId:e.columnId,membershipId:e.membershipId,groupId:e.groupId,byCourseMembershipId:{},byGroupId:{}}}catch(e){throw{err:e}}}),persistGradableItemUserOptionByGroupId:(e,t)=>(0,s.VP)(a.GRADABLE_USER_OPTION_ITEM_PUT,async()=>{try{let r=await (0,n.QN)(e,t);return{params:e,item:r}}catch(e){throw{err:e}}},{}),deleteGradableItemUserOptionByGroupId:e=>(0,s.VP)(a.GRADABLE_USER_OPTION_ITEM_DELETE,async()=>{try{return await (0,n.gB)(e),{courseId:e.courseId,columnId:e.columnId,byGroupId:{}}}catch(e){throw{err:e}}}),fetchGradableItemUserOption:(e,t)=>{let r={courseId:e.courseId,columnId:e.columnId,...t};return(0,s.VP)(a.GRADABLE_USER_OPTION_ITEM_LOAD,async()=>{try{return await (0,n.ml)(e,t)}catch(e){throw{err:e,query:r}}},{query:r})},fetchGradableItemUserOptionCount:(e,t)=>(0,s.VP)(a.GRADABLE_USER_OPTION_COUNT_ITEM_LOAD,async()=>{try{return await (0,n.Lf)(e)}catch(e){throw{err:e}}}),fetchGradableItemUserOptionExceptions:(e,t)=>(0,s.VP)(a.GRADABLE_USER_OPTION_EXCEPTIONS_ITEM_LOAD,async()=>{try{return await (0,n.Yn)(e,t)}catch(e){throw{err:e}}})},d={getGradableItemUserOptionByColumnAndMembershipId:(e,t,r)=>{var s;let n=e.gradableItemUserOption.byColumnId[t];return null==(s=null==n?void 0:n.byCourseMembershipId)?void 0:s[r]},getGradableItemUserOptionByColumnAndGroupId:(e,t,r)=>{var s;let n=e.gradableItemUserOption.byColumnId[t];return null==(s=null==n?void 0:n.byGroupId)?void 0:s[r]}}},749297:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var s=r(880679);let n=(e,t=!1,r)=>{var s,n;let i=null!=(n=null!=(s=null==r?void 0:r.closest(".bb-offcanvas-panel"))?s:null==r?void 0:r.closest("#site-wrap"))?n:document.body,a=null==i?void 0:i.querySelector(e);a&&o(a,t)},o=(e,t)=>{if(t){let t=(0,s.Kr)(e);if(t.length>0)return void t[0].focus()}e.hasAttribute("tabindex")||e.setAttribute("tabindex","-1"),e.focus()}},749368:(e,t,r)=>{"use strict";r.d(t,{c:()=>s,d:()=>n});let s=255,n=750},750855:(e,t,r)=>{"use strict";r.d(t,{A:()=>t8});var s=r(514041),n=r(843144),o=r(939067),i=r.n(o),a=r(959869),l=r.n(a),u=r(309546),d=r(745256),c=r(457561),E=r(553853),p=r(704684),m=r(813834),g=r.n(m),y=r(501043),I=r(880537),A=r(350437),h=r(820151);let _=c.A.import("parchment"),b=class extends y.Ay{constructor(e,t){super(e,t),this.quill.root.addEventListener("cut",this.onCut.bind(this))}convert(e){let t=this.isHTMLManuallyLoaded;if(e?this.isHTMLManuallyLoaded=!0:delete this.isHTMLManuallyLoaded,e&&(e=e.replace("<pre></pre>","<pre>&nbsp;</pre>")),!e&&!t){Array.from(this.container.querySelectorAll("img")).forEach(e=>("string"!=typeof e.src||/^(blob|data|file):.*/.test(e.src)&&void 0===e.attributes["data-mathml"])&&e.remove()),Array.from(this.container.querySelectorAll(".Wirisformula + span.sr-only")).forEach(e=>{e.remove()}),Array.from(this.container.querySelectorAll('[data-bbtype="image"]')).forEach(e=>("string"!=typeof e.getAttribute("href")||/^(blob|data|file):.*/.test(e.getAttribute("href")))&&e.remove()),this.container.innerHTML=this.container.innerHTML.replace(/<br\s?\/?>\r?\n/g,"<br>");let e=this.container.querySelector("pre");e&&!this.isCodeBlockButtonActive()&&e.appendChild(document.createElement("br")),Array.from(this.container.querySelectorAll('[data-bbtype="attachment"]')).forEach(e=>{e.setAttribute("data-bbtype","reinsertAttachment"),e.getAttribute("href").includes("/sessions/")&&e.remove()}),Array.from(this.container.querySelectorAll("[data-bbfile]")).forEach(e=>{e.parentNode.insertBefore(document.createElement("p").appendChild(document.createElement("br")),e)}),Array.from(this.container.querySelectorAll("table")).forEach(e=>{!function(e){let t=e.rows.length;for(let r=0;r<t;r++){let t=e.rows[r],s=t.cells,n=s.length,o=0;for(let i=0;i<n;i++){let n=s[o],i=n.getAttribute("rowspan"),a=n.getAttribute("colspan");if(null!==i){let t=Math.min(i-1,e.rows.length-(r+1));for(let s=0;s<t;s++){let t=e.rows[r+s+1],n=o<t.cells.length?o:-1,i=t.insertCell(n);a&&i.setAttribute("colSpan",a)}}if(null!==a){let e=a-1;for(let r=0;r<e;r++)t.insertCell(o);o+=e}o+=1}}}(e)})}return this.handleCodeBlockFormatting(t),super.convert(e)}onPaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;let t=this.quill.getSelection(),r=new(g())().retain(t.index).delete(t.length),s=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.A.sources.SILENT),setTimeout(()=>{r=r.concat(this.convert());let e="",n=this.quill.scroll.length(),o=null;if(r.ops.forEach(e=>{var t;(null==(t=e.attributes)?void 0:t.color)==="transparent"&&delete e.attributes.color}),n-t.index>1&&(r.ops.forEach(t=>{var r;(null==(r=t.attributes)?void 0:r.color)==="#ffffff"&&(t.insert=` 
`,e+=" ")}),e.length>0)){let s=this.quill.getLeaf(t.index)[0],n="text"===s.statics.blotName;for(;null!=s&&!(s instanceof I.A||s instanceof A.A);)o=s,s=s.parent;if(["TD","TH"].includes(s.domNode.nodeName)){for(;null!=s&&!(s instanceof A.A);)o=s,s=s.parent;t.index=this.quill.getIndex(o.next),r.ops[0].retain=t.index}n&&0!==t.index&&(this.quill.insertText(t.index,`
`,"silent"),r.ops[0].retain+=1,t.index+=1),o=o.next,s.insertBefore(_.create("text",`
`),o),r.ops.push({delete:2}),this.quill.insertText(t.index,e,"silent")}if(this.quill.updateContents(r,c.A.sources.USER),o){let e=this.quill.getIndex(o);-1===e&&(e=this.quill.getIndex(o.next)),this.quill.setSelection(e,c.A.sources.USER)}else this.quill.focus(),this.quill.setSelection(r.length()-t.length,c.A.sources.USER);this.quill.scrollingContainer.scrollTop=s,this.quill.focus(),this.quill.notifyPluginsOfPropChanges()},1)}onCut(e){if(e.defaultPrevented||!this.quill.isEnabled())return;let t=this.quill.getSelection();setTimeout(()=>{this.quill.setSelection(t.index,c.A.sources.SILENT)},1)}dangerouslyReplaceHTML(e){let t=this._formatBbmlText(e);return this.quill.setContents(this.convert(t))}dangerouslyPasteHTML(e,t){let r=this._formatBbmlText(t);super.dangerouslyPasteHTML(e,r)}handleCodeBlockFormatting(e){if(e&&this.isCodeBlockButtonActive()){let e=this.quill.getLength();this.quill.insertText(e,`
`,"silent"),this.quill.setSelection(e,0)}}isCodeBlockButtonActive(){return this.quill.getFormat(this.quill.selection.savedRange.index)[h.A.blotName]}_formatBbmlText(e){let t=e.replace(/[\n]\s*/g,"");return(t=t.replace(/<h(\d)\s*><\/h\d\s*>/g,"<h$1><br></h$1>")).replace(/<h(\d)\s*\/>/g,"<h$1><br></h$1>")}};var S=r(976657),T=r(186765);let O=class extends S.A{undo(){if(!this.stack)return;this.stack.undo=this.stack.undo.filter(e=>!e.redo.ops.find(e=>{var t;return null==(t=e.attributes)?void 0:t.td})&&!e.undo.ops.find(e=>{var t;return null==(t=e.attributes)?void 0:t.td}));let e=this.undoAroundTables(this.stack.undo);e.length>0&&(e[e.length-1].undo.ops=e[e.length-1].undo.ops.filter(e=>0!==e.retain),this.stack.undo=e),super.undo()}redo(){}getTableIndexes(){let e=this.quill.root.getElementsByTagName("table"),t=[];for(let r=0;r<e.length;r++){let s=e[r],n=T.Ay.find(s),o=this.quill.getIndex(n),i=o+n.length();t.push({index:o,endIndex:i})}return t}getLastSetOfOps(e){let t=[];for(let r=e.length-1;r>=0;r--){let s=e.pop();if(t=[s,...t],s.retain)break;0!==r||s.retain||(t=[{retain:0},...t])}return t}getOpsLength(e){let t=0;return e.forEach(e=>{var r,s,n,o;t+=null!=(r=e.retain)?r:0,t+=null!=(n=null==(s=e.insert)?void 0:s.length)?n:0,t+=null!=(o=e.delete)?o:0}),t}addOffsetToTableIndexes(e,t){e.forEach(e=>{e.index+=t,e.endIndex+=t})}undoAroundTables(e){var t,r;let s=null==(t=e[e.length-1])?void 0:t.undo.ops,n=this.getTableIndexes();if(0===n.length||!s)return e;for(;n.length>0;){let e=n.shift(),t=this.getLastSetOfOps(s),o=this.getOpsLength(s);for(;t.length>0;){let i=t.shift();if(void 0!==i.retain)o+i.retain===e.index?(t.length>0&&(void 0!==t[0].attributes?t[0].attributes={...null==(r=t[0])?void 0:r.attributes,...i.attributes}:t[0].delete?s.push(i):t[0].attributes=i.attributes||{},t.length>1&&t[1].insert&&(delete t[1].insert,t[1].retain=1)),s.push(...t),t.length=0):o+i.retain>e.index&&i.retain<e.endIndex?(i.retain=i.retain+e.endIndex-e.index+1,s.push(i,...t),t.length=0):i.retain+o<e.index?(o+=i.retain,0!==i.retain&&s.push(i)):(s.push(i,...t),t.length=0);else if(i.delete)if(i.delete+o>e.index){let r=i.delete+o-e.index;i.delete=i.delete-r,s.push(i,{retain:e.endIndex-e.index+1},{delete:r},...t),t.length=0}else o+=i.delete,s.push(i);else i.insert&&(`
`===i.insert?this.addOffsetToTableIndexes(n,1):(o+=i.insert.length,this.addOffsetToTableIndexes(n,i.insert.length)),s.push(i))}}return e}};var v=r(573147),f=r(336339),C=r(168698);let R=T.Ay.import("parchment");class D extends v.A{static register(){T.Ay.register(C.nA,!0),T.Ay.register(C.nd,!0),T.Ay.register(C.Hj,!0),T.Ay.register(C.BF,!0),T.Ay.register(C.K3,!0),T.Ay.register(C.cg,!0)}constructor(...e){super(...e),this.listenBalanceTables()}balanceTables(){let e=this.quill.scroll.descendants(C.K3),t=this.checkTablesMerge(e);if(0===t.length)return;e=e.filter(e=>t.includes(e.formats().table));for(let t=e.length-1;t>=0;t--){let r=e[t],s=r.children.tail;for(;s.prev;)this.quill.scroll.insertBefore(s.prev,r);let n=s.children.tail,o=r.prev;for(;o&&!o.formats().tablebr&&!o.prev.formats().table;)n.insertBefore(o,n.children.head),o=r.prev;n.children.tail.remove(),r.next.domNode.remove(),this.quill.scroll.removeChild(r.next)}e[e.length-1].next||this.quill.scroll.appendChild(R.create("text",`
`));let r=null,s=null;e.forEach(e=>{let t=e.children.head,n=t.formats();if(r!==n.tr)r=n.tr,s=t;else{let e=t.children.head;s.appendChild(e)}});let n=null,o=null;e.forEach(e=>{let t=e.formats();if(n!==t.table)n=t.table,o=e;else{let t=e.children.head;o.appendChild(t)}})}checkTablesMerge(e=this.quill.scroll.descendants(C.K3)){let t=[],r=[];for(let s=0;s<e.length;s++){let n=e[s].domNode.getAttribute("table_id");t.includes(n)&&!r.includes(n)&&r.push(n),e[s].prev.formats().tablebr||r.includes(n)||r.push(n),t.push(n)}return r}deleteColumn(){let[e,,t]=this.getTable();if(null==t)return;let r=e.children.tail.children.head instanceof C.nd;if(!t.next&&t.prev){let e=t.prev.getIndexAndOffset()[1];this.quill.setSelection(e,T.Ay.sources.SILENT)}e.deleteColumn(t.getIndexAndOffset()[0]),r&&this.updateHeaderCol(!0),this.quill.update(T.Ay.sources.USER)}deleteRow(){let[,e,t]=this.getTable();if(null==e)return;let r=e.children.tail instanceof C.nd,s=t.getIndexAndOffset()[0],n=0,o=null,i=!1;for(!e.next&&e.prev?o=e.prev.children.head:e.next||e.prev?o=e.next.children.head:(o=e.children.head,i=!0);o.next&&n<s&&!i;)o=o.next,n+=1;this.quill.setSelection(o.getIndexAndOffset()[1],T.Ay.sources.SILENT),e.remove(),r&&this.updateHeaderRow(!0),this.quill.update(T.Ay.sources.USER)}deleteTable(){var e;let[t]=this.getTable();if(null==t)return;let r=t.offset()-1;(null==(e=t.prev)?void 0:e.statics.blotName)===C.cg.blotName&&t.prev.domNode.getAttribute("table_id")===t.domNode.getAttribute("table_id")&&t.prev.remove(),t.remove(),this.quill.update(T.Ay.sources.USER),this.quill.setSelection(r,T.Ay.sources.SILENT)}getTable(e=this.quill.getSelection()){if(null==e)return[null,null,null,-1];let[t,r]=this.quill.getLine(e.index),s=this.getCellOfContent(t);if(null==s)return[null,null,null,-1];let n=s.parent;return[n.parent,n,s,r]}getCells(){let[e]=this.getTable();return e?e.getCells():[]}getCellOfContent(e){if(!e)return null;let t=e.parent;for(;t;){if(t.statics.blotName===C.nA.blotName||t.statics.blotName===C.nd.blotName)return t;t=t.parent}return null}getTableData(e=!1,t=!1,r=this.quill.getSelection()){let s=this.getTable(r)[0],n=this.getTableColumnsCount(s),o=this.getTableRowsCount(s);if(e!==t)return{columnCount:n,rowCount:o,headerRow:e,headerColumn:t};let i=this.getTableHeadersValue(e,t);return{columnCount:n,rowCount:o,headerRow:i.row,headerColumn:i.column}}getTableColumnsCount(e){return 0>=this.getTableRowsCount(e)||!e.children.head.children?0:e.children.head.children.length}getTableRowsCount(e){return(null==e?void 0:e.children)?e.children.length:0}getTableHeadersValue(e=!1,t=!1,r=this.quill.getSelection()){let s=this.getTable(r)[0],n={row:!1,column:!1},o=this.getTableColumnsCount(s),i=this.getTableRowsCount(s);return 0>=this.getTableRowsCount(s)||!s.children.head.children||(1===o&&1===i?this.isHeaderCell(s.children.tail.children.head)&&(n.row=e,n.column=t,e||t||(n.row=!0,t=!1)):1!==i||!(o>1)||e||t?1!==o||!(i>1)||e||t?(this.isHeaderCell(s.children.tail.children.head)&&(n.column=!0),this.isHeaderCell(s.children.head.children.tail)&&(n.row=!0)):(this.isHeaderCell(s.children.head.children.tail)&&(n.row=!0,n.column=!1),this.isHeaderCell(s.children.tail.children.head)&&(n.row=!1,n.column=!0)):(this.isHeaderCell(s.children.tail.children.head)&&(n.row=!1,n.column=!0),this.isHeaderCell(s.children.head.children.tail)&&(n.row=!0,n.column=!1))),n}isHeaderCell(e){return e.domNode.localName.toLowerCase()===C.nd.tagName.toLowerCase()}insertColumn(e){let t=this.quill.getSelection(),[r,s,n]=this.getTable(t);if(null==n)return;let o=n.getIndexAndOffset()[0];r.insertColumn(o,e),this.quill.update(T.Ay.sources.USER);let i=r.children.head.children.map(e=>e)[o+e];this.quill.setSelection(i.offset(this.quill.scroll),0,T.Ay.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){let t=this.quill.getSelection(),[r,s,n]=this.getTable(t);if(null==n)return;let o=s.rowOffset()[0];r.insertRow(o,e),this.quill.update(T.Ay.sources.USER);let i=r.children.map(e=>e)[o+e].children.head;this.quill.setSelection(i.offset(this.quill.scroll),0,T.Ay.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertColumns(e,t){let r=this.quill.getSelection(),[s,n]=this.getTable(r),o=s.getLastCell();if(null==o)return;let i=o.getIndexAndOffset()[0];for(let r=0;r<e;r++)s.insertColumn(i,t);this.quill.update(T.Ay.sources.USER);let a=n.rowOffset()[0];0===t&&(a+=1),this.quill.setSelection(r.index+a,r.length,T.Ay.sources.SILENT)}insertRows(e,t){let r=this.quill.getSelection(),[s]=this.getTable(r),n=s.getLastCell(),o=n.parent;if(null==n||null==o)return;let i=o.rowOffset()[0];for(let r=0;r<e;r++)s.insertRow(i,t);this.quill.update(T.Ay.sources.USER),1===t?this.quill.setSelection(r,T.Ay.sources.SILENT):this.quill.setSelection(r.index+o.children.length,r.length,T.Ay.sources.SILENT)}deleteColumns(e){let t=this.quill.getSelection(),[r,s,n]=this.getTable(t);if(null==n||null==s)return;let o=n.getIndexAndOffset()[0],i=s.children.length-1-e;for(let t=0;t<e;t++){let e=s.children.length-1;r.deleteColumn(e),this.quill.update(T.Ay.sources.USER)}if(i<o){let e=s.children.tail.getIndexAndOffset()[1];this.quill.setSelection(e,t.length,T.Ay.sources.SILENT)}this.quill.update(T.Ay.sources.USER)}deleteRows(e){let t=this.quill.getSelection(),[r,s,n]=this.getTable(t);if(null==n||null==s)return;let o=s.rowOffset()[0],i=n.getIndexAndOffset()[0],a=r.children.length-e-1;for(let t=0;t<e;t++)r.children.tail.remove(),this.quill.update(T.Ay.sources.USER);if(a<o){let e=r.children.tail.children.head;for(let t=0;t<i;t++)e=e.next;let s=e.getIndexAndOffset()[1];this.quill.setSelection(s,t.length,T.Ay.sources.SILENT)}this.quill.update(T.Ay.sources.USER)}insertTable(e,t,r,s){this.quill.history.cutoff();let n=this.quill.getSelection();if(null==n)return;let o=(0,C.fs)("table"),i=R.create(C.K3.blotName,o);for(let r=0;r<e;r++){let e=R.create(C.Hj.blotName,(0,C.fs)("row"));for(let r=0;r<t;r++){let t=R.create(C.nA.blotName,(0,C.fs)("cell")),r=R.create("block");r.appendChild(R.create("text",`
`)),t.appendChild(r),e.appendChild(t)}i.appendChild(e)}i.updateHeaderCol(s),i.updateHeaderRow(r),this.insertBlot(n,i),i.parent.insertBefore(R.create(C.cg.blotName,o),i),this.quill.update(T.Ay.sources.USER);let a=this.quill.history.stack.undo.pop();this.quill.history.stack.undo.forEach(e=>{var t,r,s;let n=null!=(t=a.undo.ops[0].retain)?t:0,o=null!=(s=null!=(r=a.undo.ops[0].delete)?r:a.undo.ops[1].delete)?s:0;e.undo.ops.forEach(e=>{e.retain&&e.retain>=n&&(e.retain+=o)})}),n.index+=1,this.quill.setSelection(n)}editTable(e,t){let r=this.getTableData();if(null==this.quill.getSelection())return;let s=t-r.columnCount,n=e-r.rowCount;n>0?this.insertRows(n,1):n<0&&this.deleteRows(Math.abs(n)),s>0?this.insertColumns(s,1):s<0&&this.deleteColumns(Math.abs(s)),this.updateNullSelection()}insertBlot(e,t){let r=this.quill.getLeaf(e.index)[0],s=r.statics.blotName===f.A.blotName,n=null;for(;null!=r&&!(r instanceof I.A||r instanceof A.A);)n=r,r=r.parent;if(s){let e=R.create("text",`
`);n.next?(r.insertBefore(e,n.next),r.insertBefore(t,n.next)):(r.appendChild(t),r.appendChild(e,n));return}r.insertBefore(t,n)}listenBalanceTables(){this.quill.on(T.Ay.events.SCROLL_OPTIMIZE,e=>{let t=!0;for(let r=0;r<e.length&&t;r++)["TH","TD","TR","TABLE"].includes(e[r].target.tagName)&&(this.balanceTables(),t=!1)})}updateHeaderRow(e){let t=this.getTable()[0],r=this.quill.getSelection();null!==t&&(t.updateHeaderRow(e),this.quill.setSelection(r))}updateHeaderCol(e){let t=this.getTable()[0],r=this.quill.getSelection();null!==t&&(t.updateHeaderCol(e),this.quill.setSelection(r))}updateNullSelection(){null===this.quill.getSelection()&&this.quill.setSelection(this.quill.selection.savedRange)}deltaHasTable(e){return e.ops.some(e=>e.attributes&&(e.attributes["table-container"]||e.attributes["table-cell"]))}deltaHasDangerousContent(e){let t=!1;for(let r=0;r<e.ops.length&&!t;r++){let s=e.ops[r];s.attributes&&(t=["header","src","list"].some(e=>Object.keys(s.attributes).includes(e))),s.insert&&!t&&((t=["inlineImage"].some(e=>Object.keys(s.insert).includes(e)))||(t=s.insert.includes(`
`,"cJ",`
`,"\f","\r")))}return t}}var L=r(540473),N=r(434369),U=r(957977),P=r(142873),w=r(361562),k=r(780195),M=r.n(k);let B=new(M()).Attributor.Style("custom-indent","padding-left",{scope:M().Scope.BLOCK}),G=new(M()).Attributor.Style("custom-indent-rtl","padding-right",{scope:M().Scope.BLOCK});var x=r(23988),V=r(730539),q=r(209919),F=r(715640),K=r(788778),j=r(685190),H=r(921266),Y=r(93571),Q=r(948960),J=r(501271),$=r(672089),z=r(745341);class W extends z.A{constructor(e,t){super(e,t),e.style.color=e.color;let r=this.replaceWith(new z.A(z.A.create()));return r.children.forEach(e=>{var t,s;null==(t=e.attributes)||t.copy(r),null==(s=e.unwrap)||s.call(e)}),this.remove(),r}}W.blotName="customColor",W.tagName="FONT";var Z=r(942867),X=r(165113);class ee extends z.A{static value(e){return(0,X.gu)(e,this.blotAttributes)}static formats(e){return(0,X.gu)(e,this.blotAttributes,!0)}format(e,t){return e===this.statics.blotName&&t?(0,X.Wp)(this.domNode,this.statics.blotAttributes,t):super.format(e,t)}}ee.blotName="inline",ee.tagName="span";var et=r(32219);class er extends et.zo{static value(e){return(0,X.gu)(e,this.blotAttributes)}static formats(e){return(0,X.gu)(e,this.blotAttributes,!0)}detach(){this.domNode.unmountComponent&&this.domNode.unmountComponent(),super.detach()}format(e,t){return e===this.statics.blotName&&t?(0,X.Wp)(this.domNode,this.statics.blotAttributes,t):super.format(e,t)}}er.blotName="embed",er.tagName="div";var es=r(28003);class en extends es.A{static value(e){return(0,X.gu)(e,this.blotAttributes)}static formats(e){return(0,X.gu)(e,this.blotAttributes,!0)}detach(){this.domNode.unmountComponent&&this.domNode.unmountComponent(),super.detach()}format(e,t){return e===this.statics.blotName&&t?(0,X.Wp)(this.domNode,this.statics.blotAttributes,t):super.format(e,t)}}en.blotName="embedInline",en.tagName="span";var eo=r(452410),ei=r(734506);class ea extends h.A{replaceWith(e){this.domNode.textContent=this.domNode.textContent,this.attach(),super.replaceWith(e)}highlight(e){let t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}static formats(){return!0}delta(){let e=this.domNode.textContent;if(e.endsWith(`
`)&&(e=e.slice(0,-1)),(0,ei.b)(this.parent)){let t=(0,ei.W)(this.parent);return e.split(`
`).reduce((e,r)=>e.insert(r).insert(`
`,t),new(g()))}return e.split(`
`).reduce((e,t)=>e.insert(t).insert(`
`,this.formats()),new(g()))}format(e,t){if(e===this.statics.blotName&&t)return;let[r]=this.descendant(f.A,this.length()-1);null!=r&&r.deleteAt(r.length()-1,1),this.descendants(f.A).forEach(e=>{e.parent instanceof z.A&&e.parent.moveChildren(e.parent.parent,e.parent)}),super.format(e,t)}}ea.className="ql-syntax";let el=new(M()).Attributor.Class("token","hljs",{scope:M().Scope.INLINE}),eu=class extends eo.Ay{static register(){T.Ay.register(el,!0),T.Ay.register(ea,!0)}highlight(){if(this.quill.selection.composing)return;this.quill.update(T.Ay.sources.USER);let e=this.quill.getSelection();this.quill.scroll.descendants(h.A).forEach(e=>{e.highlight(this.options.highlight)}),this.quill.update(T.Ay.sources.SILENT),null!=e&&this.quill.hasFocus()&&this.quill.setSelection(e,T.Ay.sources.SILENT)}},ed="bbml-editor.plugins";var ec=r(107870);let eE={inline:ee,embed:er,embedInline:en},ep={"formats/header":L.A,"formats/font":N.Ay,"formats/size":U.Ay,"formats/color":P.A,"formats/list":x.B8,"formats/list/item":x.Tj,"formats/align":V.Ay,"formats/bold":q.A,"formats/italic":F.A,"formats/underline":K.A,"formats/code-block":$.A,"formats/strike":j.A,"formats/superscript":H.A,"formats/subscript":Y.A,"formats/indent":p.b,"formats/lineheight":Q.Ay,"formats/direction":J.Ay,"formats/customcolor":W,"modules/clipboard":b,"modules/history":O,"modules/table":D,"modules/syntax":eu},em=c.A.import("parchment");em.register(w.G,B,G);let eg=c.A;var ey=r(111896),eI=r(135770),eA=r(733496),eh=r(120002),e_=r(70284),eb=r(969273),eS=r(203559),eT=r(383928),eO=r(298222),ev=r(542511),ef=r(842021),eC=r(378969),eR=r(287711),eD=r(68176),eL=r(198170);ey.A.registerLanguage("c",eI.A),ey.A.registerLanguage("csharp",eA.A),ey.A.registerLanguage("cpp",eh.A),ey.A.registerLanguage("css",e_.A),ey.A.registerLanguage("go",eb.A),ey.A.registerLanguage("java",eS.A),ey.A.registerLanguage("javascript",eT.A),ey.A.registerLanguage("kotlin",eO.A),ey.A.registerLanguage("php",ev.A),ey.A.registerLanguage("python",ef.A),ey.A.registerLanguage("r",eC.A),ey.A.registerLanguage("ruby",eR.A),ey.A.registerLanguage("swift",eD.A),ey.A.registerLanguage("xml",eL.A);let eN=["td","th","tr","table","tablebr"],eU={keyboard:{bindings:{tab:{key:9,prefix:/\t$/,handler:()=>{}},"remove tab":{key:9,shiftKey:!0,prefix:/\t$/,handler:()=>{}},"list autofill":{prefix:/^\s*?(\d+\.|-|\*)$/},contextBackspace:{key:"Backspace",shiftKey:null,context:{format:eN},handler:(e,t)=>{var r;if(!Array.isArray(t.format.td)&&(t.offset>0||!t.collapsed))return!0;let s=document.getSelection().baseNode;for(;!(null==(r=s.parentNode.classList)?void 0:r.contains("ql-editor"))&&![C.nd.tagName.toLowerCase(),C.nA.tagName.toLowerCase()].includes(s.parentNode.nodeName.toLowerCase());)s=s.parentNode;if(s.previousSibling&&"TABLE"===s.previousSibling.nodeName){document.getSelection().removeAllRanges();let e=document.createRange();return e.setStartBefore(s.previousSibling),e.setEnd(s.firstChild,0),document.getSelection().addRange(e),!1}return!!s.previousSibling||Array.isArray(t.format.td)&&(0===e.index||s.previousSibling.previousSibling)}},contextDelete:{key:"Delete",context:{format:eN},handler:(e,t)=>{if(!Array.isArray(t.format.td)&&(t.suffix.length>0||!t.collapsed))return!0;let r=document.getSelection().baseNode;if("#text"===r.nodeName&&(r=r.parentNode),r.nextSibling&&"TABLE"===r.nextSibling.nodeName){document.getSelection().removeAllRanges();let e=document.createRange();return e.setStartAfter(r.lastChild),e.setEnd(r.nextSibling.nextSibling.firstChild,0),document.getSelection().addRange(e),!1}return!!r.nextSibling}},shiftDelete:{key:"Delete",shiftKey:"true",context:{format:eN},handler:()=>!1},undoTables:{key:90,shortKey:"true",handler:(e,t)=>!t.format.table}}},history:{delay:1e3,maxStack:50,userOnly:!1},table:!0,syntax:{highlight:e=>ey.A.highlightAuto(e).value}},eP=["·","o","§","v","Ø","ü"],ew=(e,t)=>e.compose(new(g())().retain(e.length(),t)),ek=()=>Math.random().toString(36).slice(2,6),eM=(e,t,r)=>"string"!=typeof t?Object.keys(t).reduce((e,r)=>eM(e,r,t[r]),e):e.reduce((e,s)=>{if(s.attributes&&s.attributes[t])return e.push(s);if(s.attributes){let n=r?{[t]:r}:{};return e.insert(s.insert,{...n,...s.attributes})}let n=r&&("table-cell"===t||"table-head"===t)?{[t]:r}:{};return e.insert(s.insert,{...n,...s.attributes})},new(g())),eB={selector:Node.ELEMENT_NODE,func:(e,t)=>{let r=[];return t.ops.forEach(e=>{e.insert&&"string"==typeof e.insert&&r.push({insert:e.insert})}),t.ops=r,t}},eG=e=>(t,r)=>{let s=r&&r.ops&&r.ops[r.ops.length-1],n=s&&"string"==typeof s.insert&&`
`===s.insert.slice(-1);return 0!==r.ops.length&&n||r.insert(`
`),eM(r,`table-${e}`,`${e}-${ek()}`)},ex=[{selector:"li",func:(e,t)=>t.ops.length?ew(t):new(g())([{insert:`
`}])},{selector:"h1",func:(e,t)=>ew(t,{header:4})},{selector:"h2",func:(e,t)=>ew(t,{header:4})},{selector:"h3",func:(e,t)=>ew(t,{header:4})},{selector:"del",func:(e,t)=>ew(t,{strike:!0})},{selector:"pre",func:(e,t)=>ew(t,{underline:!1,"code-block":!0})},{selector:"strike",func:(e,t)=>ew(t,{strike:!0})},{selector:'span[style*="line-through"]',func:(e,t)=>ew(t,{strike:!0})},{selector:'span[style*="underline"]',func:(e,t)=>ew(t,{underline:!0})},{selector:'span[style*="color: rgba(0, 0, 0, 0)"]',func:(e,t)=>ew(t,{color:""})},{selector:"table",func:(e,t)=>{let r=`table-${ek()}`,s=eM((e=>{let t=["table-container","tablebr","dummy"];return e.ops=e.ops.filter(e=>!e.attributes||t.reduce((t,r)=>t&&!(r in e.attributes),!0)),e})(t),"table-container",r),n=" ";for(let e=0;e<s.ops.length;e++){let t=s.ops[e];if(t.attributes&&"table-container"in t.attributes){let r=`
`!==t.insert.length?t.insert:` 
`;t.insert=(n+=" ")+`
`;let o=["table-container","table-row","table-cell","table-head"],i=Object.keys(t.attributes).filter(e=>!o.includes(e)).reduce((e,r)=>(e[r]=t.attributes[r],e),{});s.ops.splice(e,0,{insert:r,attributes:i}),e+=1,t.attributes=Object.keys(t.attributes).filter(e=>o.includes(e)).reduce((e,r)=>(e[r]=t.attributes[r],e),{})}}return s.ops.unshift({insert:`
`,attributes:{tablebr:r}}),s.ops=(e=>{var t;let r=null;for(let s=e.length-1;s>=0;s--){let n=e[s];n.attributes&&"table-container"in n.attributes&&(r===n.attributes["table-head"]||r===n.attributes["table-cell"]?e.splice(s,1):(r=null!=(t=n.attributes["table-head"])?t:n.attributes["table-cell"],e.splice(s+1,0,{insert:" ",attributes:{color:"#ffffff",dummy:"true"}})))}return e})(s.ops),s}},{selector:"tr",func:(e,t)=>eM(t,"table-row",`row-${ek()}`)},{selector:"th",func:eG("head")},{selector:"td",func:eG("cell")},{selector:"a",func:(e,t)=>(t.ops.forEach(e=>{var t,r;if(null==(r=null==(t=e.attributes)?void 0:t.link)?void 0:r.bbfile)try{JSON.parse(e.attributes.link.bbfile)}catch(t){delete e.attributes.link.bbfile,delete e.attributes.link.bbtype}}),t)},{selector:"p.MsoTitle",func:(e,t)=>ew(t,{header:4})},{selector:"p[class^=MsoListParagraph]",func:e=>{let t=eP.includes(e.textContent.charAt(0)),r=e.textContent.trim(),s=t?r.indexOf(e.textContent.charAt(0))+1:r.indexOf(".")+1;r=r.substring(s,r.length).replace(/\n/g," ").replace(/\u00a0/g," ").trim();let n=0,o=e.getAttribute("style");if(o){let e=o.match(/level(\d+)/);e&&(n=Number(e[1])-1)}let i=e.querySelector("a");if(i){let e=i.getAttribute("href"),s=i.textContent;return new(g())([{insert:r,attributes:{link:{href:e,text:s}}},{insert:`
`,attributes:{list:t?"bullet":"ordered",indent:n}}])}return new(g())().insert(r+`
`,{list:t?"bullet":"ordered",indent:n})}}];var eV=r(611960);let eq={EDITOR:"editor",TOOLBAR:"toolbar"},eF={CTRL:"ctrlKey",ALT:"altKey",SHIFT:"shiftKey",META:"metaKey"};class eK{static hasModifierKey(e){return Object.keys(eF).some(t=>e[eF[t]])}static hasRegularKey(e){return!!e.keyCode}constructor(){this.keyDownEventScope=eq.EDITOR,this.keyDownHandlers=[],this.enableEditorScope=this.enableEditorScope.bind(this),this.enableToolbarScope=this.enableToolbarScope.bind(this),this.inToolbarScope=this.inToolbarScope.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.addKeyDownHandler=this.addKeyDownHandler.bind(this)}enableEditorScope(){this.keyDownEventScope=eq.EDITOR}enableToolbarScope(){this.keyDownEventScope=eq.TOOLBAR}inToolbarScope(){return this.keyDownEventScope===eq.TOOLBAR}handleKeyDown(e){let t=!1,r=this.constructor.hasModifierKey(e);return this.keyDownHandlers.forEach(s=>{s.scope!==this.keyDownEventScope||s.keyCode!==e.keyCode||(s.modifierName||r)&&!e[s.modifierName]||(s.callback(e),t=!0)}),t}addKeyDownHandler(e,t,r,s){return this.keyDownHandlers.push({keyCode:e,modifierName:t,callback:r,scope:s}),()=>{this.keyDownHandlers=this.keyDownHandlers.filter(n=>n.keyCode!==e||n.modifierName!==t||n.callback!==r||n.scope!==s)}}}var ej=r(171994);let eH=["insertLocalFile","math","image","video"];var eY=r(538642);let eQ=function(e,t,r,s){let n=[],o=t;function i(e,t){return r(!0),(0,eY.A)(e,t,o)}return{setLocaleProps:e=>{o=e},onFileDrop:t=>{if(t.preventDefault(),0===n.length)return;let r=[...t.dataTransfer.files];n.forEach(t=>{t(r,e,i,o.locale,s)}),t.dataTransfer.files?t.dataTransfer.files.clear():t.dataTransfer.clearData()},onFileDragOver:e=>{e.preventDefault()},registerDropHandler:e=>{"function"==typeof e&&0>n.findIndex(t=>t===e)&&n.push(e)},hasDropHandlers:()=>n.length>0}};var eJ=r(306978),e$=r(499921);let ez=o.shape({service:e$.Pc,indexMap:o.shape({get:o.func,has:o.func,set:o.func})}),eW={service:null,indexMap:new Map},eZ="is-disabled";function eX(e,t){t&&!e.contains(eZ)?e.add(eZ):!t&&e.contains(eZ)&&e.remove(eZ)}let e0="is-read-only";function e1(e,t){t&&!e.contains(e0)?e.add(e0):!t&&e.contains(e0)&&e.remove(e0)}let e5="is-active";function e8(e,t){t&&!e.contains(e5)?e.add(e5):!t&&e.contains(e5)&&e.remove(e5)}let e9="has-focus";function e4(e,t){t&&!e.contains(e9)?e.add(e9):!t&&e.contains(e9)&&e.remove(e9)}let e6="has-error";function e2(e,t){t&&!e.contains(e6)?e.add(e6):!t&&e.contains(e6)&&e.remove(e6)}let e7="has-keyboard-focus";function e3(e,t){t&&!e.contains(e7)?e.add(e7):!t&&e.contains(e7)&&e.remove(e7)}var te=r(165217),tt=r(802928);let tr=function e(t,r,n,o){let i=function(e,t,r){let n=[];return s.Children.forEach(e,(e,t)=>{(s.Component.isPrototypeOf(e.type)||"function"==typeof e.type&&null!==e.type({...e.props,...void 0,index:t,parentIndex:void 0})||!e.props.isHideable||e.props.isActive)&&n.push(e)}),n.length?n:null}(t);return s.Children.map(i,(t,i)=>{i+=o;let a={...r};return a.children=e(t.props.children,r,i,0),s.cloneElement(t,{...t.props,...a,index:i,parentIndex:n})})};var ts=r(689133);class tn{constructor(e,t,r,s,n){this.currentMenuIndex=-1,this.currentSubmenuIndex=-1,this.isSubmenuToolbar=!1,this.isSubToolbarOpen=!1,this.hasAdditionalToolbar=!1,this.isAdditionalToolbarVisible=!1,this.hasDisabledButtons=!1,this.toolbarButtons=e,this.additionalToolbarButtons=[],this.addKeyDownHandler=t,this.onClose=r,this.onChange=s,this.onResetSubmenu=n,this.events=[],this.resetAllMenus=this.resetAllMenus.bind(this),this.selectFirstButton=this.selectFirstButton.bind(this),this.updateToolbarButtons=this.updateToolbarButtons.bind(this),this.getMenuButtonCount=this.getMenuButtonCount.bind(this),this.getSubmenuButtonCount=this.getSubmenuButtonCount.bind(this),this.getIndexes=this.getIndexes.bind(this),this.setIndexes=this.setIndexes.bind(this),this.registerEventListeners=this.registerEventListeners.bind(this),this.destroy=this.destroy.bind(this),this.moveLeft=this.moveLeft.bind(this),this.moveRight=this.moveRight.bind(this),this.moveUp=this.moveUp.bind(this),this.moveDown=this.moveDown.bind(this),this.openSubmenu=this.openSubmenu.bind(this),this.forceOpenSubmenu=this.forceOpenSubmenu.bind(this),this.setSubmenuToolbar=this.setSubmenuToolbar.bind(this),this.setSubToolbarOpen=this.setSubToolbarOpen.bind(this),this.closeAllMenus=this.closeAllMenus.bind(this),this.closeAndResetAllMenus=this.closeAndResetAllMenus.bind(this),this.registerEventListeners()}updateToolbarButtons(e,t){if(t){this.additionalToolbarButtons=e;return}this.toolbarButtons=e,this.hasDisabledButtons=this.toolbarButtons.some(e=>{var t;return null==(t=null==e?void 0:e.props)?void 0:t.isButtonDisabled})}setOnAdditionalChange(e){this.onAdditionalChange=e}getMenuButtonCount(){return this.toolbarButtons?this.additionalToolbarButtons&&this.isAdditionalToolbarVisible?this.toolbarButtons.length+this.additionalToolbarButtons.length:this.toolbarButtons.length:0}getSubmenuButtonCount(e){var t,r;let s=this.toolbarButtons.length,n=s+this.additionalToolbarButtons.length;if(e>-1){if(e<s&&(null==(t=this.toolbarButtons[e])?void 0:t.props.children))return this.toolbarButtons[e].props.children.length;if(e>=s&&e<n&&(null==(r=this.additionalToolbarButtons[e])?void 0:r.props.children))return this.additionalToolbarButtons[e].props.children.length}return 0}getIndexes(){return{currentMenuIndex:this.currentMenuIndex,currentSubmenuIndex:this.currentSubmenuIndex}}setIndexes(e,t){this.currentMenuIndex=e,this.currentSubmenuIndex=t,this.onChange&&this.onChange(this.getIndexes()),this.onAdditionalChange&&this.onAdditionalChange(this.getIndexes())}resetAllMenus(...e){var t;this.collapseAllMenus(),null==(t=this.onClose)||t.call(this,...e)}collapseAllMenus(){this.setIndexes(-1,-1)}selectFirstButton(){var e;this.isAdditionalToolbarVisible&&this.isSubToolbarOpen&&this.onResetSubmenu();let t=0;this.hasDisabledButtons&&(null==(e=this.toolbarButtons[0])?void 0:e.props.isButtonDisabled)&&(t=this.getNextAvailableItem(0,this.getMenuButtonCount())),this.setIndexes(t,-1)}registerEventListeners(){let{addKeyDownHandler:e}=this,{TOOLBAR:t}=eq,{SHIFT:r}=eF,s=(e,t="any")=>r=>{r.preventDefault(),r.stopPropagation();let{currentMenuIndex:s,currentSubmenuIndex:n}=this,o=this.getSubmenuButtonCount(s);return("any"===t||"main"===t&&-1===n||"main-no-children"===t&&-1===n&&0===o||"sub"===t&&-1!==n)&&e(r),!1};this.events.push(e(l().LEFT,null,s(this.moveLeft,"main"),t)),this.events.push(e(l().RIGHT,null,s(this.moveRight,"main"),t)),this.events.push(e(l().TAB,r,s(this.closeAndResetAllMenus,"main"),t)),this.events.push(e(l().TAB,r,s(this.closeAndResetAllMenus,"sub"),t)),this.events.push(e(l().TAB,null,s(this.closeAllMenus,"main"),t)),this.events.push(e(l().TAB,null,s(this.closeAndResetAllMenus,"sub"),t)),this.events.push(e(l().UP,null,s(this.moveUp,"sub"),t)),this.events.push(e(l().DOWN,null,s(this.moveDown,"sub"),t)),this.events.push(e(l().ESC,null,s(this.closeAllMenus),t))}destroy(){this.events.forEach(e=>e())}getPreviousAvailableItem(e,t){var r,s;for(let t=e-1;t>=0;t--)if(!(null==(r=this.toolbarButtons[t])?void 0:r.props.isButtonDisabled))return t;for(let r=t-1;r>e;r--)if(!(null==(s=this.toolbarButtons[r])?void 0:s.props.isButtonDisabled))return r;return e}moveLeft(){let{currentMenuIndex:e}=this,t=this.getMenuButtonCount();e=this.hasDisabledButtons?this.getPreviousAvailableItem(e,t):e-1<=-1?t-1:e-1,this.setIndexes(e,-1)}getNextAvailableItem(e,t){var r,s;for(let s=e+1;s<t;s++)if(!(null==(r=this.toolbarButtons[s])?void 0:r.props.isButtonDisabled))return s;for(let t=0;t<e;t++)if(!(null==(s=this.toolbarButtons[t])?void 0:s.props.isButtonDisabled))return t;return e}moveRight(){let{currentMenuIndex:e}=this,t=this.getMenuButtonCount();e=this.hasDisabledButtons?this.getNextAvailableItem(e,t):e+1===t?0:e+1,this.setIndexes(e,-1)}moveUp(){let{currentMenuIndex:e}=this,{currentSubmenuIndex:t}=this,r=this.getSubmenuButtonCount(e);r&&(t=t-1<=-1?r-1:t-1),this.setIndexes(e,t)}moveDown(){let{currentMenuIndex:e}=this,{currentSubmenuIndex:t}=this,r=this.getSubmenuButtonCount(e);r&&(t=t+1===r?0:t+1),this.setIndexes(e,t)}openSubmenu(e){let{currentMenuIndex:t,currentSubmenuIndex:r}=this,s=this.getSubmenuButtonCount(e);s&&t!==e&&-1!==r||s&&-1===r?this.setIndexes(e,0):this.closeAllMenus()}forceOpenSubmenu(e,t){this.setIndexes(e,t)}setAdditionalToolbar(e){this.hasAdditionalToolbar=e}setAdditionalToolbarVisible(e){this.isAdditionalToolbarVisible=e}setSubmenuToolbar(e){this.isSubmenuToolbar=e}setSubToolbarOpen(e){this.isSubToolbarOpen=e}closeAllMenus(){let{currentMenuIndex:e,currentSubmenuIndex:t,isSubmenuToolbar:r,isSubToolbarOpen:s,isAdditionalToolbarVisible:n}=this;if(-1===t){if(r)return!this.isSubToolbarOpen&&n?void this.resetAllMenus(!0):void(this.onResetSubmenu&&this.onResetSubmenu());if(!s)return void this.resetAllMenus(!0)}this.setIndexes(e,-1)}closeAndResetAllMenus(){this.resetAllMenus(!0)}}class to extends s.Component{constructor(e){if(super(e),this.onNavigatorChange=this.onNavigatorChange.bind(this),e.sharedNavigator){this.navigator=e.sharedNavigator;let t=e.children.filter(e=>!e.props.isHideable);this.navigator.updateToolbarButtons(t,this.props.useSharedNavigator),this.navigator.setOnAdditionalChange(this.onNavigatorChange)}else this.navigator=new tn(e.children,e.addKeyDownHandler,e.toolbarActionComplete,this.onNavigatorChange,e.resetMenu),e.shareNavigator&&e.shareNavigator(this.navigator);this.state=this.navigator.getIndexes()}componentDidMount(){this.toolbarRoot.addEventListener("mousedown",ej.jo),this.props.isSubmenuToolbar&&(this.props.hasKeyboardFocus||this.props.subToolbarFocusFirstButton)&&this.navigator.selectFirstButton()}UNSAFE_componentWillReceiveProps(e){let{currentMenuIndex:t}=this.state,{hasKeyboardFocus:r,editorHasTableSelected:s}=e,{useSharedNavigator:n}=this.props;this.navigator.setSubmenuToolbar(this.props.isSubmenuToolbar),this.navigator.setSubToolbarOpen(this.props.isSubToolbarOpen),this.navigator.setAdditionalToolbar(n),this.navigator.setAdditionalToolbarVisible(s),this.props.hasKeyboardFocus!==r&&r&&!n?this.navigator.selectFirstButton():this.props.hasKeyboardFocus===r||r?!1===this.props.hasKeyboardFocus&&-1!==t&&this.navigator.collapseAllMenus():this.navigator.resetAllMenus()}componentWillUnmount(){if(this.toolbarRoot.removeEventListener("mousedown",ej.jo),this.props.isSubmenuToolbar&&this.toolbarRoot.contains(document.activeElement)&&!this.props.hasKeyboardFocus)try{this.props.toolbarActionComplete(!0)}catch(e){}this.props.useSharedNavigator||this.navigator.destroy()}onNavigatorChange(e){this.toolbarRoot&&this.setState(e)}render(){let e={toolbarActionComplete:this.navigator.resetAllMenus,openSubmenu:this.navigator.openSubmenu,forceOpenSubmenu:this.navigator.forceOpenSubmenu,closeAllMenus:this.navigator.closeAllMenus},t=0,r=[];this.props.useSharedNavigator?(r=this.props.children.filter(e=>!e.props.isHideable),t=this.navigator.getMenuButtonCount()-r.length):r=this.props.children.filter(e=>!!e);let n=tr(r,{...this.props,...this.state,...e},null,t);this.navigator.updateToolbarButtons((e=>{let t,r=e.filter(e=>!!t||!e.props.isHideable||(e.props.pluginButtons.some(r=>!!(ts.Vp.some(t=>e.id===t.id&&r.id===t.id)&&r.isActive&&r.isActive(e.props.editorFormat))&&(t=e,!0)),!1));return t&&r.push(t),r})(n),this.props.useSharedNavigator);let{toolbarId:o,editorId:i,t:a}=this.props,l=(0,u.A)({"bb-editor-toolbar no-select":!0,"is-disabled":this.props.isDisabled,"is-hidden":this.props.isHidden,"bb-editor-submenu-toolbar":this.props.isSubmenuToolbar});return s.createElement("div",{className:l,role:"toolbar","aria-label":a(`bbmlEditor.toolbar.${o}.axAriaText`),"aria-controls":i,ref:e=>{this.toolbarRoot=e}},n)}}to.propTypes={children:i().array,addKeyDownHandler:i().func.isRequired,editorId:i().string,toolbarId:i().string,toolbarActionComplete:i().func.isRequired,hasKeyboardFocus:i().bool,isDisabled:i().bool,isRtl:i().bool,isSubmenuToolbar:i().bool,isSubToolbarOpen:i().bool,rootContentId:i().string,useSharedNavigator:i().bool,onModalOpen:i().func,subToolbarFocusFirstButton:i().bool},to.defaultProps={children:null,editorId:null,toolbarId:"defaultToolbar",hasKeyboardFocus:!1,isDisabled:!1,isRtl:!1,isSubmenuToolbar:!1,isSubToolbarOpen:!1,rootContentId:null,useSharedNavigator:!1,subToolbarFocusFirstButton:!0};let ti=(0,te.T)((0,tt.withAnalytics)(to));var ta=r(304943),tl=r(951777);let tu=()=>s.createElement("div",{className:"bb-editor-toolbar-button-separator"});var td=r(86507),tc=r(440629);class tE extends s.Component{static newState(e){let t=e.isActive&&e.isActive(e.editorFormat),r=e.isButtonDisabled,s=!r&&e.hasKeyboardFocus&&-1===e.currentSubmenuIndex&&e.currentMenuIndex===e.index||e.hasKeyboardFocus&&e.currentSubmenuIndex>-1&&e.currentMenuIndex===e.parentIndex&&e.currentSubmenuIndex===e.index;return{isActive:t,isDisabled:r,hasKeyboardFocus:s,isSubmenuOpen:e.children&&e.currentMenuIndex===e.index&&e.currentSubmenuIndex>-1}}constructor(e){super(e),this.state=this.constructor.newState(e),this.focusOnCurrentButton=this.focusOnCurrentButton.bind(this),this.triggerAction=this.triggerAction.bind(this),this.containerClasses=this.containerClasses.bind(this),this.buttonClasses=this.buttonClasses.bind(this),this.buttonIconClasses=this.buttonIconClasses.bind(this),this.buttonNode=null,this.state.submenuStyles={}}componentDidMount(){this.focusOnCurrentButton(this.props)}UNSAFE_componentWillReceiveProps(e){let t=this.constructor.newState(e);this.setState(t,()=>this.focusOnCurrentButton(e))}componentDidUpdate(){this.adjustSubmenuPosition()}adjustSubmenuPosition(){if(this.containerRef){let e=this.containerRef.getElementsByClassName("bb-editor-toolbar-submenu")[0];if(!e||this.adjustingMenu)return;let t=this.containerRef.getBoundingClientRect(),r=this.props.getEditorRect(),s=e.getBoundingClientRect(),n=t.bottom+s.height,o=window.innerHeight||window.screen.height||document.body.offsetHeight,i=t.top+window.scrollY-s.height>=0,a={};r&&(s.left<r.left?a={right:s.left-r.left}:s.right>r.right&&(a={left:r.right-s.right})),n>o&&s.top>=0&&i?(this.adjustingMenu=!0,this.setState({submenuStyles:{...a,top:"auto"}},()=>{this.adjustingMenu=!1})):Object.keys(a).length>0&&(this.adjustingMenu=!0,this.setState({submenuStyles:a},()=>{this.adjustingMenu=!1}))}}focusOnCurrentButton(e){(e.currentMenuIndex===e.index&&-1===e.currentSubmenuIndex||e.currentMenuIndex===e.parentIndex&&e.currentSubmenuIndex===e.index)&&this.buttonNode&&this.buttonNode.focus()}triggerAction(e){if(e.preventDefault(),e.stopPropagation(),this.props.isDisabled||this.state.isDisabled||!this.props.onClick)this.props.isDisabled||this.state.isDisabled||this.setState({submenuStyles:{display:"relative"}},()=>{this.props.setEditorFocusStateToolbar(!1),this.props.openSubmenu(this.props.parentIndex||this.props.index)});else{let{buttonNode:e}=this,{isActive:t}=this.state,{editorFormat:r,editorLastContent:s,editorLastRawSelection:n,currentLocale:o,localize:i,isRtl:a}=this.props;this.props.isSubmenu&&this.props.forceOpenSubmenu(this.props.index,0);let l=this.props.bbEditorId;this.props.onClick({applyChange:(e,t)=>{this.props.applyChange(e,t),this.props.toolbarActionComplete(!e||this.props.hasKeyboardFocus)},quillModuleAction:e=>this.props.quillModuleAction(e),closeAllMenus:()=>this.props.closeAllMenus(),useSharedNavigator:!0,editorFormat:r,editorLastContent:s,editorLastRawSelection:n,isActive:t,locale:o,preventBlur:()=>{this.props.setEditorFocusStateToolbar(!0)},showModal:(e,t)=>(this.props.setEditorFocusStateToolbar(!0),(0,eY.A)(e,t,i.getLocalePropsForClone())),buttonNode:e,isRtl:a,bbEditorId:l,rootContentId:this.props.rootContentId,onModalOpen:this.props.onModalOpen})}return!1}containerClasses(){return(0,u.A)({"bb-editor-toolbar-button-container":!0,"bb-editor-toolbar-dropdown-container":this.state.isSubmenuOpen})}buttonClasses(){return(0,u.A)({"bb-editor-toolbar-button":!0,"bb-editor-toolbar-button--left-separator":this.props.leftSeparator,"bb-editor-toolbar-button--double-separator":this.props.doubleSeparator,"bb-editor-toolbar-button--non-separator":!this.props.separator&&!this.props.doubleSeparator&&!this.props.leftSeparator,"bb-editor-toolbar-button--main":null===this.props.parentIndex,"bb-editor-submenu-is-open":this.state.isSubmenuOpen||this.props.isToolbarOpen,"bb-editor-submenu-is-closed":!this.state.isSubmenuOpen||!this.props.isToolbarOpen,"is-disabled":this.props.isDisabled||this.state.isDisabled,"is-focused":this.state.hasKeyboardFocus,"bb-editor-toolbar-text":this.props.textOnly||!(this.props.iconName||this.props.iconComponent),"bb-editor-toolbar-icon-text":!this.props.textOnly&&!this.props.iconOnly&&(this.props.iconName||this.props.iconComponent),"bb-editor-toolbar-dropdown":this.props.children||this.props.isSubmenu&&!this.props.hiddenChevron,"bb-editor-submenu-button":this.props.isSubmenu,"bb-editor-submenu-button-active":this.props.isToolbarOpen,padded:!this.props.iconOnly&&!this.props.children,"text-active":this.state.isActive||this.state.isSubmenuOpen,[`${this.props.cssClass}-active`]:this.state.isActive,[`${this.props.cssClass}-normal`]:!this.state.isActive})}buttonIconClasses(){return(0,u.A)({icon:!!this.props.iconName,[`${this.props.iconName}-active-icon`]:this.props.iconName&&(this.state.isActive||this.state.isSubmenuOpen)||this.props.isToolbarOpen,[`${this.props.iconName}-normal-icon`]:this.props.iconName&&!this.state.isActive,"color-picker":this.props.isColorPicker})}buttonIcon(){if(null!==this.props.iconComponent){let e=this.props.iconComponent;return s.createElement(e,null)}return this.props.isColorPicker?s.createElement(td.Ay,{color:this.props.color,cssClass:this.props.cssClass,editorFormat:this.props.editorFormat}):s.createElement(tc.f,null)}haspopup(){return this.props.isDialog?"dialog":this.props.children?!!this.props.children:null}innerButton(){let{isSubmenuOpen:e,isActive:t}=this.state,{analyticsEventAugmentor:r,children:n,localize:o,isSubmenu:i,isDialog:a,isToolbarOpen:l,isSubToolbarOpen:u,parentIndex:d,toggleButton:c}=this.props,E=this.buttonClasses(),p=this.buttonIconClasses(),m=this.haspopup(),g=r(tt.AnalyticsEventTypes.CLICK_EVENT,this.triggerAction,`editor.toolbar.${this.props.id}.button`);return s.createElement("button",{tabIndex:"-1","data-analytics-id":`editor.toolbar.${this.props.id}.button`,className:E,"aria-checked":d?t:null,"aria-expanded":i||n?e||l:null,"aria-controls":i&&(e||u)?this.props.id:null,"aria-haspopup":m,"aria-pressed":!(d||i||e||n||a)&&c?!!t:null,"aria-label":o.translate(`bbmlEditor.toolbar.${this.props.id}.axAriaText`),onClick:g,ref:e=>{this.buttonNode=e}},s.createElement("span",{"aria-hidden":"true"},this.props.textOnly||s.createElement("span",{className:p},this.buttonIcon()),this.props.iconOnly||o.translate(`bbmlEditor.toolbar.${this.props.id}.label`)))}render(){let{isSubmenuOpen:e,isActive:t,isToolbarOpen:r}=this.state,{localize:n,isHideable:o,separator:i}=this.props,a=this.containerClasses(),l=this.innerButton();return o&&!t?null:s.createElement("div",{role:"presentation",className:a,ref:e=>{this.containerRef=e}},(this.props.iconOnly||this.children)&&s.createElement(tl.qT,{placement:"top",title:n.translate(`bbmlEditor.toolbar.${this.props.id}.label`)},l),!(this.props.iconOnly||this.children)&&l,e&&!r&&this.props.children&&s.createElement("ul",{id:this.props.id,role:"menu",className:"bb-editor-toolbar bb-editor-toolbar-submenu","aria-orientation":"horizontal",tabIndex:"-1",style:this.state.submenuStyles},this.props.children.map(e=>s.createElement("li",{key:e.key,role:"menuitemradio","aria-checked":e.props.isActive,tabIndex:"-1"},e))),i?s.createElement(tu,null):null)}}tE.propTypes={children:i().array,cssClass:i().string,iconName:i().string,iconComponent:i().object,iconOnly:i().bool,toggleButton:i().bool,isDisabled:i().bool,isHideable:i().bool,isRtl:i().bool,isSubmenu:i().bool,isToolbarOpen:i().bool,textOnly:i().bool,index:i().number,parentIndex:i().number,onClick:i().func,applyChange:i().func,quillModuleAction:i().func,toolbarActionComplete:i().func,openSubmenu:i().func,editorFormat:i().shape(),editorLastContent:i().arrayOf(i().shape({insert:i().oneOfType([i().string,i().object]),attributes:i().instanceOf(Object)})),editorLastRawSelection:i().shape(),id:i().string.isRequired,hasKeyboardFocus:i().bool,setEditorFocusStateToolbar:i().func,getEditorRect:i().func,isColorPicker:i().bool,color:i().string,rootContentId:i().string,...ta.A},tE.defaultProps={children:null,cssClass:"no-format",iconName:null,iconComponent:null,iconOnly:!1,toggleButton:!0,isDisabled:!1,isHideable:!1,isRtl:!1,isSubmenu:!1,isToolbarOpen:!1,textOnly:!1,index:-1,parentIndex:null,onClick:null,applyChange:null,quillModuleAction:null,toolbarActionComplete:null,openSubmenu:null,editorFormat:{},editorLastContent:[],editorLastRawSelection:new E.Q(0,0),hasKeyboardFocus:!1,setEditorFocusStateToolbar:null,getEditorRect:()=>null,isColorPicker:!1,color:null,onModalOpen:()=>null,rootContentId:null};let tp=(0,d.E)((0,tt.withAnalytics)(tE));var tm=r(990529),tg=r(865004);function ty(e){let t=(0,u.A)({"table-creator-cell":!0,selected:e.isSelected});return s.createElement("div",{className:"table-cell",role:"cell"},s.createElement("button",{index:e.index,tabIndex:"-1",className:t,"aria-labelledby":"tableGridCreator",onClick:()=>e.handleClick(e.rowIndex,e.columnIndex),onMouseEnter:()=>e.handleHover(e.rowIndex,e.columnIndex)}))}function tI(e){let[t,r]=(0,s.useState)({rowCount:0,columnCount:0}),n=(0,tg.W)(),o=(s,n)=>{e.quillModuleAction({module:"quill.table",action:"saved-selection"}),r({rowCount:s,columnCount:n}),e.quillModuleAction({module:"quill.table",action:"insert-table",rowCount:parseInt(t.rowCount,10)+1,columnCount:parseInt(t.columnCount,10)+1,headerRow:!1,headerColumn:!1})},i=(e,t)=>{r({rowCount:e,columnCount:t})};return s.createElement("div",{className:"table-creator"},s.createElement("span",{id:"tableGridCreator",className:"table-info"},n("bbmlEditor.toolbar.tableCreator.info",{rowCount:parseInt(t.rowCount,10)+1,columnCount:parseInt(t.columnCount,10)+1})),s.createElement("div",{"aria-labelledby":"tableGridCreator",role:"grid"},s.createElement("div",{className:"table-creator-grid",role:"row"},(()=>{let r=[];for(let n=0;n<10;n++)for(let a=0;a<10;a++)r.push(s.createElement(ty,{...e,index:10*n+a,key:`${n}_${a}`,rowIndex:n,columnIndex:a,isSelected:n<=t.rowCount&&a<=t.columnCount,handleHover:i,handleClick:o}));return r})())))}ty.propTypes={isSelected:i().bool.isRequired,rowIndex:i().number.isRequired,columnIndex:i().number.isRequired,index:i().number.isRequired,handleHover:i().func.isRequired,handleClick:i().func.isRequired},tI.propTypes={quillModuleAction:i().func.isRequired};let tA=(0,tt.withAnalytics)(tI),th=e=>{let{analyticsId:t,id:r,label:n,value:o}=e,i=(0,s.useRef)(null),a=(0,tg.W)();return(0,s.useEffect)(()=>{e.hasKeyboardFocus&&-1===e.currentSubmenuIndex&&e.currentMenuIndex===e.index&&i.current&&i.current.focus()}),s.createElement(tl.wB,{analyticsId:t,className:(0,u.A)({"bb-editor-toolbar-checkbox":!0,"is-focused":e.hasKeyboardFocus&&-1===e.currentSubmenuIndex&&e.currentMenuIndex===e.index}),label:a(`bbmlEditor.toolbar.${n}.label`),control:s.createElement(tl.Yc,{analyticsId:t,id:r,className:"inner-checkbox",value:o,checked:o}),htmlFor:r,onChange:t=>{e.onChange(t,e)},ref:i})};th.propTypes={id:i().string.isRequired,label:i().string.isRequired,hasKeyboardFocus:i().bool,index:i().number,value:i().bool,currentMenuIndex:i().number.isRequired,currentSubmenuIndex:i().number.isRequired,onChange:i().func.isRequired},th.defaultProps={hasKeyboardFocus:!1,index:-1,currentSubmenuIndex:-1,value:!1};let t_=(0,tt.withAnalytics)(th);var tb=r(518541),tS=r(791839);function tT(e){let t,{title:r,placement:n,ariaLabel:o}=e;return(0,s.useEffect)(()=>{e.hasKeyboardFocus&&-1===e.currentSubmenuIndex&&e.currentMenuIndex===e.index&&t&&t.focus()}),s.createElement(tl.qT,{className:(0,u.A)({"is-focused":e.hasKeyboardFocus&&-1===e.currentSubmenuIndex&&e.currentMenuIndex===e.index}),title:r,placement:n},s.createElement(tS.u,{className:"bb-editor-toolbar-tooltip-icon-button","aria-label":o,ref:e=>{t=e},analyticsId:"bbml-editor.toolbar.tooltip"},s.createElement(tb.$,null)))}tT.propTypes={ariaLabel:i().string.isRequired,hasKeyboardFocus:i().bool,index:i().number,placement:i().string,title:i().string.isRequired},tT.defaultProps={hasKeyboardFocus:!1,index:-1,placement:"top"};let tO=(0,tt.withAnalytics)(tT);function tv(e){let{isSmallToolbar:t,tableHasHeaderColumn:r,tableHasHeaderRow:n}=e,o=(0,tg.W)();return(0,s.useEffect)(()=>{let t=e.quillModuleAction({module:"quill.table",action:"get-headers"});e.setHeaders(t.row,t.column)},[]),s.createElement(ti,{...tm.Bh,...e,isSubmenuToolbar:!0,subToolbarFocusFirstButton:!1},s.createElement(tp,{...tm.FZ,iconOnly:!0}),s.createElement(tp,{...tm.Qt,iconOnly:!0}),s.createElement(tp,{...tm.sj,iconOnly:!0}),s.createElement(tp,{...tm.ff,iconOnly:!0}),s.createElement(tp,{...tm.FC,iconOnly:!0}),s.createElement(tp,{...tm.EE,iconOnly:!0}),s.createElement(tp,{...tm.MM,iconOnly:!0}),s.createElement(t_,{id:"checkboxRow",label:"table-dialog-headers-row",value:n,onChange:(e,t)=>{t.quillModuleAction({module:"quill.table",action:"set-header-row",setHeader:e.target.checked}),e.target.checked||t.quillModuleAction({module:"quill.table",action:"set-header-col",setHeader:r}),t.setHeaders(e.target.checked,r)},isHideable:t}),s.createElement(t_,{id:"checkboxColumn",label:"table-dialog-headers-column",value:r,onChange:(e,t)=>{t.quillModuleAction({module:"quill.table",action:"set-header-col",setHeader:e.target.checked}),e.target.checked||t.quillModuleAction({module:"quill.table",action:"set-header-row",setHeader:n}),t.setHeaders(n,e.target.checked)},isHideable:t}),s.createElement(tO,{title:o("bbmlEditor.toolbar.table-dialog-tooltip.label"),placement:"top",ariaLabel:o("bbmlEditor.toolbar.table-dialog-tooltip.axAriaText"),isHideable:t}))}tv.propTypes={children:i().array,addKeyDownHandler:i().func.isRequired,editorId:i().string,toolbarActionComplete:i().func.isRequired,hasKeyboardFocus:i().bool,isDisabled:i().bool,isRtl:i().bool,isSubmenuToolbar:i().bool,isSubToolbarOpen:i().bool,isSmallToolbar:i().bool},tv.defaultProps={children:null,editorId:null,hasKeyboardFocus:!1,isDisabled:!1,isRtl:!1,isSubmenuToolbar:!1,isSubToolbarOpen:!1,isSmallToolbar:!1};let tf=(0,tt.withAnalytics)(tv),tC={[ts.y8.default]:{[ts.XM.small]:["link","editAttachment","editVideoStudio","editYoutubeVideo","collab_video","video-studio"],[ts.XM.medium]:["link","insertImage","insertLocalFile","editVideoStudio","editAttachment","editYoutubeVideo","collab_video","video-studio"],[ts.XM.large]:["link","insertImage","insertLocalFile","editVideoStudio","editAttachment","editYoutubeVideo","collab_video","video-studio"]},[ts.y8.minimal]:{[ts.XM.small]:["math","link","image","editAttachment","editVideoStudio","editYoutubeVideo","collab_video","video-studio"],[ts.XM.medium]:["math","link","image","editAttachment","editVideoStudio","editYoutubeVideo","collab_video","video-studio"],[ts.XM.large]:["math","link","image","editAttachment","editVideoStudio","editYoutubeVideo","collab_video","video-studio"]}},tR=(e,t,r)=>e.filter(e=>!tC[t][r].some(t=>e.id===t)).length>0,tD=(e,t,r)=>e.pluginButtons.filter(e=>!tC[t][r].some(t=>e.id===t)&&!e.isHidden).map(e=>s.createElement(tp,{...e}));function tL(e){let t=e.pluginButtons.find(e=>"link"===e.id);return t?s.createElement(tp,{...t,...e}):null}function tN(e){let t=e.pluginButtons.find(e=>"editAttachment"===e.id);return t?s.createElement(tp,{...t,...e}):null}function tU(e){let t=e.pluginButtons.find(e=>"editYoutubeVideo"===e.id);return t?s.createElement(tp,{...t,...e}):null}function tP(e){let t=e.pluginButtons.find(e=>"insertLocalFile"===e.id);return t?s.createElement(tp,{...t,...e}):null}function tw(e){let t=e.pluginButtons.find(e=>"insertImage"===e.id);return t?s.createElement(tp,{...t,...e}):null}function tk(e){var t,r;let n=e.pluginButtons.find(e=>"collab_video"===e.id),o=(null==n?void 0:n.isHidden)||null!=(r=null==(t=null==n?void 0:n.isHiddenCallback)?void 0:t.call(n))&&r;return!n||o?null:s.createElement(tp,{...n,...e})}tL.propTypes={pluginButtons:i().arrayOf(i().shape({id:i().string.isRequired,cssClass:i().string.isRequired,iconName:i().string.isRequired,isActive:i().func.isRequired,onClick:i().func.isRequired})).isRequired},tN.propTypes={pluginButtons:i().arrayOf(i().shape({id:i().string.isRequired,cssClass:i().string.isRequired,iconName:i().string.isRequired,isActive:i().func.isRequired,onClick:i().func.isRequired})).isRequired},tU.propTypes={pluginButtons:i().arrayOf(i().shape({id:i().string.isRequired,cssClass:i().string.isRequired,iconName:i().string.isRequired,isActive:i().func.isRequired,onClick:i().func.isRequired})).isRequired},tP.propTypes={pluginButtons:i().arrayOf(i().shape({id:i().string.isRequired,cssClass:i().string.isRequired,iconName:i().string.isRequired,isActive:i().func.isRequired,onClick:i().func.isRequired})).isRequired},tw.propTypes={pluginButtons:i().arrayOf(i().shape({id:i().string.isRequired,cssClass:i().string.isRequired,iconName:i().string.isRequired,isActive:i().func.isRequired,onClick:i().func.isRequired})).isRequired},tk.propTypes={pluginButtons:i().arrayOf(i().shape({id:i().string.isRequired,cssClass:i().string.isRequired,iconName:i().string.isRequired,isActive:i().func.isRequired,onClick:i().func.isRequired,isHidden:i().bool})).isRequired};let tM=e=>{var t,r;let n=e.pluginButtons.find(e=>"video-studio"===e.id),o=null!=(r=null==(t=null==n?void 0:n.isHiddenCallback)?void 0:t.call(n))&&r;return n&&!1!==o?s.createElement(tp,{...n,...e}):null};var tB=r(101972);let tG=e=>{let t=e.pluginButtons.find(e=>e.id===tB.H);return t?s.createElement(tp,{...t,...e}):null},tx={None:"",TextOptionsMenu:"textOptionsMenu",ListMenu:"listMenu"};function tV(e){let[t,r]=(0,s.useState)(tx.None),[n,o]=(0,s.useState)(),i=e=>{r(t=>t===e?tx.None:e)},a=()=>{i(tx.None)};return s.createElement("div",null,s.createElement(ti,{...e,isSubToolbarOpen:t!==tx.None,resetMenu:a,shareNavigator:e=>{o(e)}},s.createElement(tp,{...tm.xJ,iconOnly:!0},tm._g.map(e=>s.createElement(tp,{key:e.key,...e,textOnly:!0}))),s.createElement(tp,{...tm.aW,iconOnly:!0},s.createElement(tp,{...tm.nY,textOnly:!0}),s.createElement(tp,{...tm.aT,textOnly:!0}),s.createElement(tp,{...tm.jO,textOnly:!0}),s.createElement(tp,{...tm.MS,textOnly:!0}),s.createElement(tp,{...tm.lr,textOnly:!0}),s.createElement(tp,{...tm.ZE,textOnly:!0}),s.createElement(tp,{...tm.Jn,textOnly:!0})),s.createElement(tp,{...tm.$C,iconOnly:!0},s.createElement(tp,{...tm.bv,textOnly:!0}),s.createElement(tp,{...tm.P_,textOnly:!0}),s.createElement(tp,{...tm.Pt,textOnly:!0,isActive:t=>t.size===U.Mq||!e.isRtl&&!t.size}),s.createElement(tp,{...tm.P1,textOnly:!0,isActive:t=>t.size===U.yR||e.isRtl&&!t.size}),s.createElement(tp,{...tm.EG,textOnly:!0}),s.createElement(tp,{...tm.Vw,textOnly:!0}),s.createElement(tp,{...tm.C_,textOnly:!0})),s.createElement(tp,{...tm.sk,iconOnly:!0,separator:!0},s.createElement(tp,{...tm.Vd}),s.createElement(tp,{...tm.Zz}),s.createElement(tp,{...tm.gq}),s.createElement(tp,{...tm.wj}),s.createElement(tp,{...tm.RH}),s.createElement(tp,{...tm.D})),s.createElement(tp,{...tm.yN,iconOnly:!0}),s.createElement(tp,{...tm.J2,iconOnly:!0}),s.createElement(tp,{...tm.z2,iconOnly:!0}),s.createElement(tp,{...tm.gJ,onClick:()=>i(tx.TextOptionsMenu),iconOnly:!0,isSubmenu:!0,hiddenChevron:!0,isToolbarOpen:t===tx.TextOptionsMenu,separator:!0}),e.editorHasTableSelected?s.createElement(tp,{...tm.j0,iconOnly:!0}):s.createElement(tp,{...tm.NC,iconOnly:!0},s.createElement(tA,{...e.quillModuleAction}),s.createElement(tp,{...tm._q,...e.closeAllMenus})),!e.editorHasCodeBlockSelected&&s.createElement(tp,{...tm.C1,iconOnly:!0},s.createElement(tp,{...tm.TU}),s.createElement(tp,{...tm.xd}),s.createElement(tp,{...tm.GY}),s.createElement(tp,{...tm.mT})),s.createElement(tp,{...tm.Zk,onClick:()=>i(tx.ListMenu),iconOnly:!0,isSubmenu:!0,isToolbarOpen:t===tx.ListMenu,separator:!0}),s.createElement(tp,{...tm.Vn,iconOnly:!0,isButtonDisabled:e.editorHasTableSelected}),s.createElement(tp,{...tm.N6,iconOnly:!0,separator:!0}),s.createElement(tL,{pluginButtons:e.pluginButtons,iconOnly:!0}),s.createElement(tP,{pluginButtons:e.pluginButtons,iconOnly:!0}),s.createElement(tw,{pluginButtons:e.pluginButtons,iconOnly:!0}),tR(e.pluginButtons,ts.y8.default,ts.XM.large)&&s.createElement(tp,{...tm.OL,onModalOpen:e.onModalOpen,iconOnly:!0},tD(e,ts.y8.default,ts.XM.large)),s.createElement(tk,{pluginButtons:e.pluginButtons,iconOnly:!0}),s.createElement(tM,{pluginButtons:e.pluginButtons,iconOnly:!0}),s.createElement(tG,{pluginButtons:e.pluginButtons,iconOnly:!0}),s.createElement(tN,{id:ts.yx.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0}),s.createElement(tU,{id:ts.oE.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0})),t===tx.TextOptionsMenu&&s.createElement(ti,{...e,...tm.xF,isSubmenuToolbar:!0,isSubToolbarOpen:t!==tx.None,resetMenu:a},s.createElement(tp,{...tm.n,iconOnly:!0}),s.createElement(tp,{...tm.Z3,iconOnly:!0}),s.createElement(tp,{...tm.E,iconOnly:!0}),s.createElement(tp,{...tm.w4,iconOnly:!0})),t===tx.ListMenu&&s.createElement(ti,{...e,...tm.nL,isSubmenuToolbar:!0,isSubToolbarOpen:t!==tx.None,resetMenu:a},s.createElement(tp,{...tm.Xy,iconOnly:!0}),s.createElement(tp,{...tm._J,iconOnly:!0}),s.createElement(tp,{...tm.aK,iconOnly:!0},s.createElement(tp,{...tm.vc,textOnly:!0}),s.createElement(tp,{...tm.hQ,textOnly:!0}),s.createElement(tp,{...tm.Ye,textOnly:!0}),s.createElement(tp,{...tm.oA,textOnly:!0})),e.isRtl&&!e.editorHasCodeBlockSelected&&s.createElement(tp,{...tm.Ag,iconOnly:!0,isActive:t=>t.direction===J.$f||!t.direction&&e.isRtl}),!e.editorHasCodeBlockSelected&&s.createElement(tp,{...tm.wi,iconOnly:!0,isActive:t=>t.direction===J.LD||!t.direction&&!e.isRtl}),!e.isRtl&&!e.editorHasCodeBlockSelected&&s.createElement(tp,{...tm.Ag,iconOnly:!0,isActive:t=>t.direction===J.$f||!t.direction&&e.isRtl})),e.editorHasTableSelected&&s.createElement(tf,{...e,useSharedNavigator:!0,sharedNavigator:n,isAdditionalToolbarVisible:e.editorHasTableSelected}))}tV.propTypes={pluginButtons:i().arrayOf(i().shape({id:i().string.isRequired,cssClass:i().string.isRequired,iconName:i().string.isRequired,isActive:i().func.isRequired,onClick:i().func.isRequired})).isRequired,editorHasTableSelected:i().bool,editorHasCodeBlockSelected:i().bool},tV.defaultProps={editorHasTableSelected:!1};let tq={None:"",TextStylingMenu:"textStylingMenu",TextOptionsMenu:"textOptionsMenu",ListMenu:"listMenu"};function tF(e){let[t,r]=(0,s.useState)(tq.None),[n,o]=(0,s.useState)(),i=e=>{r(t=>t===e?tq.None:e)},a=()=>{i(tq.None)};return s.createElement("div",null,s.createElement(ti,{...e,isSubToolbarOpen:t!==tq.None,resetMenu:a,shareNavigator:e=>{o(e)}},s.createElement(tp,{...tm.bW,onClick:()=>i(tq.TextStylingMenu),iconOnly:!0,isSubmenu:!0,isToolbarOpen:t===tq.TextStylingMenu,separator:!0}),s.createElement(tp,{...tm.yN,iconOnly:!0}),s.createElement(tp,{...tm.J2,iconOnly:!0}),s.createElement(tp,{...tm.z2,iconOnly:!0}),s.createElement(tp,{...tm.gJ,onClick:()=>i(tq.TextOptionsMenu),iconOnly:!0,isSubmenu:!0,hiddenChevron:!0,isToolbarOpen:t===tq.TextOptionsMenu,separator:!0}),!e.editorHasCodeBlockSelected&&s.createElement(tp,{...tm.C1,iconOnly:!0},s.createElement(tp,{...tm.TU}),s.createElement(tp,{...tm.xd}),s.createElement(tp,{...tm.GY}),s.createElement(tp,{...tm.mT})),s.createElement(tp,{...tm.Zk,onClick:()=>i(tq.ListMenu),iconOnly:!0,isSubmenu:!0,isToolbarOpen:t===tq.ListMenu,separator:!0}),s.createElement(tp,{...tm.Vn,isButtonDisabled:e.editorHasTableSelected,iconOnly:!0}),s.createElement(tp,{...tm.N6,iconOnly:!0,separator:!0}),s.createElement(tL,{pluginButtons:e.pluginButtons,iconOnly:!0}),s.createElement(tP,{pluginButtons:e.pluginButtons,iconOnly:!0}),s.createElement(tw,{pluginButtons:e.pluginButtons,iconOnly:!0}),tR(e.pluginButtons,ts.y8.default,ts.XM.medium)&&s.createElement(tp,{...tm.OL,onModalOpen:e.onModalOpen,iconOnly:!0},tD(e,ts.y8.default,ts.XM.medium)),s.createElement(tk,{pluginButtons:e.pluginButtons,iconOnly:!0}),s.createElement(tM,{pluginButtons:e.pluginButtons,iconOnly:!0}),s.createElement(tG,{pluginButtons:e.pluginButtons,iconOnly:!0}),s.createElement(tN,{id:ts.yx.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0}),s.createElement(tU,{id:ts.oE.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0})),t===tq.TextStylingMenu&&s.createElement(ti,{...tm.ND,...e,isSubmenuToolbar:!0,resetMenu:a},s.createElement(tp,{...tm.xJ,iconOnly:!0},tm._g.map(e=>s.createElement(tp,{key:e.key,...e,textOnly:!0}))),s.createElement(tp,{...tm.aW,iconOnly:!0},s.createElement(tp,{...tm.nY,textOnly:!0}),s.createElement(tp,{...tm.aT,textOnly:!0}),s.createElement(tp,{...tm.jO,textOnly:!0}),s.createElement(tp,{...tm.MS,textOnly:!0}),s.createElement(tp,{...tm.lr,textOnly:!0}),s.createElement(tp,{...tm.ZE,textOnly:!0}),s.createElement(tp,{...tm.Jn,textOnly:!0})),s.createElement(tp,{...tm.$C,iconOnly:!0},s.createElement(tp,{...tm.bv,textOnly:!0}),s.createElement(tp,{...tm.P_,textOnly:!0}),s.createElement(tp,{...tm.Pt,textOnly:!0,isActive:t=>t.size===U.Mq||!e.isRtl&&!t.size}),s.createElement(tp,{...tm.P1,textOnly:!0,isActive:t=>t.size===U.yR||e.isRtl&&!t.size}),s.createElement(tp,{...tm.EG,textOnly:!0}),s.createElement(tp,{...tm.Vw,textOnly:!0}),s.createElement(tp,{...tm.C_,textOnly:!0})),s.createElement(tp,{...tm.sk,iconOnly:!0},s.createElement(tp,{...tm.Vd}),s.createElement(tp,{...tm.Zz}),s.createElement(tp,{...tm.gq}),s.createElement(tp,{...tm.wj}),s.createElement(tp,{...tm.RH}),s.createElement(tp,{...tm.D}))),t===tq.TextOptionsMenu&&s.createElement(ti,{...tm.xF,...e,isSubmenuToolbar:!0,isSubToolbarOpen:t!==tq.None,resetMenu:a},s.createElement(tp,{...tm.n,iconOnly:!0}),s.createElement(tp,{...tm.Z3,iconOnly:!0}),s.createElement(tp,{...tm.E,iconOnly:!0}),s.createElement(tp,{...tm.w4,iconOnly:!0})),t===tq.ListMenu&&s.createElement(ti,{...tm.nL,...e,isSubmenuToolbar:!0,isSubToolbarOpen:t!==tq.None,resetMenu:a},s.createElement(tp,{...tm.Xy,iconOnly:!0}),s.createElement(tp,{...tm._J,iconOnly:!0}),s.createElement(tp,{...tm.aK,iconOnly:!0},s.createElement(tp,{...tm.vc,textOnly:!0}),s.createElement(tp,{...tm.hQ,textOnly:!0}),s.createElement(tp,{...tm.Ye,textOnly:!0}),s.createElement(tp,{...tm.oA,textOnly:!0})),e.editorHasTableSelected?s.createElement(tp,{...tm.j0,iconOnly:!0}):s.createElement(tp,{...tm.NC,iconOnly:!0},s.createElement(tA,{...e.quillModuleAction}),s.createElement(tp,{...tm._q,...e.closeAllMenus})),e.isRtl&&!e.editorHasCodeBlockSelected&&s.createElement(tp,{...tm.Ag,iconOnly:!0,isActive:t=>t.direction===J.$f||!t.direction&&e.isRtl}),!e.editorHasCodeBlockSelected&&s.createElement(tp,{...tm.wi,iconOnly:!0,isActive:t=>t.direction===J.LD||!t.direction&&!e.isRtl}),!e.isRtl&&!e.editorHasCodeBlockSelected&&s.createElement(tp,{...tm.Ag,iconOnly:!0,isActive:t=>t.direction===J.$f||!t.direction&&e.isRtl})),e.editorHasTableSelected&&s.createElement(tf,{...e,useSharedNavigator:!0,sharedNavigator:n,isAdditionalToolbarVisible:e.editorHasTableSelected}))}tF.propTypes={pluginButtons:i().arrayOf(i().shape({id:i().string.isRequired,cssClass:i().string.isRequired,iconName:i().string.isRequired,isActive:i().func.isRequired,onClick:i().func.isRequired})).isRequired,editorHasTableSelected:i().bool},tF.defaultProps={editorHasTableSelected:!1};var tK=r(877973);let tj={None:"",TextStylingMenu:"textStylingMenu",TextOptionsMenu:"textOptionsMenu",ListMenu:"listMenu"};function tH(e){let[t,r]=(0,s.useState)(tj.None),[n,o]=(0,s.useState)(),i=(0,tK.DP)(),a=(0,tK.Ub)(i.breakpoints.down("sm")),l=e=>{r(t=>t===e?tj.None:e)},u=()=>{l(tj.None)},d=a?tD(e,ts.y8.default,ts.XM.small).concat(s.createElement(s.Fragment,null,s.createElement(tk,{pluginButtons:e.pluginButtons}),s.createElement(tM,{pluginButtons:e.pluginButtons}))):tD(e,ts.y8.default,ts.XM.small);return s.createElement("div",null,s.createElement(ti,{...e,isSubToolbarOpen:t!==tj.None,resetMenu:u,shareNavigator:e=>{o(e)}},s.createElement(tp,{...tm.bW,onClick:()=>l(tj.TextStylingMenu),iconOnly:!0,isSubmenu:!0,isToolbarOpen:t===tj.TextStylingMenu,separator:!0}),s.createElement(tp,{...tm.gJ,onClick:()=>l(tj.TextOptionsMenu),iconOnly:!0,isSubmenu:!0,hiddenChevron:!0,isToolbarOpen:t===tj.TextOptionsMenu,separator:!0}),s.createElement(tp,{...tm.Zk,onClick:()=>l(tj.ListMenu),iconOnly:!0,isSubmenu:!0,isToolbarOpen:t===tj.ListMenu,separator:!0}),s.createElement(tp,{...tm.Vn,isButtonDisabled:e.editorHasTableSelected,iconOnly:!0}),s.createElement(tL,{pluginButtons:e.pluginButtons,iconOnly:!0}),e.pluginButtons.length>0&&s.createElement(tp,{...tm.OL,onModalOpen:e.onModalOpen,iconOnly:!0},d),!a&&s.createElement(s.Fragment,null,s.createElement(tk,{pluginButtons:e.pluginButtons}),s.createElement(tM,{pluginButtons:e.pluginButtons})),s.createElement(tG,{pluginButtons:e.pluginButtons,iconOnly:!0}),s.createElement(tN,{id:ts.yx.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0}),s.createElement(tU,{id:ts.oE.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0})),t===tj.TextStylingMenu&&s.createElement(ti,{...tm.ND,...e,isSubmenuToolbar:!0,resetMenu:u},s.createElement(tp,{...tm.xJ,iconOnly:!0},tm._g.map(e=>s.createElement(tp,{key:e.key,...e,textOnly:!0}))),s.createElement(tp,{...tm.aW,iconOnly:!0},s.createElement(tp,{...tm.nY,textOnly:!0}),s.createElement(tp,{...tm.aT,textOnly:!0}),s.createElement(tp,{...tm.jO,textOnly:!0}),s.createElement(tp,{...tm.MS,textOnly:!0}),s.createElement(tp,{...tm.lr,textOnly:!0}),s.createElement(tp,{...tm.ZE,textOnly:!0}),s.createElement(tp,{...tm.Jn,textOnly:!0})),s.createElement(tp,{...tm.$C,iconOnly:!0},s.createElement(tp,{...tm.bv,textOnly:!0}),s.createElement(tp,{...tm.P_,textOnly:!0}),s.createElement(tp,{...tm.Pt,textOnly:!0,isActive:t=>t.size===U.Mq||!e.isRtl&&!t.size}),s.createElement(tp,{...tm.P1,textOnly:!0,isActive:t=>t.size===U.yR||e.isRtl&&!t.size}),s.createElement(tp,{...tm.EG,textOnly:!0}),s.createElement(tp,{...tm.Vw,textOnly:!0}),s.createElement(tp,{...tm.C_,textOnly:!0})),s.createElement(tp,{...tm.sk,iconOnly:!0},s.createElement(tp,{...tm.Vd}),s.createElement(tp,{...tm.Zz}),s.createElement(tp,{...tm.gq}),s.createElement(tp,{...tm.wj}),s.createElement(tp,{...tm.RH}),s.createElement(tp,{...tm.D}))),t===tj.TextOptionsMenu&&s.createElement(ti,{...tm.xF,...e,isSubmenuToolbar:!0,isSubToolbarOpen:t!==tj.None,resetMenu:u},s.createElement(tp,{...tm.yN,iconOnly:!0}),s.createElement(tp,{...tm.J2,iconOnly:!0}),s.createElement(tp,{...tm.z2,iconOnly:!0}),s.createElement(tp,{...tm.n,iconOnly:!0}),s.createElement(tp,{...tm.Z3,iconOnly:!0}),s.createElement(tp,{...tm.E,iconOnly:!0}),s.createElement(tp,{...tm.N6,iconOnly:!0}),s.createElement(tp,{...tm.w4,iconOnly:!0})),t===tj.ListMenu&&s.createElement(ti,{...tm.nL,...e,isSubmenuToolbar:!0,isSubToolbarOpen:t!==tj.None,resetMenu:u},!e.editorHasCodeBlockSelected&&s.createElement(tp,{...tm.C1,iconOnly:!0},s.createElement(tp,{...tm.TU}),s.createElement(tp,{...tm.xd}),s.createElement(tp,{...tm.GY}),s.createElement(tp,{...tm.mT})),s.createElement(tp,{...tm.Xy,iconOnly:!0}),s.createElement(tp,{...tm._J,iconOnly:!0}),s.createElement(tp,{...tm.aK,iconOnly:!0},s.createElement(tp,{...tm.vc,textOnly:!0}),s.createElement(tp,{...tm.hQ,textOnly:!0}),s.createElement(tp,{...tm.Ye,textOnly:!0}),s.createElement(tp,{...tm.oA,textOnly:!0})),e.editorHasTableSelected?s.createElement(tp,{...tm.j0,iconOnly:!0}):s.createElement(tp,{...tm._q,iconOnly:!0}),e.isRtl&&!e.editorHasCodeBlockSelected&&s.createElement(tp,{...tm.Ag,iconOnly:!0,isActive:t=>t.direction===J.$f||!t.direction&&e.isRtl}),!e.editorHasCodeBlockSelected&&s.createElement(tp,{...tm.wi,iconOnly:!0,isActive:t=>t.direction===J.LD||!t.direction&&!e.isRtl}),!e.isRtl&&!e.editorHasCodeBlockSelected&&s.createElement(tp,{...tm.Ag,iconOnly:!0,isActive:t=>t.direction===J.$f||!t.direction&&e.isRtl})),e.editorHasTableSelected&&s.createElement(tf,{...e,isSmallToolbar:!0,useSharedNavigator:!0,sharedNavigator:n,isAdditionalToolbarVisible:e.editorHasTableSelected}))}tH.propTypes={pluginButtons:i().arrayOf(i().shape({id:i().string.isRequired,cssClass:i().string.isRequired,iconName:i().string.isRequired,isActive:i().func.isRequired,onClick:i().func.isRequired})).isRequired,editorHasTableSelected:i().bool},tH.defaultProps={editorHasTableSelected:!1};var tY=r(324203);let tQ=e=>{let t=e.pluginButtons.find(e=>e.id===tY.HM);return t?s.createElement(tp,{...t,...e}):null};function tJ(e){let t=e.pluginButtons.find(e=>"math"===e.id);return t?s.createElement(tp,{...t,...e}):null}tJ.propTypes={pluginButtons:i().arrayOf(i().shape({id:i().string.isRequired,cssClass:i().string.isRequired,iconName:i().string.isRequired,isActive:i().func.isRequired,onClick:i().func.isRequired})).isRequired};let t$=e=>s.createElement(ti,{...e},s.createElement(tp,{...tm.yN,iconOnly:!0}),s.createElement(tp,{...tm.J2,iconOnly:!0}),s.createElement(tp,{...tm.z2,iconOnly:!0}),s.createElement(tJ,{pluginButtons:e.pluginButtons,iconOnly:!0}),e.pluginButtons.length>0&&s.createElement(tp,{...tm.OL,onModalOpen:e.onModalOpen,iconOnly:!0,separator:!0},s.createElement(tL,{pluginButtons:e.pluginButtons}),s.createElement(tQ,{pluginButtons:e.pluginButtons}),tD(e,ts.y8.minimal,ts.XM.small),s.createElement(tk,{pluginButtons:e.pluginButtons}),s.createElement(tM,{pluginButtons:e.pluginButtons})),s.createElement(tG,{pluginButtons:e.pluginButtons,iconOnly:!0}),s.createElement(tN,{id:ts.yx.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0}),s.createElement(tU,{id:ts.oE.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0}));t$.propTypes={pluginButtons:i().arrayOf(i().shape({id:i().string.isRequired,cssClass:i().string.isRequired,iconName:i().string.isRequired,isActive:i().func.isRequired,onClick:i().func.isRequired})).isRequired};let tz=e=>s.createElement(ti,{...e},s.createElement(tp,{...tm.gJ,iconOnly:!0},s.createElement(tp,{...tm.yN}),s.createElement(tp,{...tm.J2}),s.createElement(tp,{...tm.z2})),s.createElement(tJ,{pluginButtons:e.pluginButtons,iconOnly:!0}),e.pluginButtons.length>0&&s.createElement(tp,{...tm.OL,onModalOpen:e.onModalOpen,iconOnly:!0,separator:!0},s.createElement(tL,{pluginButtons:e.pluginButtons}),s.createElement(tQ,{pluginButtons:e.pluginButtons}),tD(e,ts.y8.minimal,ts.XM.small),s.createElement(tk,{pluginButtons:e.pluginButtons}),s.createElement(tM,{pluginButtons:e.pluginButtons})),s.createElement(tG,{pluginButtons:e.pluginButtons,iconOnly:!0}),s.createElement(tN,{id:ts.yx.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0}),s.createElement(tU,{id:ts.oE.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0}));tz.propTypes={pluginButtons:i().arrayOf(i().shape({id:i().string.isRequired,cssClass:i().string.isRequired,iconName:i().string.isRequired,isActive:i().func.isRequired,onClick:i().func.isRequired})).isRequired};var tW=r(163785);let tZ=e=>{let{onChange:t}=e,r=(0,tK.DP)(),n=(0,tK.Ub)(r.breakpoints.down("sm"));return(0,s.useEffect)(()=>{t(n)},[t,n]),null};var tX=r(139342);let t0="aria-additional-information";class t1 extends s.Component{constructor(e){super(e),this.setEditorContainer=e=>{this.editorContainer=e},this.setEditorRoot=e=>{this.editorRoot=e},this.handleSmallBreakpointChange=e=>{this.getPluginModules().forEach(t=>{"function"==typeof t.onBreakpointChange&&t.onBreakpointChange(e)})};let t=new E.Q(0,0);this.editorInitialContent=null,this.isBbmlDirty=!1,this.bbEditorId="BB_Editor_ID_"+(0,tW.v4)(),this.state={isApplyingChanges:!1,editorFormat:{text:"",selection:t},editorLastFormat:{},editorLastContent:[],editorLastSelection:t,editorLastRawSelection:t,toolbarHasKeyboardFocus:!1,editorHasKeyboardFocus:!1,editorHasMouseFocus:!1,editorHasTableSelected:!1,tableHasHeaderRow:!1,tableHasHeaderColumn:!1,toolbar:tH,editorHasCodeBlockSelected:!1,shouldShowTooltip:!1,showCorruptionErrorDialog:!1},this.quill=null,this.quillUnloadHandler=null,this.storedStack=null,this.editorContainer=null,this.editorRoot=null,this.keyDownHandler=new eK,this.onKeyDown=this.onKeyDown.bind(this),this.onKeyDownOutsideEditor=this.onKeyDownOutsideEditor.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.extendSelection=null,this.registerAccessibilityHandlers=this.registerAccessibilityHandlers.bind(this),this.unregisterAccessibilityHandlers=this.unregisterAccessibilityHandlers.bind(this),this.setToolbarKeyboardFocused=this.setToolbarKeyboardFocused.bind(this),this.setEditorKeyboardFocused=this.setEditorKeyboardFocused.bind(this),this.setEditorMouseFocused=this.setEditorMouseFocused.bind(this),this.updateAriaAttributes=this.updateAriaAttributes.bind(this),this.addAxLabels=this.addAxLabels.bind(this),this.editorContainsElement=this.editorContainsElement.bind(this),this.editorHasFocus=this.editorHasFocus.bind(this),this.editorHasKeyboardFocus=this.editorHasKeyboardFocus.bind(this),this.setEditorFocusState=this.setEditorFocusState.bind(this),this.setEditorFocusStateToolbar=this.setEditorFocusStateToolbar.bind(this),this.isEditorFocusState=this.isEditorFocusState.bind(this),this.editorFocusState=ts.mn.BLURRED,this.onFocusHandler=this.onFocusHandler.bind(this),this.onFocusDebounce=null,this.onBlurHandler=this.onBlurHandler.bind(this),this.onBlurDebounce=null,this.initializeQuill=this.initializeQuill.bind(this),this.updateQuillEnable=this.updateQuillEnable.bind(this),this.updateQuillPlaceholder=this.updateQuillPlaceholder.bind(this),this.restoreQuillPlaceholder=this.restoreQuillPlaceholder.bind(this),this.unloadPlugins=this.unloadPlugins.bind(this),this.notifyPluginsOfPropChanges=this.notifyPluginsOfPropChanges.bind(this),this.onToolbarActionComplete=this.onToolbarActionComplete.bind(this),this.onEditorChange=this.onEditorChange.bind(this),this.getEditorSelection=this.getEditorSelection.bind(this),this.getEditorFormat=this.getEditorFormat.bind(this),this.updateFormatWithBlotSelection=this.updateFormatWithBlotSelection.bind(this),this.selectEmbeddedBlot=this.selectEmbeddedBlot.bind(this),this.unselectEmbeddedBlots=this.unselectEmbeddedBlots.bind(this),this.applyEditorChange=this.applyEditorChange.bind(this),this.applyChangeAndSetEditorFocused=this.applyChangeAndSetEditorFocused.bind(this),this.quillModuleAction=this.quillModuleAction.bind(this),this.setHeaders=this.setHeaders.bind(this),this.onBbMLInputChange=this.onBbMLInputChange.bind(this),this.onBbMLOutputChange=this.onBbMLOutputChange.bind(this),this.makeEmbedsEasierToEditAfter=this.makeEmbedsEasierToEditAfter.bind(this),this.updateToolbar=this.updateToolbar.bind(this),this.setToolbarState=this.setToolbarState.bind(this),this.getPluginButtons=this.getPluginButtons.bind(this),this.getEditorRect=this.getEditorRect.bind(this),this.onDragEnter=this.onDragEnter.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this.onDrop=this.onDrop.bind(this),this.dragCount=0,this.fileDragDropUtil=eQ(this.applyChangeAndSetEditorFocused,this.props.localize.getLocalePropsForClone(),this.setEditorFocusStateToolbar,this.props.onModalOpen),this.plugins=((e,t,r)=>{var s,n;let o=[].concat(...e).reduce((e,t)=>e.some(e=>e.pluginId===t.pluginId)?e:e.concat(t),[]);return!function(e){let t=eH.map(t=>e.findIndex(e=>e.pluginId===t));if(t.length>0){for(let r=0;r<eH.length;r++)if(-1!==t[r]&&eH[r]!==e[r].pluginId){let s=e[r];e[r]=e[t[r]],e[t[r]]=s}}}(o),s=o,n=r,s.forEach(e=>{e.fileDropHandler&&n.registerDropHandler(e.fileDropHandler)}),o.filter(e=>e.buttonConfig&&e.buttonConfig.checkAvailabilityAsPromise).forEach(e=>{let r=e.buttonConfig;delete e.buttonConfig,r.checkAvailabilityAsPromise().then(s=>{s&&(e.buttonConfig=r,t())})}),o})(e.plugins,()=>this.forceUpdate(),this.fileDragDropUtil)}componentDidMount(){this.initializeQuill(),this.registerAccessibilityHandlers(),this.updateToolbar(),window.addEventListener("resize",this.updateToolbar)}componentDidUpdate(e){let t=!e.isDisabled&&!e.isReadOnly,r=!this.props.isDisabled&&!this.props.isReadOnly;r!==t&&(this.updateQuillEnable(r),e8(this.editorRoot.classList,r),r||(e4(this.editorRoot.classList,!1),e3(this.editorRoot.classList,!1))),this.props.placeholder!==e.placeholder&&this.updateQuillPlaceholder(this.props.placeholder),this.props.isDisabled!==e.isDisabled&&eX(this.editorRoot.classList,this.props.isDisabled),this.props.isReadOnly!==e.isReadOnly&&(e1(this.editorRoot.classList,this.props.isReadOnly),this.updateQuillPlaceholder(this.props.placeholder),this.quillModuleAction({module:"plugins",action:"read-only-change",value:this.props.isReadOnly})),this.props.errorMessage!==e.errorMessage&&e2(this.editorRoot.classList,!!this.props.errorMessage),this.updateAriaAttributes(e),(this.props.isReadOnly!==e.isReadOnly||this.props.isToolbarHidden!==e.isToolbarHidden||this.props.toolbarSet!==e.toolbarSet)&&this.updateToolbar(),(this.props.size!==e.size||Object.keys(this.props).some(t=>this.props[t]!==e[t]))&&((this.props.bbml!==e.bbml||this.isBbmlDirty)&&this.onBbMLInputChange(this.props.bbml),this.notifyPluginsOfPropChanges()),(this.props.currentLocale!==e.currentLocale||this.props.isRtl!==e.isRtl)&&this.fileDragDropUtil.setLocaleProps(this.props.localize.getLocalePropsForClone()),this.editorRoot.firstChild.classList.remove(`size-${e.size}`),this.setEditorSize();let s=this.state.editorHasKeyboardFocus||this.state.editorHasMouseFocus||this.state.toolbarHasKeyboardFocus;s!==this.state.shouldShowTooltip&&(s?this.setState({shouldShowTooltip:!0}):setTimeout(()=>{this.setState({shouldShowTooltip:!1})},50))}componentWillUnmount(){this.quill.history.clear(),this.unloadPlugins(),this.unregisterAccessibilityHandlers(),this.removeTimers(),window.removeEventListener("resize",this.updateToolbar),this.quill.off(c.A.events.EDITOR_CHANGE,this.onEditorChange),this.editorRoot.remove(),delete this.editorContainer,delete this.editorRoot,delete this.quill}removeTimers(){this.requestAnimationFrameID&&(window.cancelAnimationFrame(this.requestAnimationFrameID),this.requestAnimationFrameID=null),clearTimeout(this.extendSelection),clearTimeout(this.debounceWindowResizeToolbar),clearTimeout(this.onBlurDebounce),clearTimeout(this.onFocusDebounce),clearTimeout(this.axTooltipTimeout),clearTimeout(this.keyFocusTimeout),clearTimeout(this.autoSaveTimeout)}registerAccessibilityHandlers(){document.addEventListener("keydown",this.onKeyDownOutsideEditor),this.editorContainer.addEventListener("focusin",this.onFocusHandler),this.editorContainer.addEventListener("focusout",this.onBlurHandler),this.editorRoot.addEventListener("mousedown",this.onMouseDown),this.updateAriaAttributes(),this.keyDownHandler.addKeyDownHandler(l().F10,eF.ALT,this.setToolbarKeyboardFocused,eq.EDITOR)}unregisterAccessibilityHandlers(){document.removeEventListener("keydown",this.onKeyDownOutsideEditor),this.editorContainer.removeEventListener("focusin",this.onFocusHandler),this.editorContainer.removeEventListener("focusout",this.onBlurHandler),this.editorRoot.removeEventListener("mousedown",this.onMouseDown)}addAxLabels(){let{editorId:e,ariaDescribedBy:t}=this.props,r=this.editorRoot.firstChild;this.editorRoot.querySelector(".ql-clipboard").setAttribute("aria-hidden","true"),e&&r.setAttribute("id",e),t&&r.setAttribute("aria-describedby",t),this.updateAriaLabels()}updateAriaLabels(){let{ariaLabelledBy:e,isReadOnly:t,isDisabled:r}=this.props,s=this.editorRoot.firstChild;if(!(!t&&!r)){s.removeAttribute("aria-labelledby"),s.removeAttribute("aria-label");return}s.setAttribute("aria-labelledby",`${e} ${this.bbEditorId}-editorLabel`)}updateAriaAttributes(e){let t=!1;!e||e.isReadOnly||e.isDisabled||(t=!0);let r=!this.props.isReadOnly&&!this.props.isDisabled;t!==r&&(r?(this.editorRoot.firstChild.setAttribute("role","textbox"),this.editorRoot.firstChild.setAttribute("aria-multiline","true"),this.editorRoot.firstChild.setAttribute("aria-required",this.props.ariaRequired?"true":"false")):(this.editorRoot.firstChild.removeAttribute("role"),this.editorRoot.firstChild.removeAttribute("aria-multiline"),this.editorRoot.firstChild.removeAttribute("aria-required")),this.updateAriaLabels());let s=this.shouldShowToolbar(),{ariaDescribedBy:n}=this.props;if(n){let e=s?`${n} ${t0}`:n;this.editorRoot.firstChild.setAttribute("aria-describedby",e)}}setToolbarKeyboardFocused(){this.keyDownHandler.enableToolbarScope(),this.setState({toolbarHasKeyboardFocus:!0,editorHasKeyboardFocus:!1,editorHasMouseFocus:!1}),e4(this.editorRoot.classList,!1),e3(this.editorRoot.classList,!1)}setEditorKeyboardFocused(e){this.keyDownHandler.enableEditorScope(),this.setState({toolbarHasKeyboardFocus:!1,editorHasKeyboardFocus:!0,editorHasMouseFocus:!1},"function"==typeof e?e:null),e4(this.editorRoot.classList,!0),e3(this.editorRoot.classList,!0)}setEditorMouseFocused(e){this.keyDownHandler.enableEditorScope(),this.setState({toolbarHasKeyboardFocus:!1},"function"==typeof e?e:null),e4(this.editorRoot.classList,!0),this.setState({editorHasMouseFocus:!0})}onMouseDown(e){this.editorHasFocus()&&!this.quill.hasFocus()&&this.onToolbarActionComplete(!this.toolbarHasFocus()),2===e.button&&(clearTimeout(this.extendSelection),this.extendTableSelection()),this.props.isDisabled||this.props.isReadOnly||setTimeout(()=>this.selectEmbeddedBlot(e.target))}onKeyDown(e){if(!this.props.isDisabled&&!this.props.isReadOnly){let t=this.keyDownHandler.handleKeyDown(e),r=eK.hasModifierKey(e),s=eK.hasRegularKey(e);clearTimeout(this.extendSelection),this.extendTableSelection(),e.keyCode===l().ENTER&&this.quill.history.cutoff(),(t||r&&s)&&this.onEditorChange(c.A.events.TEXT_CHANGE),this.props.onKeyDown&&this.props.onKeyDown(e)}}onKeyDownOutsideEditor(e){e.keyCode!==l().TAB||this.props.isDisabled||this.props.isReadOnly||this.editorHasFocus()||(this.keyFocusTimeout=setTimeout(()=>{this.editorHasFocus()&&this.setEditorKeyboardFocused()}))}editorContainsElement(e,t){let r=this.editorContainer;return t&&(r=r.querySelector(t)),r&&r.contains(e)}toolbarHasFocus(){return(this.editorContainsElement(document.activeElement,".bb-editor-toolbar")||this.editorContainsElement(document.activeElement,".bb-editor-submenu-toolbar"))&&!this.props.isDisabled&&!this.props.isReadOnly}editorHasFocus(){return(this.editorContainsElement(document.activeElement)||this.quill.hasFocus())&&!this.props.isDisabled&&!this.props.isReadOnly}editorHasKeyboardFocus(){return this.editorHasFocus()&&(this.state.editorHasKeyboardFocus||this.editorRoot.classList.contains("has-keyboard-focus"))}onToolbarActionComplete(e=!1){var t,r;let s=!0===e?()=>this.quill.focus():()=>{};this.setEditorFocusState(ts.mn.FOCUSED),this.state.toolbarHasKeyboardFocus?this.setEditorKeyboardFocused(s):this.setEditorMouseFocused(s),null==(r=(t=this.props).onFocus)||r.call(t)}setEditorFocusState(e){this.editorFocusState=e}setEditorFocusStateToolbar(e=!1){e4(this.editorRoot.classList,!1),e&&this.setEditorFocusState(ts.mn.TOOLBAR)}isEditorFocusState(e){return this.editorFocusState===e}onBlurHandler(){clearTimeout(this.onBlurDebounce),clearTimeout(this.onFocusDebounce),this.editorContainer.removeEventListener("dragover",ej.jo),this.onBlurDebounce=setTimeout(()=>{!this.editorHasFocus()&&this.isEditorFocusState(ts.mn.FOCUSED)&&this.setState({toolbarHasKeyboardFocus:!1,editorHasKeyboardFocus:!1,editorHasMouseFocus:!1},()=>{this.getPluginModules().forEach(e=>{"function"==typeof e.onFormatChange&&e.onFormatChange(null)}),this.setEditorFocusState(ts.mn.BLURRED),this.restoreQuillPlaceholder(),e4(this.editorRoot.classList,!1),e3(this.editorRoot.classList,!1),this.props.onBlur&&this.props.onBlur()})},100)}onFocusHandler(e){clearTimeout(this.onBlurDebounce),clearTimeout(this.onFocusDebounce),this.readOnly||this.editorContainer.addEventListener("dragover",ej.jo),e&&e.target&&!this.props.isDisabled&&!this.props.isReadOnly&&(this.selectEmbeddedBlot(e.target),this.editorContainer.removeEventListener("focusin",this.onFocusHandler),e.target.focus({preventScroll:!0}),this.editorContainer.addEventListener("focusin",this.onFocusHandler)),this.onFocusDebounce=setTimeout(()=>{this.editorHasFocus()&&this.isEditorFocusState(ts.mn.BLURRED)&&(window.getSelection().focusNode===this.editorRoot.firstChild&&this.quill.setSelection(0,0),this.setEditorFocusState(ts.mn.FOCUSED),this.toolbarHasFocus()||(e4(this.editorRoot.classList,!0),this.setState({editorHasMouseFocus:!0})),this.editorHasKeyboardFocus()&&e3(this.editorRoot.classList,!0),this.toolbarHasFocus()||this.quill.hasFocus()||this.quill.focus(),this.props.onFocus&&this.props.onFocus())},100)}initializeQuill(){var e,t;this.quillUnloadHandler=((e,t,r)=>{let s={},n={},o={},i=[];e.forEach(e=>{if(e.formatter){let r=e.formatter.blotName||e.pluginId;n[r]=class extends eE[e.formatter.type]{constructor(t,r){super(t,r),e.formatter.onBlotInit&&e.formatter.onBlotInit(t,this)}},n[r].create=r=>{let s=document.createElement(e.formatter.tagName);return e.formatter.renderDomNode(s,e.formatter.attributes,r,t)},n[r].blotAttributes=e.formatter.attributes,n[r].blotName=r,n[r].className=e.formatter.className||r,n[r].tagName=e.formatter.tagName,n[r].split=e.split,n[r].toBbML=e.toBbML,n[r].toBbMLAsync=e.toBbMLAsync,s[`formats/${r}`]=n[r]}if(e.module){let t=e.pluginId;o[`modules/${t}`]=e.module}if("function"==typeof e.onLoad)try{let t=e.onLoad(r);"function"==typeof t&&i.push(t)}catch(e){ec.mO.error(ed,e)}});let a={...ep,...s,...o};return c.A.register(a,!0),(e=>{let t="formats/";Object.keys(e).forEach(r=>{if(r.startsWith(t)){let s=r.replace(t,"");Z.A.registerConverter(s,e[r])}})})(a),()=>{e.forEach(e=>{if("function"==typeof e.onUnload)try{e.onUnload()}catch(e){ec.mO.error(ed,e)}}),i.forEach(e=>{try{e()}catch(e){ec.mO.error(ed,e)}})}})([...this.plugins],this.props,this.editorRoot),this.editorRoot.classList.add("bb-editor-container"),this.quill=new c.A(this.editorRoot,{placeholder:!this.props.isReadOnly&&this.props.placeholder,readOnly:this.props.isDisabled||this.props.isReadOnly,modules:{...eU,...this.getPluginModulesConfig()}}),this.getPluginModules().forEach(e=>{"function"==typeof e.onInit&&e.onInit(this.props.localize.getLocalePropsForClone(),this.applyEditorChange)}),this.quill.notifyPluginsOfPropChanges=this.notifyPluginsOfPropChanges.bind(this),this.editorRoot.firstChild.classList.add(ts.sX),this.setEditorSize(),this.editorContainer.shouldEnableDemoMashup=!!this.props.plugins.reduce((e,t)=>t.length?[...e,...t]:[...e,t],[]).find(e=>e&&"demoMashup"===e.pluginId),this.editorContainer.shouldEnableDemoMashup&&(0,eJ.U)(),this.addAxLabels(),this.props.disablePasteFormat?this.quill.clipboard.addMatcher(eB.selector,eB.func):ex.forEach(e=>{this.quill.clipboard.addMatcher(e.selector,e.func)}),e=this.quill,(t=this.plugins).forEach(r=>{if(r.matchers){let t;r.matchers.forEach(s=>{t="function"==typeof r.deltaModifier?r.deltaModifier:(e,t)=>{let s,n=r.formatter&&r.formatter.blotName,o=n||r.pluginId;return(["embed","embedInline"].includes(r.formatter.type)?s={insert:{[o]:(0,X.gu)(e,r.formatter.attributes)},attributes:(0,X.gu)(e,r.formatter.attributes)}:"inline"===r.formatter.type&&((s={insert:e.textContent,attributes:(0,X.gu)(e,r.formatter.attributes)}).attributes[o]=(0,X.gu)(e,r.formatter.attributes)),"link"===n&&e.textContent&&e.textContent.trim().length)?ew(t,s.attributes):new(g())([s])},e.clipboard.addMatcher(s,t)})}e.clipboard.addMatcher(Node.TEXT_NODE,(e=>{let t=e.filter(e=>e&&e.formatter&&"embed"===e.formatter.type).map(e=>e.matchers);return(e,r)=>{let s,n=r&&r.ops&&r.ops[r.ops.length-1];return!(n&&"string"==typeof n.insert&&`
`===n.insert.slice(-1))&&e.nextSibling&&(s=e.nextSibling,t.length&&s.parentNode&&Array.from(s.parentNode.querySelectorAll(t)).indexOf(s)>-1)&&r.insert(`
`),r}})(t))}),e8(this.editorRoot.classList,!this.props.isDisabled&&!this.props.isReadOnly),eX(this.editorRoot.classList,this.props.isDisabled),e1(this.editorRoot.classList,this.props.isReadOnly),e2(this.editorRoot.classList,!!this.props.errorMessage),this.onBbMLInputChange(this.props.bbml),this.notifyPluginsOfPropChanges(),this.quill.on(c.A.events.EDITOR_CHANGE,this.onEditorChange),this.quill.history.clear()}updateQuillEnable(e=!1){e&&!this.quill.isEnabled()?this.quill.enable(!0):!e&&this.quill.isEnabled()&&this.quill.enable(!1)}updateQuillPlaceholder(e){"string"==typeof e&&this.quill.root.setAttribute("data-placeholder",e)}restoreQuillPlaceholder(){1===this.quill.getContents().ops.length&&"string"==typeof this.quill.getContents().ops[0].insert&&`
`===this.quill.getContents().ops[0].insert&&this.quill.setText("")}unloadPlugins(){var e;null==(e=this.quillUnloadHandler)||e.call(this),(0,eY.X)(this.bbEditorId,this.props.onModalOpen)}notifyPluginsOfPropChanges(){Array.from(this.editorRoot.querySelectorAll(".wants-props-update")).forEach(e=>{e.formatComponent&&e.formatComponent(this.props)})}onEditorChange(e,t,r,s){e!==c.A.events.SELECTION_CHANGE&&this.state.isApplyingChanges||e===c.A.events.SELECTION_CHANGE&&"silent"===s||(e!==c.A.events.TEXT_CHANGE||"silent"!==s)&&n.unstable_batchedUpdates(()=>{if(this.editorInitialContent||(this.editorInitialContent=this.quill.getContents().ops),e===c.A.events.SELECTION_CHANGE&&"user"===s&&(clearTimeout(this.extendSelection),this.extendSelection=setTimeout(()=>{this.extendTableSelection()},400)),e!==c.A.events.SELECTION_CHANGE||"user"!==s||this.state.isApplyingChanges||this.setState({editorLastContent:this.quill.getContents().ops}),e===c.A.events.TEXT_CHANGE){let e=this.quill.getContents().ops;this.onBbMLOutputChange(e),this.setState({editorLastContent:e})}if(this.editorContainsElement(document.activeElement)&&!this.props.isDisabled&&!this.props.isReadOnly&&e&&!this.state.isApplyingChanges){let e=t&&t.ops&&t.ops[t.ops.length-1].insert,s="string"==typeof e&&e.includes(`
`),n=this.getEditorFormat(),o={};s&&(Object.values(ts.hR).forEach(e=>{n[e]&&(o[e]=n[e])}),o.selection=new E.Q(n.selection.index+1,0));let i=this.getEditorHasTableSelected(),a=!1;if(i)this.storedStack||(this.storedStack=this.quill.history.stack,this.quill.history.clear()),a=this.isDifferentTableSelected(r);else if(this.storedStack){let e=this.quill.history.stack,t=this.getDeltaChangeLength(e);this.storedStack.undo.forEach(e=>{e.undo.ops.forEach(e=>{e.retain&&e.retain>t.lowestRetain&&(e.retain+=t.offset)})}),this.quill.history.stack=this.storedStack,this.storedStack=void 0}a?this.resetTableSubtoolbar():this.setState({editorHasTableSelected:i}),this.setState({editorFormat:n,editorLastFormat:o,editorLastSelection:n.selection,editorLastRawSelection:n.rawSelection,toolbarHasKeyboardFocus:this.keyDownHandler.inToolbarScope(),editorHasCodeBlockSelected:this.getCodeBlockSelected()}),this.getPluginModules().forEach(e=>{"function"==typeof e.onFormatChange&&e.onFormatChange(n)})}})}getEditorSelection(){return this.quill.getSelection()||this.state.editorLastSelection}getEditorFormat(){let e=this.getEditorSelection(),t=this.quill.getText(e),r=this.quill.getContents(e),s=this.quill.getFormat(e),n={};return Object.keys(this.state.editorLastFormat).length?((n=this.state.editorLastFormat).selection=e,n.rawSelection=e):(0===e.length?n=s:e.length>0&&(n=r.ops.reduce((e,t)=>({...((e,t)=>{let r={...e};return r.attachment&&t.insert&&t.insert["embedded-app"]&&delete r.attachment,e["embedded-app"]&&t.insert&&t.insert.attachment&&delete r["embedded-app"],r})(e,t),...t.attributes,..."object"==typeof t.insert?t.insert:{}}),s)),(n=this.updateFormatWithBlotSelection(n,t,e)).rawSelection=e),n}updateFormatWithBlotSelection(e,t,r){let s=0;return Object.keys(e).forEach(t=>{let r=e[t].domNode;if(r){let t=c.A.find(r);e.text=r.innerText,e.selection=new E.Q(t.offset(this.quill.scroll),t.length()),s+=1}}),(1!==s||r.index<e.selection.index||r.index+r.length>e.selection.index+e.selection.length)&&(e.text=t,e.selection=r),e}selectEmbeddedBlot(e){let t,r=em.find(e,!0),s=r&&r.constructor&&Object.getPrototypeOf(r.constructor).blotName;"embed"===s?(this.quill.setSelection(r.offset(this.quill.scroll)-1,2,c.A.sources.SILENT),this.onEditorChange(c.A.events.SELECTION_CHANGE),(t=r.domNode.querySelector("span > div:first-child")||r.domNode).classList.add("ql-embed-selected","no-select")):"embedInline"===s&&(this.quill.setSelection(r.offset(this.quill.scroll),1,c.A.sources.SILENT),this.onEditorChange(c.A.events.SELECTION_CHANGE),(t=r.domNode).classList.add("ql-embed-selected","no-select")),this.unselectEmbeddedBlots(t)}unselectEmbeddedBlots(e){let t=Array.from(this.editorRoot.querySelectorAll(".ql-embed-selected"));t.length&&t.forEach(t=>{t!==e&&t.classList.remove("ql-embed-selected","no-select")})}makeEmbedsEasierToEditAfter(){var e;let t=this.quill.getContents().ops,r=t.length-1;(t[r]&&"object"==typeof t[r].insert||t[r]&&"string"==typeof t[r].insert&&`
`!==t[r].insert.substr(-1,1)||t[r]&&"string"==typeof t[r].insert&&`
`===t[r].insert&&(null==(e=t[r].attributes)?void 0:e.table))&&this.quill.insertText(this.quill.scroll.length,`
`,c.A.events.SILENT)}applyEditorChange(e,t){this.setState({isApplyingChanges:!0},()=>{!function(e,t,r,s){let n=t.update?t.update.index:t.index,o=t.update?t.update.length:t.length;if(!e)return;let i=Array.isArray(e)?e:[e];if("object"==typeof t.raw&&i.length>0&&!t.update){let e=t.raw.index,s=t.raw.length,a=i.reduce((e,t)=>(Object.keys("object"==typeof t.format?t.format:t).forEach(t=>e[t]=!0),e),{}),l=Object.keys(r.getFormat(e,s)),u=l.length>0&&l.some(e=>e in a);i.length>0&&i.some(e=>!!e.insert)&&!u&&0===s&&(n=e,o=s)}i.forEach(e=>{let t=!!e.insert,i=t&&o>0,a="string"==typeof e.insert?e.insert:"",l=a.length>0,u="object"==typeof e.format?e.format:{},d=Object.keys(u).length>0;if(i&&r.deleteText(n,o,eg.sources.SILENT),t&&l&&!d)r.insertText(n,a),n+=a.length,o=0,r.setSelection(n,o,eg.sources.USER);else if(d){let e=Object.keys(u).filter(e=>"object"!=typeof u[e]),i=Object.keys(u).filter(e=>"object"==typeof u[e]),d=i.length>0?i.shift():null,E=d&&u[d],p=u.dangerouslyPasteHTML;if(t&&l)if(p){let e=r.getLength();r.clipboard.dangerouslyPasteHTML(n,a);let t=r.getLength();a=r.getText(n,t-e)}else{if(d){if(r.insertText(n,a,d,E,eg.sources.USER),"latex"===d){let e=Object.keys(r.getFormat(n,a.length)).filter(e=>"latex"!==e).reduce((e,t)=>(e[t]=!1,e),{});r.formatText(n,a.length,e,eg.sources.SILENT)}}else r.insertText(n,a,eg.sources.USER);o=a.length,r.setSelection(n,o,eg.sources.USER)}else if(t&&!l){var c;r.insertEmbed(n,d,E,eg.sources.USER),n+=1,o=0,r.setSelection(n,o,eg.sources.USER),d&&r.format(d,!1,eg.sources.USER),(/firefox/i.test(navigator.userAgent)||/^((?!chrome|android).)*safari/i.test(navigator.userAgent))&&(c=r.container,setTimeout(()=>{let e=document.createElement("input");e.style.width=0,e.style.height=0,e.style.opacity=0,e.setAttribute("aria-hidden","true"),e.tabIndex=-1,c.appendChild(e),e.focus(),e.remove(),(()=>r.focus())()},0))}e.length&&(o>0||!t)&&e.forEach(e=>{let t=u[e];r.format(e,t,eg.sources.USER)}),t&&l?((null==u?void 0:u.selected)?o=a.length:(n+=a.length,o=0),r.setSelection(n,o,eg.sources.USER),d?r.insertText(n," ",d,!1,eg.sources.USER):r.insertText(n," ",eg.sources.USER),r.deleteText(n,1,eg.sources.USER),d&&(r.format(d,!1,eg.sources.USER),s(eg.events.TEXT_CHANGE))):s(eg.events.TEXT_CHANGE)}})}(e,{...this.state.editorLastSelection,raw:this.state.editorLastRawSelection,update:t},this.quill,this.onEditorChange),this.notifyPluginsOfPropChanges(),this.setState({isApplyingChanges:!1},()=>{this.onEditorChange(c.A.events.TEXT_CHANGE)})})}applyChangeAndSetEditorFocused(e){this.applyEditorChange(e),this.onToolbarActionComplete(!0)}quillModuleAction(e){let t;if("quill.history"===e.module&&(t=this.quill.history,"undo"===e.action))return void t.undo();if("quill.table"===e.module)switch(t=this.quill.getModule("table"),e.action){case"insert-table":e.rowCount&&e.columnCount&&(t.insertTable(e.rowCount,e.columnCount,e.headerRow,e.headerColumn),this.setState({editorHasTableSelected:this.getEditorHasTableSelected()}));break;case"edit-table":e.rowCount&&e.columnCount&&t.editTable(e.rowCount,e.columnCount);break;case"get-table-info":return t.getTableData(this.state.tableHasHeaderRow,this.state.tableHasHeaderColumn);case"insert-row-above":t.insertRowAbove();break;case"insert-row-below":t.insertRowBelow();break;case"insert-col-left":t.insertColumnLeft();break;case"insert-col-right":t.insertColumnRight();break;case"delete-table":t.deleteTable();break;case"delete-row":t.deleteRow();break;case"delete-column":t.deleteColumn();break;case"set-header-row":t.updateHeaderRow(e.setHeader);break;case"set-header-col":t.updateHeaderCol(e.setHeader);break;case"saved-selection":t.updateNullSelection();break;case"get-headers":return this.setState({editorHasTableSelected:this.getEditorHasTableSelected()}),t.getTableHeadersValue();case"reset-table-subtoolbar":this.resetTableSubtoolbar()}if("plugins"===e.module){let t=this.getPluginModules();"read-only-change"===e.action&&t.forEach(t=>{t.onReadOnlyChange&&t.onReadOnlyChange(e.value,this.props.currentLocale)})}if(e.module||"clearFormat"!==e.action)return;let r=this.quill.getSelection();!(null==r?void 0:r.length)>0||(ts.T8.forEach(e=>{this.quill.formatText(r.index,r.length,e,!1)}),ts.r3.forEach(e=>{this.quill.format(e,!1)}))}onBbMLInputChange(e){var t;if("string"==typeof e){try{this.quill.clipboard.dangerouslyReplaceHTML(e)}catch(s){let r=e;if(null==(t=s.message)?void 0:t.includes("[Parchment]")){console.error(s);let t=/<[^>]*\s+\w+\s*=\s*[^"'][^>]*>/g.exec(e);if(t){let e=`<p>${r.substring(t.index).replaceAll("<","&lt;").replaceAll(">","&gt;")}</p>`;r=r.substring(0,t.index)+e}else r=`<p>${r.replaceAll("<","&lt;").replaceAll(">","&gt;")}</p>`}this.quill.clipboard.dangerouslyReplaceHTML(r),this.setState({showCorruptionErrorDialog:!0})}this.quillModuleAction({module:"plugins",action:"read-only-change",value:this.props.isReadOnly}),this.makeEmbedsEasierToEditAfter(),""!==e||this.editorInitialContent||(this.editorInitialContent=this.quill.getContents().ops)}}onBbMLOutputChange(e){let{editorLastContent:t}=this.state,{autoSaveCallback:r,autoSaveMilliseconds:s,onChange:n}=this.props,o=!(0,eV.bD)(e,t);this.isBbmlDirty=!(0,eV.bD)(e,this.editorInitialContent)&&(`
`!==e[0].insert||`
`!==this.editorInitialContent[0].insert||e.length>1||this.editorInitialContent.length>1);let i=r&&"number"==typeof s;if((n||i)&&o){let t={toBbML:Z.A.toBbML.bind(null,e,this.props.isRtl),isDirty:this.isBbmlDirty,setPristine:e=>{this.setState({editorFormat:{text:"",selection:new E.Q(0,0)}}),this.onBbMLInputChange(e),this.editorInitialContent=this.quill.getContents().ops,this.onEditorChange(c.A.events.TEXT_CHANGE)}};n&&n(t),i&&(clearTimeout(this.autoSaveTimeout),this.autoSaveTimeout=setTimeout(()=>{r(t)},s))}}setToolbarState(e){let t=function(e,t){let r;switch(t){case ts.y8.default:r=e>=ts.D3?tV:e>=ts.Vd?tF:tH;break;case ts.y8.minimal:r=e>=ts.f3?t$:tz;break;default:r=tH}return r}(e.getBoundingClientRect().width,this.props.toolbarSet);t!==this.state.toolbar&&this.setState({toolbar:t})}updateToolbar(e){if(this.editorContainer){let t=this.editorContainer;t.getBoundingClientRect().width<=0&&window.requestAnimationFrame?this.requestAnimationFrameID=window.requestAnimationFrame(this.updateToolbar):e&&"resize"===e.type?(clearTimeout(this.debounceWindowResizeToolbar),this.debounceWindowResizeToolbar=setTimeout(()=>this.setToolbarState(t),100)):this.setToolbarState(t)}}getPluginButtons(){return this.plugins.filter(e=>e.buttonConfig).map(e=>e.buttonConfig).map(e=>(e.key=e.id,e))}getPluginModules(){return this.plugins.map(e=>this.quill.getModule(e.pluginId)).filter(e=>!!e)}getPluginModulesConfig(){return this.plugins.reduce((e,t)=>(t.module&&(e[t.pluginId]=t.moduleParams||!0),e),{})}getEditorRect(){return this.editorContainer?this.editorContainer.getBoundingClientRect():null}isFileDropEnabled(){return!this.props.isDisabled&&!this.props.isReadOnly&&this.fileDragDropUtil.hasDropHandlers()}isFileOnEvent(e){return void 0!==e.dataTransfer.files&&e.dataTransfer.files.length>0}onDragEnter(){this.isFileDropEnabled()&&(this.dragCount+=1,e3(this.editorRoot.classList,!0))}onDragLeave(){this.isFileDropEnabled()&&(this.dragCount-=1,0===this.dragCount&&e3(this.editorRoot.classList,!1))}onDrop(e){this.isFileDropEnabled()&&this.isFileOnEvent(e)&&(this.dragCount=0,e3(this.editorRoot.classList,!1),this.fileDragDropUtil.onFileDrop(e))}getWordCount(){if(!this.quill)return 0;let e=this.quill.getText().trim();return 0===e.length?0:e.split(/\s+/).length}getDeltaChangeLength(e){let t=0,r=Number.MAX_SAFE_INTEGER;return e.undo.forEach(e=>{e.undo.ops.forEach(e=>{var s,n,o;e.retain&&(r=Math.min(r,e.retain)),t+=null!=(s=e.delete)?s:0,t-=null!=(o=null==(n=e.insert)?void 0:n.length)?o:0})}),r===Number.MAX_SAFE_INTEGER&&(r=0),{lowestRetain:r,offset:t}}getEditorHasTableSelected(){let e=this.getEditorSelection();return"table"in this.quill.getFormat(e)}getCodeBlockSelected(){let e=this.getEditorSelection();return"code-block"in this.quill.getFormat(e)}shouldShowToolbar(){return!this.props.isToolbarHidden&&!this.props.isReadOnly}isDifferentTableSelected(e){if(e){let t=this.quill.getFormat(e);if("table"in t){let e=this.getEditorSelection();return this.quill.getFormat(e).table!==t.table}}return!1}extendTableSelection(){var e,t;let r=document.getSelection();if("Range"!==r.type)return;let s=r.anchorNode;s.nodeType!==Node.ELEMENT_NODE&&(s=s.parentElement),s=null!=(e=s.closest("TD"))?e:s.closest("TH");let n=r.focusNode;if(n.nodeType!==Node.ELEMENT_NODE&&(n=n.parentElement),n=null!=(t=n.closest("TD"))?t:n.closest("TH"),!s&&!n)return;let o=r.anchorNode.compareDocumentPosition(r.focusNode)===Node.DOCUMENT_POSITION_FOLLOWING;if(s===n)return;let i=r.anchorNode,a=r.anchorOffset,l=r.focusNode,u=r.focusOffset;s&&(i=o?s.closest("TABLE"):s.closest("TABLE").nextSibling,a=0),n&&(l=o?n.closest("TABLE").nextSibling:n.closest("TABLE"),u=0),r.setBaseAndExtent(i,a,l,u)}resetTableSubtoolbar(){this.setState({editorHasTableSelected:!1,tableHasHeaderRow:void 0,tableHasHeaderColumn:void 0}),setTimeout(()=>this.setState({editorHasTableSelected:!0}))}setHeaders(e,t){this.setState({tableHasHeaderRow:e,tableHasHeaderColumn:t})}setEditorSize(){this.props.size&&-1!==ts.iF.indexOf(this.props.size)&&this.editorRoot.firstChild.classList.add(`size-${this.props.size}`)}focusEditor(e,t){var r,s;null==(s=null==(r=this.editorRoot)?void 0:r.querySelector(`.${ts.sX}`))||s.focus(e),t&&this.editorHasFocus()&&this.setEditorKeyboardFocused()}scrollEditorIntoView(e){var t,r;null==(r=null==(t=this.editorRoot)?void 0:t.querySelector(`.${ts.sX}`))||r.scrollIntoView(e)}blurEditor(){var e,t;null==(t=null==(e=this.editorRoot)?void 0:e.querySelector(`.${ts.sX}`))||t.blur()}render(){let{ariaLabel:e,isReadOnly:t,isDisabled:r,localize:n}=this.props,o=this.state.toolbar,i=this.getPluginButtons(),a=this.shouldShowToolbar(),l=(0,eV.ws)(),d=`bbmlEditor.editor.accessibilityAriaMessage${l?"MacOS":"WinOS"}`,c=`bbmlEditor.editor.accessibilityMessage${l?"MacOS":"WinOS"}`,E=(0,u.A)({"editor-content-container":!0,"keyboard-tooltip-container":!0,"no-toolbar":!a,"is-rtl":this.props.isRtl,"no-scroll":this.props.isNoScroll});return s.createElement(s.Fragment,null,t||r?null:s.createElement("div",{id:`${this.bbEditorId}-editorLabel`,className:"sr-only","aria-hidden":!0},null!=e?e:n.translate("bbmlEditor.editor.axDefaultLabel")),s.createElement("div",{ref:this.setEditorContainer,className:"bb-editor-root",role:"presentation",onKeyDown:this.onKeyDown,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onDragOver:this.fileDragDropUtil.onFileDragOver,onBlur:ej.kI,onMouseDown:ej.kI},a&&s.createElement(o,{isDisabled:this.props.isDisabled||this.props.isReadOnly,isRtl:this.props.isRtl,bbEditorId:this.bbEditorId,editorFormat:this.state.editorFormat,editorLastContent:this.state.editorLastContent,editorLastRawSelection:this.state.editorLastRawSelection,editorId:this.props.editorId,addKeyDownHandler:this.keyDownHandler.addKeyDownHandler,applyChange:this.applyEditorChange,quillModuleAction:this.quillModuleAction,toolbarActionComplete:this.onToolbarActionComplete,hasKeyboardFocus:this.state.toolbarHasKeyboardFocus,setEditorFocusStateToolbar:this.setEditorFocusStateToolbar,pluginButtons:i,getEditorRect:this.getEditorRect,editorHasTableSelected:this.state.editorHasTableSelected,editorHasCodeBlockSelected:this.state.editorHasCodeBlockSelected,rootContentId:this.props.rootContentId,setHeaders:this.setHeaders,tableHasHeaderRow:this.state.tableHasHeaderRow,tableHasHeaderColumn:this.state.tableHasHeaderColumn,onModalOpen:this.props.onModalOpen}),s.createElement("div",{className:E},s.createElement("div",{ref:this.setEditorRoot,role:"presentation"}),a&&this.state.shouldShowTooltip&&s.createElement(s.Fragment,null,s.createElement("span",{"aria-live":"polite",id:t0,className:"sr-only"},n.translate(d)),s.createElement("div",{className:"keyboard-tooltip"},n.translate(c))),this.props.errorMessage&&s.createElement("span",{className:"error-message"},this.props.errorMessage),this.props.showWordCount&&!this.props.isReadOnly&&a&&s.createElement("span",{className:"word-count"},n.translate("bbmlEditor.editor.wordCount",{count:this.getWordCount()})),s.createElement(tZ,{onChange:this.handleSmallBreakpointChange}))),s.createElement(tX.KKB,{analyticsId:"bbmlEditor.corruptionErrorDialog",rootId:"bbmlEditor.corruptionErrorDialog",titleText:n.translate("bbmlEditor.errorMessages.corruptionErrorDialog.title"),contentText:n.translate("bbmlEditor.errorMessages.corruptionErrorDialog.message"),confirmationButtonText:n.translate("bbmlEditor.errorMessages.corruptionErrorDialog.confirmation"),showCancelButton:!1,open:this.state.showCorruptionErrorDialog,exitCallback:()=>{this.setState({showCorruptionErrorDialog:!1})}}))}}let t5=i().shape({buttonConfig:i().shape({id:i().string.isRequired,cssClass:i().string.isRequired,isActive:i().func.isRequired,onClick:i().func.isRequired}),formatter:i().shape({type:i().oneOf(["inline","embed","embedInline"]),tagName:i().string,attributes:i().shape(),renderDomNode:i().func}),matchers:i().arrayOf(i().string),onLoad:i().func,onUnload:i().func,pluginId:i().string,toBbML:i().func,toBbMLAsync:i().func});t1.propTypes={ally:ez,ariaLabel:i().string,ariaLabelledBy:i().string,ariaDescribedBy:i().string,ariaRequired:i().bool,autoSaveCallback:i().func,autoSaveMilliseconds:i().number,bbml:i().string,disablePasteFormat:i().bool,editorId:i().string,errorMessage:i().string,expandInlineFilesOnLoad:i().bool,isDisabled:i().bool,isReadOnly:i().bool,isRtl:i().bool,isToolbarHidden:i().bool,onChange:i().func,onKeyDown:i().func,onBlur:i().func,onFocus:i().func,placeholder:i().string,plugins:i().arrayOf(i().oneOfType([t5,i().arrayOf(t5)])),rootContentId:i().string,size:i().oneOf(["small","medium"]),showWordCount:i().bool,toolbarSet:i().oneOf(["default","minimal"]),isNoScroll:i().bool},t1.defaultProps={ally:eW,ariaLabelledBy:null,ariaDescribedBy:null,ariaRequired:!1,autoSaveCallback:null,autoSaveMilliseconds:null,bbml:null,disablePasteFormat:!1,editorId:"bb-editor-textbox",errorMessage:null,isDisabled:!1,isReadOnly:!1,isRtl:!1,isToolbarHidden:!1,onChange:null,onKeyDown:null,onFocus:null,onBlur:null,placeholder:null,plugins:[],rootContentId:null,size:null,showWordCount:!1,toolbarSet:"default",expandInlineFilesOnLoad:!1,isNoScroll:!1};let t8=(0,d.E)(t1)},758247:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s={ROUTER_STATE_CHANGE_SUCCESS:"router.state.change.success",ROUTER_LOCATION_CHANGE_SUCCESS:"router.location.change.success",APP_ERROR:"app.error",APP_ERROR_CLEAR:"app.error.clear"}},759059:(e,t,r)=>{"use strict";r.d(t,{h:()=>o});var s=r(216693),n=r(601478);let o=e=>(0,n.l)(t=>{if(e)return s.Ltv.content.getContentById(t,e)})},761820:(e,t,r)=>{"use strict";r(612216),r(542633)},761872:(e,t,r)=>{"use strict";r.d(t,{o1:()=>E,Ff:()=>c,Lt:()=>p});var s=r(608719),n=r(825271);async function o(e){let{courseId:t,attemptId:r}=e;return await (0,s.mk1)(n.dZ,t,r)}let i={ATTEMPT_LOG_LOAD:"attempt-log.load"};var a=r(968554),l=r(905898),u=r(300474),d=r(758247);let c=(0,a.vy)({byAttemptId:{}},{[i.ATTEMPT_LOG_LOAD]:(e,t)=>(0,l.jM)(e,e=>{let r=e.byAttemptId[t.attemptId];r||(r={attemptLog:void 0,isLoaded:!1},e.byAttemptId[t.attemptId]=r)}),[(0,a.ok)(i.ATTEMPT_LOG_LOAD)]:(e,t)=>(0,l.jM)(e,e=>{e.byAttemptId[t.attemptId]={attemptLog:t.data,isLoaded:!0}}),[(0,a.fJ)(i.ATTEMPT_LOG_LOAD)]:(e,t)=>(0,l.jM)(e,e=>{e.byAttemptId[t.attemptId]||(e.byAttemptId[t.attemptId]={attemptLog:void 0,isLoaded:!1})})}),E={loadAttemptLog:e=>(0,a.RA)(async(t,r)=>{let n=r().attemptLog.byAttemptId[e.attemptId];if(null==n?void 0:n.isLoaded)return p.getAttemptLog(r(),e.attemptId);t((0,a.rc)(i.ATTEMPT_LOG_LOAD,{attemptId:e.attemptId}));try{let r=await o(e);return t((0,a.rc)((0,a.ok)(i.ATTEMPT_LOG_LOAD),{attemptId:e.attemptId,data:r})),r}catch(r){if((0,u.rh)((0,u.xt)(r),[s.t3V.NotFound]))return void t((0,a.rc)((0,a.ok)(i.ATTEMPT_LOG_LOAD),{attemptId:e.attemptId,data:void 0}));throw t((0,a.rc)((0,a.fJ)(i.ATTEMPT_LOG_LOAD),{attemptId:e.attemptId})),t((0,a.rc)((0,a.ok)(d.A.APP_ERROR),{error:r})),{err:r}}})},p={getAttemptLog:(e,t)=>{let r=e.attemptLog.byAttemptId[t];if(r)return r.attemptLog}}},763471:(e,t,r)=>{"use strict";r.d(t,{o:()=>i});var s=r(968554),n=r(750609);let o={SUBMIT_DIRECT_SUBMIT_ADD_SUGGEST_URL:"direct.submit.add.suggest.url"},i={postDirectSubmitAddSuggestUrl:({params:e,suggestUrlData:t,allowedErrors:r})=>(0,s.Vy)(o.SUBMIT_DIRECT_SUBMIT_ADD_SUGGEST_URL,async()=>(await (0,n.fRi)(e,t)).ok,{allowedErrors:r})}},764209:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={CONTENT_LOAD:"content.load",CONTENT_PERSIST:"content.persist",CONTENT_PERSIST_MULTIPLE:"content.persist.multiple",CONTENT_DELETE:"content.delete",CONTENT_LOAD_ADAPTIVE_RELEASE_RULE:"content.load.adaptive.release.rule",CONTENT_CREATE_ADAPTIVE_RELEASE_RULE:"content.create.adaptive.release.rule",CONTENT_CREATE_ADAPTIVE_RELEASE_CRITERIA:"content.create.adaptive.release.criteria",CONTENT_PERSIST_ADAPTIVE_RELEASE_MULTIPLE:"content.persist.adaptive.release.multiple",CONTENT_PERSIST_ADAPTIVE_RELEASE:"content.persist.adaptive.release",CONTENT_DELETE_ADAPTIVE_RELEASE:"content.delete.adaptive.release",CONTENT_DELETE_ADAPTIVE_RELEASE_CRITERIA:"content.delete.adaptive.release.criteria",CONTENT_UPDATE_IN_STORE:"content.update.in.store",CONTENT_DELETE_IN_STORE:"content.delete.in.store",CONTENT_MOVE_IN_STORE:"content.move.in.store",CONTENT_DELETE_ALL_ADAPTIVE_RELEASE_IN_STORE:"content.delete.adaptive.release.in.store",CONTENT_DELETE_ADAPTIVE_RELEASE_RULE_IN_STORE:"content.delete.adaptive.release.in.store.individual",CONTENT_IMPORT_COMPLETE:"content.import.complete",CONTENT_SEARCH_LOAD:"content.search.load",CONTENT_LOAD_BY_GROUP_ID:"content.load.by.group.id",CONTENT_LOR_COPY_COMPLETE:"content.lor.copy.complete"}},764265:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(877973);let n=(0,s.n9)(e=>(0,s.rU)({bbDropdown:{display:"inline-flex",alignItems:"center"},dropdownContainer:{padding:"4px"},dropdownInput:{minInlineSize:"96px",inlineSize:"auto",blockSize:"32px"},dropdownMenuItem:{"& .bb-editor-root .ql-editor":{minHeight:0,lineHeight:0},'&&[aria-selected="true"]':{backgroundColor:e.palette.background.b4}}}))},764556:(e,t,r)=>{"use strict";r.d(t,{Hp:()=>d,Oi:()=>a,Z0:()=>c,hb:()=>u,vQ:()=>l});var s=r(608719),n=r(825271),o=r(956284),i=r(853400);let a=(0,i.Y)(s.TYp,n.dZ),l=(0,i.Y)(s.zkU,n.dZ),u=(0,i.Y)(s.TPX,n.dZ),d=async e=>{let{courseId:t,contentId:r,paging:a={offset:0,limit:1e3}}=e;return function(e){let{results:t,paging:r,permissions:s}=e;return{rules:(0,o.jD)(t),permissions:s,paging:r}}(await (0,i.Y)(s.Zed,n.dZ)(t,r,a))},c=(0,i.Y)(s.ydu,n.dZ)},765633:(e,t,r)=>{"use strict";r.d(t,{g:()=>a});var s=r(132101),n=r(251079),o=r(514041),i=r(25288);let a=(0,o.forwardRef)(function(e,t){let{open:r}=e,a=(0,n.Bi)();return(0,o.useEffect)(()=>(r?i.P.getInstance().addModal(a):i.P.getInstance().removeModal(a),()=>{i.P.getInstance().removeModal(a)}),[a,r]),o.createElement(s.Z,{...e,ref:t})})},767372:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={AUTOMATIONS_LOAD:"automations.load",AUTOMATION_LOAD:"automation.load",AUTOMATION_CREATE:"automation.create",AUTOMATION_UPDATE:"automation.update",AUTOMATION_DELETE:"automation.delete",AUTOMATION_ACTIVITY_LOG_LOAD:"automation.activityLog.load",AUTOMATION_ACTIVITY_LOGS_LOAD:"automation.activityLogs.load"}},769224:(e,t,r)=>{"use strict";r.d(t,{D:()=>l,EX:()=>u,J4:()=>i,aR:()=>a});var s=r(397965),n=r(608719),o=r(825271);function i(e,t,r){let i=(0,s.BI)(e,t);return i.hasOwnProperty("startDate")&&!i.startDate?i.startDate="":i.hasOwnProperty("durationType")&&"DATE_RANGE"===i.durationType&&(i.startDate=t.startDate),i.hasOwnProperty("endDate")&&!i.endDate?i.endDate="":i.hasOwnProperty("durationType")&&"DATE_RANGE"===i.durationType&&(i.endDate=t.endDate),(0,n.Zee)(o.dZ,t.id,{...i,id:t.id},r)}function a(e){return(0,n.EDV)(o.dZ,e)}let l=(0,r(853400).Y)(n.NJo,o.dZ);async function u(e){let{STUDENT:t}=(await (0,n.GyT)(o.dZ,e)).results;return t}},770138:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>g,Lt:()=>I,o1:()=>y});var s=r(905898),n=r(139552),o=r(968554),i=r(612918),a=r(827828),l=r(767372),u=r(732583);let d=(e,t)=>{var r;if(!(null==t?void 0:t.courseFoundationsId))return o.Vc;let[s,n]=null!=(r=Object.entries(e.views.byCourseFoundationsId[t.courseFoundationsId]||{}).find(([,e])=>(0,u.Y_)(e.query,t)))?r:[null,null];return s?{id:s,view:n}:o.Vc},c=e=>["views","byCourseFoundationsId",e.courseFoundationsId],E=e=>["byId",e.activityLogId],p=(e,t)=>{let r=t.getState().automationsActivityLog.byId[e.automationId];return(0,i.gE)(null==r?void 0:r.status)},m=(e,t)=>{var r;if(!(null==(r=e.query)?void 0:r.courseFoundationsId))return!1;let{view:s}=d(t.getState().automationsActivityLog,e.query);return!s||!s.isLoading&&!s.isValid},g=(0,o.vy)({byId:{},views:{byCourseFoundationsId:{}}},{[l.g.AUTOMATION_ACTIVITY_LOGS_LOAD]:(0,o.Dh)(d,c),[(0,o.ok)(l.g.AUTOMATION_ACTIVITY_LOGS_LOAD)]:(e,t)=>{var r;let{data:n}=t,a=(0,s.Ay)(e,e=>{Object.keys(n.activityLogsById).forEach(t=>{e.byId[t]?e.byId[t]={value:n.activityLogsById[t],status:e.byId[t].status}:e.byId[t]={value:n.activityLogsById[t],status:i.U8}})});return(0,o.lY)(a,t,{viewResolver:d,viewsPathResolver:c,values:null!=(r=null==n?void 0:n.activityLogIds)?r:[]})},[(0,o.fJ)(l.g.AUTOMATION_ACTIVITY_LOGS_LOAD)]:(0,o.To)(d,c),[l.g.AUTOMATION_ACTIVITY_LOG_LOAD]:(0,i.rK)(E,i.hu.Load,i.p_),[(0,o.ok)(l.g.AUTOMATION_ACTIVITY_LOG_LOAD)]:(e,t)=>{let{activityLog:r}=t;return(0,s.Ay)(e,e=>{e.byId[r.id]={value:r,status:(0,i.Lx)(i.hu.Load,e.byId[r.id],i.U8)}})},[(0,o.fJ)(l.g.AUTOMATION_ACTIVITY_LOG_LOAD)]:(0,i.rK)(E,i.hu.Load,i.XP)}),y={loadAutomationActivityLogs:e=>(0,o.Vy)(l.g.AUTOMATION_ACTIVITY_LOGS_LOAD,async()=>{try{return{data:await (0,a.Qk)(e),query:e}}catch(t){throw new o.GS(t).setData({query:e})}},{data:{query:e},condition:m}),loadAutomationActivityLog:({courseFoundationsId:e,automationId:t})=>(0,o.Vy)(l.g.AUTOMATION_ACTIVITY_LOG_LOAD,async()=>{try{let r=await (0,a.zj)(e,t);return{courseFoundationsId:e,automationId:t,activityLog:r}}catch(r){throw new o.GS(r).setData({courseFoundationsId:e,automationId:t})}},{data:{courseFoundationsId:e,automationId:t},condition:p})},I={getAutomationsActivityLogByQuery:(0,n.Mz)([e=>e.automationsActivityLog,(e,t)=>t],(e,t)=>{let{view:r}=d(e,t);return r?(r.values||[]).map(t=>e.byId[t]).filter(e=>(null==e?void 0:e.value)&&(null==e?void 0:e.status.status)!=="deleted").map(e=>e.value):[]}),getAutomationsActivityLogViewByQuery:(0,n.Mz)([e=>e.automationsActivityLog,(e,t)=>t],(e,t)=>{let{view:r}=d(e,t);return r||null}),getAutomationActivityLogById:(e,t)=>{var r;return null==(r=e.automationsActivityLog.byId[t])?void 0:r.value},getAutomationActivityLogStatusById:(e,t)=>{var r;return null==(r=e.automationsActivityLog.byId[t])?void 0:r.status}}},770520:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>c,Lt:()=>p,o1:()=>E});var s=r(905898),n=r(968554),o=r(567808),i=r(750609),a=r(612918);let l=(e,t,r)=>{e.byCourseId[t]={value:r,status:a.y_}},u=(e,t)=>{let r=t.getState().gradebookSettings.byCourseId[e.courseId];return(0,a.qO)(null==r?void 0:r.status)},d=e=>["byCourseId",e.courseId],c=(0,n.vy)({byCourseId:{}},{[o.g.GRADEBOOK_SETTINGS_LOAD]:(0,a.vR)(d,a.vq),[(0,n.ok)(o.g.GRADEBOOK_SETTINGS_LOAD)]:(e,t)=>{let{courseId:r,courseGradeBookSettings:n}=t;return(0,s.Ay)(e,e=>{l(e,r,n)})},[(0,n.ok)(o.g.GRADEBOOK_SETTINGS_UPDATE)]:(e,t)=>{let{courseId:r,courseGradeBookSettings:n}=t;return(0,s.Ay)(e,e=>{l(e,r,n)})},[(0,n.fJ)(o.g.GRADEBOOK_SETTINGS_LOAD)]:(0,a.vR)(d,a.JL)}),E={loadGradebookSettings:e=>(0,n.Vy)(o.g.GRADEBOOK_SETTINGS_LOAD,async()=>{try{return{courseGradeBookSettings:await (0,i.G3T)(e),courseId:e}}catch(t){throw new n.GS(t).setData({courseId:e})}},{data:{courseId:e},condition:u}),updateGradebookSettingsByCourseID:(e,t)=>(0,n.Vy)(o.g.GRADEBOOK_SETTINGS_UPDATE,async()=>{try{return{courseGradeBookSettings:await (0,i.lDP)(e,t),courseId:e}}catch(t){throw new n.GS(t).setData({courseId:e})}})},p={getGradebookSettings:(e,t)=>{var r,s,n;return null==(n=null==(s=null==(r=e.gradebookSettings)?void 0:r.byCourseId)?void 0:s[t])?void 0:n.value}}},771199:(e,t,r)=>{"use strict";r.d(t,{Dg:()=>S,Ff:()=>A,Lt:()=>h,h2:()=>E,o1:()=>p});var s=r(608719),n=r(760975),o=r(967516),i=r(968554),a=r(11144),l=r(416488),u=r(905898),d=r(331427),c=r(522189);function E(e){return`${e}.aborted`}let p={updateDirectoryUploadStatus:(e,t)=>({type:l.gK.DIRECTORY_UPLOAD_STATUS,meta:{groupId:e,status:t}}),filesUploadRequest:(e,t,r={})=>(0,i.RA)(async(s,n)=>{let o=n();if(t){let e=o.fileUpload.byGroupId[t];if((null==e?void 0:e.status)===l.yW.Canceled)return}let i=e;r.skipMaxSizeCheck||(i=await g(s,n,e,{groupUploadId:t,maxFileSizeLimit:r.maxFileSizeLimit})),i.forEach(({file:e,queryParams:r,correlationId:n})=>{s(p.fileUploadRequest({file:e},{correlationId:n,groupId:t},r))})}),cloudFilesUploadRequest:(e,t,r={})=>(0,i.RA)(async(s,n)=>{let o=e;r.skipMaxSizeCheck||(o=await g(s,n,e,{groupUploadId:t,maxFileSizeLimit:r.maxFileSizeLimit})),o.forEach(({file:e,accessToken:r,correlationId:n})=>{s(p.cloudFileUploadRequest(e,r,{correlationId:n,groupId:t}))})}),fileUploadRequest:(e,t,r)=>({type:l.gK.FILE_UPLOAD_REQUEST,payload:{file:e,queryParams:r},meta:{uploadId:t}}),cloudFileUploadRequest:(e,t,r)=>({type:l.gK.CLOUD_FILE_UPLOAD_REQUEST,payload:{file:e,accessToken:t},meta:{uploadId:r}}),invalidFileUpload:(e,t,r)=>({type:l.gK.INVALID_FILE_UPLOAD,payload:{file:e,isCloudUpload:r},meta:{uploadId:t}}),startFileUpload:(e,t)=>({type:l.gK.FILE_UPLOAD,payload:{aborter:t},meta:{uploadId:e}}),updateFileUploadProgress:(e,t)=>({type:l.gK.FILE_UPLOAD,payload:{progress:t},meta:{uploadId:e}}),fileUploadSuccess:(e,t)=>({type:(0,i.ok)(l.gK.FILE_UPLOAD),payload:{file:t},meta:{uploadId:e}}),fileUploadFailure:(e,t)=>({type:(0,i.fJ)(l.gK.FILE_UPLOAD),payload:t,meta:{uploadId:e}}),fileUploadAborted:e=>({type:E(l.gK.FILE_UPLOAD),meta:{uploadId:e}}),canUpdateFileDetails:e=>({type:l.gK.CAN_UPDATE_FILE_DETAILS,meta:{uploadId:e}}),removeFileUploadDetails:(e,t)=>({type:l.gK.REMOVE_FILE_DETAILS,payload:{correlationIds:e,groupId:t}}),fileDetailsUpdated:(e,t=!1)=>({type:l.gK.UPDATED_FILE_DETAILS,meta:{uploadId:e},payload:{cancelled:t}}),abortGroupUploads:e=>(0,i.RA)((t,r)=>{let s=r().fileUpload.byGroupId[e];s&&(s.pendingUploads.forEach(r=>{t(p.abortUpload({groupId:e,correlationId:r}))}),t(p.updateDirectoryUploadStatus(e,l.yW.Canceled)))}),abortUpload:e=>(0,i.RA)((t,r)=>{let s=r().fileUpload.byId[e.correlationId];if(!s)return;let n=s.uploadProgress.aborter;n?n.abort():s.status===l.yW.Queued&&t(p.fileUploadAborted(e))}),overSizedFiles:(e,t)=>({type:l.gK.FILE_UPLOAD_OVERSIZED,payload:t,meta:{groupUploadId:e}}),updateFile:(e,t)=>({type:l.gK.UPDATE_FILE,payload:{file:t},meta:{uploadId:e}})};async function m(e,t,r,n){var o,i,a;await e(d.o1.loadFileUploadSettings());let l=null==(o=t().fileUploadSettings.fileUploadSettings)?void 0:o.value,u=null!=(i=null==l?void 0:l.maxUploadSizeInBytes)?i:s.xRq,E=null!=(a=null==l?void 0:l.customFileUploadSettings)?a:[],p=[],m=[];return r.forEach(e=>{let{file:t}=e;if(!t.name)return;let r=(0,c.kT)(t.name,E,u,n);t.size>r?p.push({request:e,fileSizeLimit:r}):m.push(e)}),{oversizedRequests:p,validRequests:m}}async function g(e,t,r,{groupUploadId:s,maxFileSizeLimit:n}){let{validRequests:o,oversizedRequests:i}=await m(e,t,r,n);return i.length>0&&e(p.overSizedFiles(s,i)),o}function y(e,t,r){var s;let{correlationId:n,groupId:o}=t,i={...e.byId[n],filename:r.name,filesize:r.size,groupId:o,status:l.yW.InProgress,uploadProgress:{},isCloudUpload:!1};if(e.byId[n]=i,o){let t=null!=(s=e.byGroupId[o])?s:{groupId:o,pendingUploads:[],uploads:[],oversizedFiles:[],status:l.yW.InProgress};t.uploads.push(n),t.pendingUploads.push(n),e.byGroupId[o]=t}return i}function I(e,t,r){let s=r&&e.byGroupId[r];if(s){let e=s.pendingUploads.indexOf(t);s.pendingUploads.splice(e,1),s.pendingUploads.length||s.status!==l.yW.InProgress||(s.status=l.yW.Complete)}}let A=(0,i.vy)({byGroupId:{},byId:{}},{[l.gK.DIRECTORY_UPLOAD_STATUS]:(e,t)=>(0,u.Ay)(e,e=>{!function(e,t,r){if(t){let s=e.byGroupId[t],n=s?{...s,groupId:t,status:r}:{groupId:t,pendingUploads:[],uploads:[],oversizedFiles:[],status:r};e.byGroupId[t]=n}}(e,t.meta.groupId,t.meta.status)}),[l.gK.FILE_UPLOAD_REQUEST]:(e,t)=>(0,u.Ay)(e,e=>{let r=t.payload.file.file;y(e,t.meta.uploadId,r);let s=e.byId[t.meta.uploadId.correlationId];s&&(s.status=l.yW.Queued)}),[l.gK.CLOUD_FILE_UPLOAD_REQUEST]:(e,t)=>(0,u.Ay)(e,e=>{let{file:r}=t.payload;y(e,t.meta.uploadId,r).isCloudUpload=!0}),[l.gK.INVALID_FILE_UPLOAD]:(e,t)=>{let r=(0,u.Ay)(e,e=>{let{file:r,isCloudUpload:s}=t.payload,{correlationId:n,groupId:o}=t.meta.uploadId,i=y(e,t.meta.uploadId,r);i.status=l.yW.Failed,i.error={errorType:l.oW.Invalid},s&&(i.isCloudUpload=!0),I(e,n,o)});return(0,i.Nh)(r,t)},[l.gK.FILE_UPLOAD]:(e,t)=>{let r=(0,u.Ay)(e,e=>{var r;let{progress:s,aborter:n}=t.payload,{correlationId:o}=t.meta.uploadId,i=null!=(r=e.byId[o])?r:y(e,t.meta.uploadId,{});i&&(i.status=l.yW.InProgress,i.uploadProgress.progress=s,n&&(i.uploadProgress.aborter=n))});return(0,i.r1)(r,t)},[(0,i.ok)(l.gK.FILE_UPLOAD)]:(e,t)=>{let r=(0,u.Ay)(e,e=>{var r;let{file:s}=t.payload,{correlationId:n}=t.meta.uploadId,o=e.byId[n],i=null==(r=e.byId[n])?void 0:r.uploadProgress;i&&(delete i.progress,delete i.aborter),o&&(o.status=l.yW.Complete,o.uploadedFile=s)});return(0,i.Zg)(r,t)},[l.gK.REMOVE_FILE_DETAILS]:(e,t)=>{let r=(0,u.Ay)(e,e=>{let{correlationIds:r,groupId:s}=t.payload;r.forEach(t=>{I(e,t,s)})});return(0,i.Zg)(r,t)},[(0,i.fJ)(l.gK.FILE_UPLOAD)]:(e,t)=>{let r=(0,u.Ay)(e,e=>{var r;let{correlationId:s,groupId:n}=t.meta.uploadId,o=e.byId[s],i=null==(r=e.byId[s])?void 0:r.uploadProgress;i&&(delete i.progress,delete i.aborter),o&&(o.status=l.yW.Failed,o.error=t.payload),I(e,s,n)});return(0,i.Nh)(r,t)},[E(l.gK.FILE_UPLOAD)]:(e,t)=>{let r=(0,u.Ay)(e,e=>{var r;let{correlationId:s,groupId:n}=t.meta.uploadId,o=e.byId[s],i=null==(r=e.byId[s])?void 0:r.uploadProgress;i&&(delete i.progress,delete i.aborter),o&&(o.status=l.yW.Canceled),I(e,s,n)});return(0,i.Nh)(r,t)},[l.gK.CAN_UPDATE_FILE_DETAILS]:(e,t)=>(0,u.Ay)(e,e=>{let{correlationId:r}=t.meta.uploadId,s=e.byId[r];s&&(s.uploadDetails={canUpdateFileDetails:!0})}),[l.gK.UPDATED_FILE_DETAILS]:(e,t)=>(0,u.Ay)(e,e=>{let{correlationId:r}=t.meta.uploadId,s=e.byId[r];(null==s?void 0:s.uploadDetails)&&(s.uploadDetails.canUpdateFileDetails=!1)}),[l.gK.FILE_UPLOAD_OVERSIZED]:(e,t)=>(0,u.Ay)(e,e=>{let{groupUploadId:r}=t.meta;t.payload.forEach(({request:{correlationId:t,file:s},fileSizeLimit:n})=>{y(e,{correlationId:t,groupId:r},s),function(e,t,r,s){let n=e.byId[t];n&&(n.status=l.yW.Failed,n.error={errorType:l.oW.Oversized,fileSizeLimit:s});let o=r&&e.byGroupId[r];o&&(o.oversizedFiles.push(t),I(e,t,r))}(e,t,r,n)})}),[l.gK.UPDATE_FILE]:(e,t)=>(0,u.Ay)(e,e=>{let{correlationId:r}=t.meta.uploadId,s=e.byId[r];s&&(e.byId[r]={...s,...t.payload.file})})}),h={getFileUploadById:(e,t)=>{var r;return null==(r=e.fileUpload)?void 0:r.byId[t]},getGroupStatusById:(e,t)=>{var r;return null==(r=e.fileUpload)?void 0:r.byGroupId[t]},getAllFileUploads:e=>{var t,r;return Object.entries(null!=(r=null==(t=e.fileUpload)?void 0:t.byId)?r:{}).map(([e,t])=>({correlationId:e,...t}))}};function*_(e,t,r,i){let u=yield(0,o.Lt)(h.getFileUploadById,t);if((null==u?void 0:u.status)===l.yW.Canceled)return;let{result:d,progress:c,abort:E}=(0,a.v)(e,i,["mimeType","isMedia"]);yield(0,o.yJ)(p.startFileUpload({correlationId:t,groupId:r},E));let m=(0,n.Od)(e=>{let o=c.subscribe(s=>{e(p.updateFileUploadProgress({correlationId:t,groupId:r},s))});return d.then(s=>{e(p.fileUploadSuccess({correlationId:t,groupId:r},s)),e(n.Kp)}).catch(()=>{}),d.catch(o=>{if(o.errorType===s.M5S.Aborted)e(p.fileUploadAborted({correlationId:t,groupId:r}));else{let n;o instanceof s.aDm&&(n=o.status),e(p.fileUploadFailure({correlationId:t,groupId:r},{errorType:l.oW.Api,errorCode:n}))}e(n.Kp)}),o});for(;;){let e=yield(0,o.s)(m);yield(0,o.yJ)(e)}}function*b(e){for(;;){let t=yield(0,o.s)(e),{file:r,queryParams:s}=t.payload,{correlationId:n,groupId:i}=t.meta.uploadId;yield(0,o.T1)(_,r,n,i,s)}}function*S(){let e=yield(0,o.T1)(n.Ix);for(let t=0;t<5;t++)yield(0,o.Zy)(b,e);for(;;){let t=yield(0,o.s)(l.gK.FILE_UPLOAD_REQUEST);yield(0,o.yJ)(e,t)}}},772724:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var s=r(514041),n=r(745256),o=r(939067),i=r.n(o),a=r(309546),l=r(463859),u=r(274271),d=r.n(u),c=r(802928),E=r(526660),p=r.n(E),m=r(479283);function g(e,t,r){return p()({url:r,method:"GET",headers:{"X-Blackboard-XSRF":t},cancelToken:new(p()).CancelToken(t=>{e.cancelInternal=t})})}class y{constructor(e,t){if(e.cloudStorageIntegrationAccessToken){this.progressTick=0,this.file=e;let r=(0,m.xA)(`${t.apiBasePath}/v1/cloudstorages`),s=(0,m.xA)(`${r}/cloudstorageintegration/contents/${encodeURIComponent(e.id)}/download?accessToken=${e.cloudStorageIntegrationAccessToken}&expand=mimeType,isMedia`);g(this,t.xsrfToken,s).then(e=>this.queryDownload(e,r,t.xsrfToken)).catch(e=>this.onError(e))}else{this.progressTick=0,this.file=e;let r=(0,m.xA)(`${t.apiBasePath}/v1/files?expand=mimeType,isMedia`);t.courseId&&(r=`${r}&courseId=${t.courseId}`),Number.isFinite(t.resizeImageWidth)&&(r=`${r}&resizeImageWidth=${t.resizeImageWidth}`);let s=new FormData;s.append("file",e,encodeURIComponent(e.name)),s.append("webLocation",t.webLocation||""),s.append("fileLocation",t.fileLocation||""),p()({url:r,method:"POST",headers:{"Content-Type":"image/jpeg","X-Blackboard-XSRF":t.xsrfToken},data:s,cancelToken:new(p()).CancelToken(e=>{this.cancelInternal=e}),onUploadProgress:e=>this.onProgress(e)}).then(e=>this.onSuccess(e)).catch(e=>this.onError(e))}}onSuccess(e){this.cachedResponse=e,this.successCallback&&this.successCallback(this.file,e.data)}onProgress(e,t){if(this.cachedProgress=e,this.progressCallback){if(t)return void this.progressCallback(this.file.name,Math.floor(e));e.lengthComputable&&this.progressCallback(this.file.name,Math.floor(100*e.loaded/e.total))}}onError(e){this.cachedError=e,this.errorCallback&&this.errorCallback(this.file,e)}queryDownload(e,t,r){return new Promise(s=>{"COMPLETE"===e.data.status?(this.cloudStorageIntegrationTimer&&clearTimeout(this.cloudStorageIntegrationTimer),s(this.onSuccess(e))):this.cloudStorageIntegrationTimer=setTimeout(()=>{this.onProgress(+e.data.completePercentage,!0),s(g(this,r,`${t}/tasks/${e.data.taskId}?accessToken=${this.file.cloudStorageIntegrationAccessToken}&expand=mimeType,isMedia`).then(e=>this.queryDownload(e,t,r)).catch(e=>this.onError(e)))},500)})}cancel(){delete this.errorCallback,delete this.progressCallback,delete this.successCallback,this.cachedResponse||this.cachedError||this.cancelInternal()}progress(e){return this.progressCallback=e,this.cachedProgress&&this.onProgress(this.cachedProgress),this}success(e){return this.successCallback=e,this.cachedResponse&&this.onSuccess(this.cachedResponse),this}error(e){return this.errorCallback=e,this.cachedError&&this.onError(this.cachedError),this}}var I=r(304943);class A extends s.Component{constructor(e){super(e),this.state={files:[],fileGroup:{}},this.uploadServices={},this.progressTimers={},this.failedUploads=[],this.successfulUploads=[],this.updateProgress=this.updateProgress.bind(this),this.onCancel=this.onCancel.bind(this),this.onCancelAll=this.onCancelAll.bind(this),this.onDismiss=this.onDismiss.bind(this),this.onUploadSuccess=this.onUploadSuccess.bind(this),this.onUploadError=this.onUploadError.bind(this),this.finishUploading=this.finishUploading.bind(this)}UNSAFE_componentWillMount(){let{files:e}=this.props;this.setState({files:e}),e.forEach(e=>{let t=!1;this.uploadServices[e.name]=new y(e,{apiBasePath:this.props.apiBasePath,xsrfToken:this.props.xsrfToken,webLocation:this.props.webLocation,fileLocation:this.props.fileLocation,resizeImageWidth:this.props.resizeImageWidth,courseId:this.props.courseId}).progress((r,s)=>{s>=100?(clearTimeout(this.progressTimers[e.name]),this.updateProgress(r,100)):t||(t=!0,this.progressTimers[e.name]=setTimeout(()=>{let e=!!this.state.fileGroup[r]&&this.state.fileGroup[r].uploadComplete;t=!1,this.updateProgress(r,e?100:s)},5))}).success(this.onUploadSuccess).error(this.onUploadError)})}onCancel(e){let t=this.state.files;this.uploadServices[e].cancel(),t=t.filter(t=>t.name!==e),this.failedUploads=this.failedUploads.filter(t=>t.name!==e),this.successfulUploads=this.successfulUploads.filter(t=>t.name!==e),t.length>0?this.setState({files:t},()=>{this.finishUploading()}):this.onDismiss()}onCancelAll(){this.props.files.forEach(e=>{this.uploadServices[e.name].cancel()}),this.onDismiss()}onDismiss(){this.props.destroy()}onUploadSuccess(e,t){this.successfulUploads.push(e),this.props.onUploadSuccess&&this.props.onUploadSuccess(t),this.setState(r=>({fileGroup:{...r.fileGroup,[e.name]:{...r.fileGroup[e.name]||{},uploadComplete:!0,successResponse:t}}}),()=>{this.finishUploading()})}onUploadError(e,t){var r;let{localize:s,onUploadError:n}=this.props;this.uploadServices[e.name].cancel(),this.failedUploads.push(e),clearTimeout(this.progressTimers[e.name]);let o=(null==(r=null==t?void 0:t.response)?void 0:r.status)===422;n&&n(t),this.setState(t=>({fileGroup:{...t.fileGroup,[e.name]:{...t.fileGroup[e.name]||{},errorResponse:s.translate(`bbmlEditor.dialogs.insertLocalFile.${o?"securityThreat":"networkError"}`),progress:0,uploadComplete:!1}}}),()=>{this.finishUploading()})}updateProgress(e,t){let r=this.state.fileGroup;(!this.state.fileGroup[e]||void 0===this.state.fileGroup[e].progress||t>this.state.fileGroup[e].progress)&&(r[e]={...this.state.fileGroup[e]||{},progress:t},this.setState({fileGroup:r}))}finishUploading(){if(this.state.files.length-this.failedUploads.length===this.successfulUploads.length){let{fileGroup:e}=this.state,t=[];Object.keys(e).forEach(r=>{e[r].successResponse&&t.push(e[r].successResponse)}),0!==t.length&&setTimeout(()=>{this.props.destroy(),this.props.createChange(t)},350)}}render(){let{fileGroup:e}=this.state,{localize:t,analyticsEventAugmentor:r}=this.props,n=t.translate("bbmlEditor.buttons.cancel"),o="cloudStorageIntegration"===this.props.fileSource?t.translate("bbmlEditor.dialogs.insertCloudStorageIntegrationFile.titleInsert"):t.translate("bbmlEditor.dialogs.insertLocalFile.titleInsert");return s.createElement(d(),{hidden:!1,onDismiss:this.onDismiss,dialogContentProps:{title:o,showCloseButton:!1,type:u.DialogType.fullHeaderFooter},modalProps:{containerClassName:"modal-insert-file"},firstFocusableSelector:"ms-Dialog-title",analyticsId:"cloudStorageIntegration"===this.props.fileSource?"editor.dialogs.insertCloudStorageIntegrationFile.titleInsert":"editor.dialogs.insertLocalFile.titleInsert"},s.createElement("div",{className:"large"===this.props.variant?"dialog-inner-content-large":void 0},this.state.files.map(n=>{let o=e[n.name]?e[n.name].progress:0,i=!!e[n.name]&&e[n.name].uploadComplete,l=o>=100&&!i,u=43*Math.PI,d=o>0?u-u/100*o:u,E=(0,a.A)({"loading-circle-svg":!0,processing:l}),p="";return this.state.fileGroup[n.name]&&(p=this.state.fileGroup[n.name].errorResponse||""),s.createElement("div",{key:n.name,className:"file-group"},s.createElement("div",{className:"file-progress-container"},i?s.createElement("div",{className:"indicator complete"}):s.createElement("div",{className:"indicator"},s.createElement("svg",{className:E,height:49,width:49,viewBox:"0 0 46 46"},s.createElement("circle",{className:"back",cx:23,cy:23,r:21.5,fill:"none",strokeWidth:3,strokeDasharray:u,strokeDashoffset:d}),s.createElement("circle",{className:"bar",cx:23,cy:23,r:21.5,fill:"none",strokeWidth:3,strokeDasharray:l?6:u,strokeDashoffset:d})),o.toString(),"%"),s.createElement("div",{className:"file-name no-longtext no-select"},n.name),s.createElement("button",{type:"button","aria-label":t.translate("bbmlEditor.dialogs.insertLocalFile.cancelUploadButton"),className:"cancel-upload",onClick:r(c.AnalyticsEventTypes.CLICK_EVENT,()=>this.onCancel(n.name),"editor.dialogs.insertLocalFile.cancelUploadButton"),"data-analytics-id":"editor.dialogs.insertLocalFile.cancelUploadButton"},"X")),s.createElement("div",{className:"upload-error-message",role:"alert","aria-live":"assertive"},p))})),s.createElement("br",null),s.createElement(u.DialogFooter,null,s.createElement(l.wJ,{onClick:this.onCancelAll,analyticsId:"editor.modalInsertFile.cancel"},n)))}}A.propTypes={apiBasePath:i().string.isRequired,createChange:i().func.isRequired,destroy:i().func.isRequired,files:i().arrayOf(i().shape({lastModified:i().number,name:i().string,size:i().number,type:i().string}).isRequired).isRequired,fileLocation:i().string,fileSource:i().oneOf(["local","cloudStorageIntegration"]),onUploadError:i().func,onUploadSuccess:i().func,webLocation:i().string,xsrfToken:i().string.isRequired,variant:i().string,...I.A},A.defaultProps={fileLocation:"",fileSource:"local",onUploadError:null,onUploadSuccess:null,webLocation:""};let h=(0,n.E)((0,c.withAnalytics)(A))},774685:(e,t,r)=>{"use strict";r.d(t,{a:()=>o});var s=r(188240),n=r(431166);let o={buildSensor:e=>{new n.A(e).attachListeners()},activator:(0,s.l)("onPointerDown",e=>e.isPrimary&&0===e.button)}},775877:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});let s={CONDITIONAL_RELEASE_PEEK_PANEL:"conditional-release",BULK_EDIT_CONTENT_PEEK_PANEL:"bulk-edit-content",CONTENT_MANAGE:"content-manage",CONTENT_MANAGE_EDIT:"content-manage.edit",CONTENT_PICKER:"content-picker",FILE_MANAGEMENT_PANEL:"file-management",CREATE_CONTENT_PEEK_PANEL:"content-manage.create",CREATE_LEARNING_MODULE_PEEK_PANEL:"content-manage.create.learningModule",COPY_CONTENT_PEEK_PANEL:"content-manage.copy",EDIT_LEARNING_MODULE_PEEK_PANEL:"content-manage.edit.learningModule",CREATE_DOCUMENT:"content-manage.create.document",DOCUMENT:"content-manage.edit.document",DOCUMENT_SETTINGS:"document-settings",CREATE_CLOUD_DOCUMENT_MODULE_PEEK_PANEL:"content-manage.create.cloud-document",VIDEO:"content-manage.video",EDIT_VIDEO:"content-manage.edit.video",VIDEO_SETTINGS:"video-settings",CREATE_FOLDER:"content-manage.create.folder",EDIT_FOLDER:"content-manage.edit.folder",COPY_REPORT_PEEK_PANEL:"content-manage.copy-report",IMPORT_CONTENT_PEEK_PANEL:"content-manage.import",IMPORT_REPORT_PEEK_PANEL:"content-manage.import-report",COPY_DETAILS_PEEK_PANEL:"content-manage.copy-details",GENERIC_STUDENT_PROGRES_PEEK_PANEL:"content-manage.progress",CONTENT_SEARCH:"content-search",GENERATE_STRUCTURE:"content-manage.generate-structure",CONTENT_NAVIGATOR_TRANSITION_PEEK:"content-navigator-transition-peek",CONTENT_NAVIGATOR_TRANSITION_FULL:"content-navigator-transition-full",CONTENT_NAVIGATOR_PLACEHOLDER:"content-navigator-placeholder",CONTENT_GOAL_ALIGNMENT_FOR_STUDENT:"content-goal-alignment-for-student",LEARNING_OBJECT_REPOSITORY:"learning-object-repository"}},776601:(e,t,r)=>{"use strict";r.d(t,{M0:()=>a,PY:()=>i,rM:()=>o});var s=r(397965);let n="/v1/courses/%courseId%/preferences/%key%";function o(e){return(0,s.Jt)((0,s.c$)(n,e))}function i(e,t){let r=(0,s.c$)(n,{courseId:t.courseId,key:e.key});return(0,s.yJ)(r,e)}function a(e){return(0,s.TF)((0,s.c$)(n,e))}},782785:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(514041);let n=({contentId:e,fileId:t,filePreviewUrl:r})=>s.createElement("a",{"data-ally-content-id":e,"data-ally-file-eid":t,"data-ally-file-preview-url":r,style:{display:"none"}})},787672:(e,t,r)=>{"use strict";r.d(t,{A3:()=>o,LY:()=>s,Qm:()=>a,zw:()=>i});var s,n=r(56684);!function(e){e.Course="course",e.Organization="org",e.Lor="lor"}(s||(s={}));class o extends n.pT{constructor(){super("/v1/courses")}}n.w_;class i extends n.mj{constructor(e){super("/v1/courses/%courseId%",e)}}class a extends n.QR{constructor(e){super("/v1/courses/%courseId%",e)}}n.FK},788778:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(167864);s.A.createChange=(e=!0)=>({format:{underline:e}});let n=s.A},793741:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>y,NC:()=>g,mS:()=>p});var s=r(939067),n=r.n(s),o=r(663445),i=r(410900),a=r(914059),l=r(433167),u=r(889749),d=r(538642),c=r(255266);let E="insertLocalFile";function p(e,t,r,s,n){(t=t||d.A)(o.A,{file:e,...r,...s,href:n},s.localeProps)}function m(e,t,r,s){var n,o;let a=[];e.length>1?(e.forEach(({href:e,bbfile:t})=>{a=a.concat((0,i.A)(e,t,!0))}),s.applyChange(a),null==(n=null==r?void 0:r.onNewAttachmentSavePressed)||n.call(r),null==(o=s.onModalOpen)||o.call(s,!1)):p(e[0].bbfile,t,r,s,e[0].href)}let g=n().shape({apiBasePath:n().string,xsrfToken:n().string,courseId:n().string,fileLocation:n().string,webLocation:n().string,onUploadSuccess:n().func,supportsInlineDocumentRender:n().bool,hideFileDisplayOptions:n().bool}),y=e=>[(0,a.Ay)(e),{pluginId:E,buttonConfig:function(e){return{id:e&&e.buttonId||E,cssClass:E,iconName:"attachment",iconComponent:c.o,isDialog:!0,isActive:()=>!1,onClick:async({showModal:t,onModalOpen:r,...s})=>{null==r||r(!0),m(await (0,u.Ay)({...e,...s,multiple:!0,showModal:t}),t,e,{...s,onModalOpen:r})}}}(e),fileDropHandler:function(e){return(t,r,s,n,o)=>{null==o||o(!0),(0,u.Ay)({applyChange:r,multiple:!0,...e,showModal:s},()=>Promise.resolve(t)).then(t=>{m(t,s,e,{applyChange:r,onModalOpen:o})})}}(e)},(0,l.A)(e)]},795120:(e,t,r)=>{"use strict";r.d(t,{t:()=>n,z:()=>o});let s=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(.\d{3,9})?Z$/;function n(e){return JSON.parse(e,(e,t)=>"string"==typeof t&&s.test(t)?new Date(t):t)}async function o(e){return n(await e.text())}},796578:(e,t,r)=>{"use strict";r(802928)},796935:(e,t,r)=>{"use strict";r.d(t,{A:()=>s,m:()=>n});class s extends Error{}function n(e){let t=new AbortController,r=new s("Promise has been cancelled"),n=new Promise((s,n)=>{e.then((...e)=>{t.signal.aborted?n(r):s(...e)}).catch(n),t.signal.addEventListener("abort",()=>n(r))});return n.cancel=()=>{"function"==typeof e.cancel&&e.cancel(),t.abort(r)},n.signal=t.signal,n.abortController=t,n}},799079:(e,t,r)=>{"use strict";r.d(t,{NY:()=>o,RH:()=>n,gK:()=>s});let s={COURSE_ANNOUNCEMENTS_LOAD:"course-announcements.load",COURSE_ANNOUNCEMENTS_INVALIDATE:"course-announcements.invalidate",GET_COURSE_ANNOUNCEMENTS_COUNTS:"get.course-announcements.counts",UPDATE_COURSE_ANNOUNCEMENTS_READ_STATUS:"update.course-announcements.read.status",COURSE_ANNOUNCEMENTS_USERS_STATUS_LOAD:"course-announcements.users.status.load"},n=e=>Object.fromEntries(e.map(e=>[`${e.announcementId}_${e.courseMembershipId}`,(({courseMembership:e,...t})=>t)(e)])),o=({values:e,...t})=>t},800996:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a,z:()=>i});var s=r(608719),n=r(825271),o=r(956284);async function i(e){var t;let{results:r,paging:i}=await (0,s.Pre)(n.dZ,e.courseId,null!=(t=e.queryParams)?t:{},e.paging);return{logs:(0,o.jD)(r,(e,t)=>(t&&(e[t.logId]=t),e)),logIds:r.map(e=>e.logId),paging:i}}function a(e,t){return(0,s.Jkd)(n.dZ,e,t)}},807727:(e,t,r)=>{"use strict";r.d(t,{Ed:()=>u,c9:()=>a,l$:()=>l});var s=r(397965),n=r(300474);let o="/public/v1/pronouns",i=`${o}/%pronounId%`;async function a(e){var t;let r=e&&"nextPage"in e?await (0,s.Jt)(e.nextPage):await (0,s.Jt)((0,s.c$)(o,{offset:null==e?void 0:e.offset,limit:null==e?void 0:e.limit}));if(null==(t=r.paging)?void 0:t.nextPage){let e=r.paging.nextPage.split("/"),t=e.findIndex(e=>"public"===e),s="";e.splice(t).forEach(e=>s=s+"/"+e),r.paging.nextPage=s}return r}async function l(e){try{return await (0,s.bE)(o,e)}catch(e){throw(0,n.ew)(e)}}async function u(e){return(0,s.TF)((0,s.c$)(i,{pronounId:e}))}},808954:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={GRADEBOOK_ATTEMPTS_LOAD:"gradebook-attempts.load",GRADEBOOK_ATTEMPT_LOAD:"gradebook-attempt.load",GRADEBOOK_ATTEMPT_CREATE:"gradebook-attempt.create",GRADEBOOK_ATTEMPT_UPDATE:"gradebook-attempt.update",GRADEBOOK_ATTEMPT_DELETE:"gradebook-attempt.delete",GRADEBOOK_ATTEMPT_LOAD_BY_GRADE_ID_AND_QUERY:"gradebook-attempt.load.by.grade.id.by.query",GRADEBOOK_ATTEMPT_LOAD_BY_GRADE_IDS_IN_BATCH:"gradebook-attempt.load.by.grade.ids.in.batch",GRADEBOOK_CLEAR_STUDENT_SUBMISSION_WITH_VIEW_URL_EXPANDED:"gradebook-attempt.clear-student-submission-with-view-url-expanded",GRADEBOOK_ATTEMPT_INVALIDATE_BY_ID:"gradebook-attempt.invalidate.byAttemptId",GRADEBOOK_ATTEMPTS_INVALIDATE_BY_COLUMN_ID:"gradebook-attempts.invalidate.byColumnId",GRADEBOOK_ATTEMPTS_LIST_INVALIDATE_BY_COLUMN_ID:"gradebook-attempts.list.invalidate.byColumnId"}},810978:(e,t,r)=>{"use strict";r.d(t,{FZ:()=>p,Ff:()=>m,Lt:()=>c,o1:()=>E});var s=r(968554),n=r(157701),o=r(905898),i=r(771199),a=r(416488),l=r(956284),u=r(750609);let d=Object.freeze({}),c={getFileConversionSettings:(e,t)=>{var r;return null!=(r=e.fileConversion.settingsByCourseId[t])?r:d},getFileConversionById:(e,t)=>e.fileConversion.byId[t],getFileConversionStatusById:(e,t)=>{var r,s,o,u;let{source:d,...E}=c.getFileConversionById(e,t),p="uploadId"in d?i.Lt.getFileUploadById(e,d.uploadId):void 0,m=null==p?void 0:p.filename,g="fileName"in d?d.fileName:void 0,y=null!=(r=null!=m?m:g)?r:"";return"body"in E?{status:"complete",fileName:y,body:E.body}:"error"in E?{status:"failed",fileName:y,conversionError:E.error}:l.a5.isUploadingFile(null==p?void 0:p.status)?{status:"uploading",fileName:y,percent:null!=(o=l.a5.calculateUploadPercentage(null==(s=p.uploadProgress)?void 0:s.progress))?o:0}:(null==p?void 0:p.status)===a.yW.Canceled?{status:"failed",fileName:y,conversionError:{errorType:n.j.Aborted}}:(null==p?void 0:p.status)===a.yW.Failed?{status:"failed",fileName:y,uploadError:null!=(u=p.error)?u:{errorType:a.oW.Api}}:{status:"converting",fileName:y}}},E={loadConversionSettings:(e,t)=>(0,s.Vy)(n.g.LOAD_CONVERSION_SETTINGS,async()=>{try{let r=await (0,u.xRH)(e,t);return{payload:{courseId:e,contentId:t,settings:r}}}catch(r){throw new s.GS(r,{payload:{courseId:e,contentId:t}})}},{condition:({payload:{courseId:e}},{getState:t})=>{let{isLoading:r,isFailed:s,settings:n}=c.getFileConversionSettings(t(),e);return!r&&!s&&!n},data:{payload:{courseId:e,contentId:t}}}),abortConversion:e=>({type:n.g.ABORT_CONVERSION,meta:{conversionId:e}}),startConversion:(e,t,r,s)=>({type:n.g.START_CONVERSION,meta:{conversionId:r},payload:{courseId:e,contentId:t,source:s}})},p={conversionSuccessful:(e,t)=>({type:(0,s.ok)(n.g.START_CONVERSION),meta:{conversionId:e},payload:{body:t}}),conversionFailed:(e,t)=>({type:(0,s.fJ)(n.g.START_CONVERSION),meta:{conversionId:e},payload:{error:t}})},m=(0,s.vy)({byId:{},settingsByCourseId:{}},{[n.g.LOAD_CONVERSION_SETTINGS]:(e,t)=>(0,o.Ay)(e,e=>{var r,s,n;(null!=(r=(s=e.settingsByCourseId)[n=t.payload.courseId])?r:s[n]={...d}).isLoading=!0}),[(0,s.ok)(n.g.LOAD_CONVERSION_SETTINGS)]:(e,t)=>(0,o.Ay)(e,e=>{let r=e.settingsByCourseId[t.payload.courseId];r&&(r.isLoading=!1,r.isFailed=!1,r.settings=t.payload.settings)}),[(0,s.fJ)(n.g.LOAD_CONVERSION_SETTINGS)]:(e,t)=>(0,o.Ay)(e,e=>{let r=e.settingsByCourseId[t.payload.courseId];r&&(r.isLoading=!1,r.isFailed=!0)}),[n.g.START_CONVERSION]:(e,t)=>{let{meta:{conversionId:r},payload:{source:s}}=t;return(0,o.Ay)(e,e=>{e.byId[r]={source:s}})},[(0,s.ok)(n.g.START_CONVERSION)]:(e,t)=>{let{meta:{conversionId:r},payload:{body:s}}=t;return(0,o.Ay)(e,e=>{e.byId[r]={source:e.byId[r].source,body:s}})},[(0,s.fJ)(n.g.START_CONVERSION)]:(e,t)=>{let{meta:{conversionId:r},payload:{error:s}}=t;return(0,o.Ay)(e,e=>{e.byId[r]={source:e.byId[r].source,error:s}})}})},817514:(e,t,r)=>{"use strict";r(514041),r(216693),r(910685),r(601478)},818339:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={COMPLETED_DELEGATED_ATTEMPT_GRADE_BY_GRADER_LOAD:"completed.delegatedAttemptGradeByGraderLoad",COMPLETED_DELEGATED_ATTEMPT_GRADE_ON_ATTEMPT_LOAD:"completed.delegatedAttemptGradeOnAttemptLoad",PATCH_DELEGATED_ATTEMPT_GRADE:"patch.delegatedAttemptGrade",INSTRUCTOR_SUBMISSION_LIST_ATTEMPT_DELETED_EVENT:"instructor-submission-list-attempt-deleted-event",TOGGLE_VISIBILITY_DELEGATED_ATTEMPT_GRADE:"toggle.visibility.delegatedAttemptGrade"}},820656:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={QUESTION_ATTEMPT_PERSIST:"question.attempt.persist",QUESTION_ATTEMPT_SET:"question.attempt.set",QUESTION_ATTEMPTS_LOAD:"question.attempts.load",QUESTION_ATTEMPTS_SET:"question.attempts.set",QUESTION_ATTEMPTS_PERSIST:"question.attempts.persist",QUESTION_ATTEMPTS_VIEWED:"question.attempts.viewed"}},820775:(e,t,r)=>{"use strict";r.d(t,{k:()=>p});var s=r(514041),n=r(951777),o=r(877973),i=r(251079),a=r(865004),l=r(621576),u=r(480243),d=r(470629),c=r(901745);let E=(0,o.n9)({altTextInput:{marginTop:"16px"},checkbox:d.x.checkboxMarginFix,isDecorativeHelpBlock:{marginInlineStart:"10px"},isDecorativeHelp:{marginBlockStart:"0px"}}),p=(0,s.memo)(({analyticsId:e,canEdit:t,canMarkAsDecorative:r,isDecorative:o,onIsDecorativeChanged:d,altText:p,maxAltTextLength:m,onAltTextChanged:g})=>{let y=(0,i.Bi)(),I=E(),A=(0,c.i)(),h=(0,a.W)(),[_,b]=(0,s.useState)(p);return(0,s.useEffect)(()=>{b(p)},[p]),s.createElement(s.Fragment,null,s.createElement(n.yl,{variant:"h2"},h("cr.components.fileAccessibilitySettings.title")),s.createElement(n.yl,{variant:"caption"},h("cr.components.fileAccessibilitySettings.description",{helpLink:s.createElement(n.T,{href:h("cr.components.fileAccessibilitySettings.help.link"),analyticsId:`${e}.ax.help.link`,target:"_blank"},h("cr.components.fileAccessibilitySettings.help.label"))})),s.createElement(n.oJ,{id:`${y}-alt-text`,analyticsId:`${e}.altText.input.text`,label:h("cr.components.fileAccessibilitySettings.altText.label"),placeholder:h("cr.components.fileAccessibilitySettings.altText.placeholder"),multiline:!0,minRows:3,fullWidth:!0,disabled:o||!t,value:_,className:I.altTextInput,InputLabelProps:{htmlFor:`${y}-alt-text`},inputProps:{maxLength:m,"aria-describedby":`${y}-chars-remaining`,className:A.multilineTextFieldBorderFix},onChange:e=>{let t=e.target.value;b(t),g(t)}}),!o&&s.createElement(l.Q,{id:`${y}-chars-remaining`,charactersLength:p.length,maxCharactersLength:m,charactersRemainingThreshold:10}),r&&s.createElement(s.Fragment,null,s.createElement(n.wB,{analyticsId:`${e}.markDecorative.input.checkboxLabel`,className:I.checkbox,label:h("cr.components.fileAccessibilitySettings.markAsDecorative.label"),disabled:!t,control:s.createElement(n.Yc,{analyticsId:`${e}.markDecorative.input.checkbox`,checked:o,onChange:e=>d(e.target.checked),inputProps:{"aria-describedby":o?`${y}-decorative`:void 0}})}),o&&s.createElement(u.j,{className:I.isDecorativeHelpBlock},s.createElement(n.qn,{id:`${y}-decorative`,analyticsId:`${e}.decorative.label`,className:I.isDecorativeHelp},h("cr.components.fileAccessibilitySettings.markAsDecorative.help")))))});p.displayName="FileInputAccessibilitySettings"},824033:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var s=r(397965);function n(e){return(0,s.Jt)((0,s.c$)("/v1/courses/%courseId%/entitlements",{courseId:e})).then(t=>({entitlements:t.results,courseId:e}))}},824551:(e,t,r)=>{"use strict";r(542633);var s=r(56684);s.w_,s.w_},825271:(e,t,r)=>{"use strict";r.d(t,{$W:()=>l,dZ:()=>u,jK:()=>a,vG:()=>d});var s=r(608719);let n={apiBasePath:"",xsrf:"",partnerCloudBasePath:""},o={userName:"",xsrfToken:""},i={fetchFoundationsToken:void 0,fetchFoundationsContext:void 0,cookies:void 0,foundationsToken:void 0,foundationsTokenContext:void 0,inStudentPreviewMode:void 0};function a(e){Object.assign(n,e),Object.assign(o,{xsrfToken:e.xsrf,cookies:e.cookies}),Object.assign(i,e.foundationsApiSession),function(e){var t,r,n;let o;o=null!=(r=null==(t=null==globalThis?void 0:globalThis.location)?void 0:t.href)?r:e.apiBasePath;let i=/^[^\/]*\/\/[^\/]+/.exec(o);o=null!=(n=null==i?void 0:i[0])?n:o,s.tUL.setBaseUrl(o)}(e)}let l=n,u=o,d=i},825276:(e,t,r)=>{"use strict";r.d(t,{o1:()=>l,Ff:()=>a,Lt:()=>u});let s={LOAD_DIRECT_SUBMIT_RESULTS:"load.direct.submit.results",DELETE_DIRECT_SUBMIT_PAPERS:"delete.direct.submit.papers",INVALIDATE_DATA_DIRECT_SUBMIT:"invalidate.data.direct.submit"};var n=r(968554),o=r(905898),i=r(750609);let a=(0,n.vy)({papersData:{byCourseId:{}}},{[s.LOAD_DIRECT_SUBMIT_RESULTS]:(e,t)=>(0,o.Ay)(e,e=>{let{courseId:r}=t;e.papersData.byCourseId[r]={isLoading:!0,isValid:!1}}),[(0,n.ok)(s.LOAD_DIRECT_SUBMIT_RESULTS)]:(e,t)=>(0,o.Ay)(e,e=>{let{courseId:r,papers:s}=t;r&&(e.papersData.byCourseId[r]={papers:s,isLoading:!1,isValid:!0})}),[(0,n.ok)(s.DELETE_DIRECT_SUBMIT_PAPERS)]:(e,t)=>(0,o.Ay)(e,e=>{let{courseId:r,paperIds:s}=t;if(!s||!r)return;let n=e.papersData.byCourseId[r].papers;n&&(e.papersData.byCourseId[r].papers=n.filter(e=>!s.includes(e.id)),e.papersData.byCourseId[r].isValid=!0,e.papersData.byCourseId[r].isLoading=!1)}),[(0,n.ok)(s.INVALIDATE_DATA_DIRECT_SUBMIT)]:function(e,t){return(0,o.Ay)(e,e=>{e.papersData.byCourseId[t].isValid=!1})}}),l={loadDirectSubmitResults:e=>(0,n.Vy)(s.LOAD_DIRECT_SUBMIT_RESULTS,async()=>{let t=await (0,i.bXY)(e);if(!t)throw Error("Failed to fetch direct submit papers: API returned null.");return{courseId:e.courseId,papers:t.papers}},{}),deleteDirectSubmitPapers:(e,t)=>(0,n.Vy)(s.DELETE_DIRECT_SUBMIT_PAPERS,async()=>(await (0,i.wfZ)(e,t),{courseId:e.courseId,paperIds:t.paperIds}),{}),invalidateData:()=>(0,n.rc)((0,n.ok)(s.INVALIDATE_DATA_DIRECT_SUBMIT))},u={loadDirectSubmitResultsByCourseId:(e,t)=>e.directSubmitResults.papersData.byCourseId[t]}},825383:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(877973);let n=(0,s.n9)(e=>(0,s.rU)({button:{minWidth:"auto",".panel-header &":{padding:e.spacing(1,2)}},startIconCollapsed:{margin:0}}))},827618:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});class s extends Error{constructor(e){let t;e instanceof AbortSignal&&"string"==typeof e.reason&&(t=e.reason),"string"==typeof e&&(t=e),super(t),this.name="AbortError"}}},827828:(e,t,r)=>{"use strict";r.d(t,{Jf:()=>p,Oz:()=>c,Qk:()=>g,ac:()=>u,nR:()=>E,ns:()=>d,zj:()=>m});var s=r(339279),n=r(825271),o=r(647059),i=r(853400),a=r(289257),l=r(737234);let u=(0,i.Y)(s.We,n.vG),d=(0,i.Y)(s.j6,n.vG),c=(0,i.Y)(s.Af,n.vG),E=(0,i.Y)(s.$t,n.vG),p=async e=>{let{courseFoundationsId:t,status:r,triggerType:a,paging:l}=e,{results:u}=await (0,i.Y)(s.Hk,n.vG)(t,r,a,l);return{automationsById:(0,o.jD)(u),automationIds:u.map(e=>e.id)}},m=(0,i.Y)(s.VU,n.vG),g=async e=>{let{courseFoundationsId:t,automationId:r,triggerType:u,actionType:d,status:c,startDate:E,endDate:p,paging:m}=e,{results:g}=await (0,i.Y)(s.kL,n.vG)(t,r,u,d,c,E?(0,l.A)(E).toISOString():void 0,p?(0,a.A)(p).toISOString():void 0,m);return{activityLogsById:(0,o.jD)(g),activityLogIds:g.map(e=>e.id)}}},828601:(e,t,r)=>{var s={"./ar-AE/_combined.json":[517130,97087],"./ar-SA/_combined.json":[782932,84533],"./ar/_combined.json":[633871,53184],"./cs-CZ/_combined.json":[488282,16123],"./cs/_combined.json":[485210,40183],"./cy-GB/_combined.json":[849012,15033],"./cy/_combined.json":[890588,24957],"./da-DK/_combined.json":[444317,52890],"./da/_combined.json":[372099,42072],"./de-DE/_combined.json":[293599,77096],"./de/_combined.json":[36743,61084],"./en-AU/_combined.json":[287706,60471],"./en-GB/_combined.json":[536965,81770],"./en-US/_combined.json":[723580,37093],"./en/_combined.json":[945039,52072],"./es-ES/_combined.json":[523465,83066],"./es/_combined.json":[534316,34429],"./fr-CA/_combined.json":[315269,91018],"./fr-FR/_combined.json":[682141,56374],"./fr/_combined.json":[84116,53961],"./he-IL/_combined.json":[866973,20990],"./he/_combined.json":[864163,42776],"./it-IT/_combined.json":[146287,55872],"./it/_combined.json":[784793,96078],"./ja-JP/_combined.json":[605572,31821],"./ja/_combined.json":[989269,33574],"./ko-KR/_combined.json":[544318,3991],"./ko/_combined.json":[162142,10627],"./ms/_combined.json":[711140,80949],"./nb-NO/_combined.json":[772410,32883],"./nb/_combined.json":[407324,60497],"./nl-NL/_combined.json":[463285,15870],"./nl/_combined.json":[99646,18527],"./nn-NO/_combined.json":[232870,66335],"./nn/_combined.json":[398328,41485],"./pl-PL/_combined.json":[840329,85482],"./pl/_combined.json":[501004,70529],"./pt-BR/_combined.json":[852969,92458],"./pt-PT/_combined.json":[696793,56890],"./pt/_combined.json":[60596,8553],"./ru-RU/_combined.json":[308803,75396],"./ru/_combined.json":[176825,15690],"./sv-SE/_combined.json":[620454,22659],"./sv/_combined.json":[558677,38042],"./th-TH/_combined.json":[77865,14418],"./th/_combined.json":[837428,8905],"./tr-TR/_combined.json":[619881,14706],"./tr/_combined.json":[700146,12691],"./zh-Hans-CN/_combined.json":[108357,17574],"./zh-Hans/_combined.json":[999079,30796],"./zh-Hant-TW/_combined.json":[528166,97967],"./zh-Hant/_combined.json":[636946,17987],"./zh/_combined.json":[756102,56007]};function n(e){if(!r.o(s,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=s[e],n=t[0];return r.e(t[1]).then(()=>r.t(n,17))}n.keys=()=>Object.keys(s),n.id=828601,e.exports=n},828851:(e,t,r)=>{"use strict";r.d(t,{i:()=>s});let s={VIEW:"course-group",VIEW_GROUP_ENROLL:"content-group-enroll",IMPORT_GROUP_SET:"import-group-set",EXPORT_GROUP_SET:"export-group-set",IMPORT_GROUP_MEMBERS:"import-groups-members",GROUP_MEMBERS_LIST:"group-members-list",GROUP_SPACE:"group-space",GROUP_SET_DETAIL:"group-set-detail",GROUP_SET_LIST:"group-set-list",COURSE_GROUP_ENROLL:"course-group-enroll",GROUP_MANAGEMENT_SETTINGS:"group-management-settings"}},829684:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});let s={ASSESSMENT:"assessment",ASSESSMENT_OVERVIEW:"assessment.overview",ASSESSMENT_DETAILS:"assessment-details",ASSESSMENT_OPEN:"assessment.open",ASSESSMENT_EXTERNAL_OVERVIEW:"assessment.external-overview",ASSESSMENT_FLEXIBLE_ATTEMPT_GRADING:"flexible-attempt-grading",ASSESSMENT_PEER_GRADING:"peer-grading",ASSESSMENT_PEER_GRADING_SUBMISSION_FEEDBACK_TAB:"peer-grading.assessment-submission-feedback-tab",ASSESSMENT_SETTINGS:"assessment-settings",ASSESSMENT_SETTINGS_DELEGATED_GRADERS:"delegated-graders",ASSESSMENT_SETTINGS_DISTRIBUTED_GRADERS:"distributed-graders",ASSESSMENT_SETTINGS_RUBRIC_SETTINGS:"assessment-settings.peek.rubric.mode",ASSESSMENT_ATTEMPT:"assessment.overview.attempt",ASSESSMENT_ATTEMPT_REVIEW:"assessment.overview.attempt.review",ASSESSMENT_ATTEMPT_REVIEW_FEEDBACK_TAB:"assessment.overview.attempt.review.assessment-submission-feedback-tab",ASSESSMENT_ATTEMPT_REVIEW_RUBRICS_TAB:"assessment.overview.attempt.review.inline-rubric",ASSESSMENT_ATTEMPT_REVIEW_ORIGINALITY_TAB:"assessment.overview.attempt.review.originality-tab",ASSESSMENT_ATTEMPT_IMS_PROCTORING:"assessment.ims-proctoring",ASSESSMENT_ATTEMPT_RESPONDUS_REQUIREMENT:"assessment.respondus-requirement",ASSESSMENT_MULTIPLE_ATTEMPTS_TAB:"assessment.overview.multiple-attempt",ASSESSMENT_AUTO_GENERATE:"auto-generate-assessment",ASSESSMENT_AUTO_GENERATE_QUESTION:"auto-generate-question",ASSESSMENT_OPEN_ATTEMPT_LOG:"open-attempt-log",ASSESSMENT_PRINT_CONTENTS:"assessment-print",ASSESSMENT_STUDENT_SUBMISSION_VIEW:"student-submission-view",ASSESSMENT_AUTO_GENERATE_CONVERSATION:"auto-generate-conversation"}},830414:e=>{e.exports='<svg width="51" height="51" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M17.429 13c-.226 0-.452.053-.66.163A1.448 1.448 0 0 0 16 14.444v10.112c0 .538.296 1.032.769 1.28a1.418 1.418 0 0 0 1.48-.097l7.142-5.055a1.454 1.454 0 0 0-.001-2.368l-7.143-5.056a1.41 1.41 0 0 0-.818-.26Z" id="a"/><mask id="b" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="10" height="13" fill="#fff"><use xlink:href="#a"/></mask></defs><g transform="translate(6 6)" fill="none" fill-rule="evenodd"><path d="M37.143 39H2.857C1.286 39 0 37.7 0 36.111V2.89C0 1.3 1.286 0 2.857 0h34.286C38.714 0 40 1.3 40 2.889V36.11C40 37.7 38.714 39 37.143 39Z" fill="#FFF"/><path d="M7 39H2.8C1.26 39 0 37.7 0 36.111V2.89C0 1.3 1.26 0 2.8 0H7v39Zm26 0h4.2c1.54 0 2.8-1.3 2.8-2.889V2.89C40 1.3 38.74 0 37.2 0H33v39Z" fill="#CEE0F3"/><path d="M6 1h1v37H6V1Zm27 0h1v37h-1V1Zm4.538 0C38.342 1 39 1.666 39 2.48v34.04c0 .814-.658 1.48-1.462 1.48H2.462A1.475 1.475 0 0 1 1 36.52V2.48C1 1.666 1.658 1 2.462 1h35.076ZM2.858 0C1.285 0 0 1.3 0 2.889V36.11C0 37.7 1.286 39 2.857 39h34.286C38.714 39 40 37.7 40 36.111V2.89C40 1.3 38.714 0 37.143 0H2.857Z" fill="#777677"/><use stroke="#777677" mask="url(#b)" stroke-width="2" fill="#CEE0F3" xlink:href="#a"/><path fill="#777677" d="M1 19h6v1H1zM34 19h6v1h-6zM1 31h6v1H1zM34 31h6v1h-6zM1 25h6v1H1zM34 25h6v1h-6zM1 13h6v1H1zM34 13h6v1h-6zM1 7h6v1H1zM34 7h6v1h-6z"/></g></svg>'},835428:(e,t,r)=>{"use strict";r.d(t,{F:()=>i});var s=r(514041),n=r(567776),o=r(12441);function i(){let{cell:{active:e,captured:t,index:r},row:{selected:i}}=(0,n.su)();return(0,s.useMemo)(()=>({props:(0,o.q)({...void 0!==i?{"aria-selected":i}:void 0,"aria-colindex":r,role:"gridcell",tabIndex:e&&!t?0:-1})}),[e,t,r,i])}},836107:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>a,Lt:()=>u,o1:()=>l});var s=r(262284),n=r(968554),o=r(905898),i=r(750609);let a=(0,n.vy)({byCourseId:{},isLoading:!1},{[s.g.IMPORT_GROUP_SET]:n.r1,[(0,n.ok)(s.g.IMPORT_GROUP_SET)]:(e,t)=>{let r=(0,o.Ay)(e,e=>{e.byCourseId[t.courseId]={responseStatus:"SUCCESS"}});return(0,n.Zg)(r,t)},[(0,n.fJ)(s.g.IMPORT_GROUP_SET)]:(e,t)=>{let r=(0,o.Ay)(e,e=>{e.byCourseId[t.courseId]={responseStatus:"ERROR",responseCode:t.err.body.code}});return(0,n.Nh)(r,t)},[(0,n.ok)(s.g.CLEAR_IMPORT_GROUP_SET_STATUS)]:(e,t)=>{let r=(0,o.Ay)(e,e=>{e.byCourseId[t.courseId]={responseStatus:"NONE",responseCode:void 0}});return(0,n.Zg)(r,t)},[(0,n.fJ)(s.g.FILE_UPLOAD_GROUP_SET_ERROR)]:(e,t)=>{let r=(0,o.Ay)(e,e=>{e.byCourseId[t.courseId]={responseStatus:"ERROR"}});return(0,n.Nh)(r,t)}}),l={importGroupSet:(e,t)=>(0,n.VP)(s.g.IMPORT_GROUP_SET,async()=>{try{return await (0,i.Dg6)(e,t),{courseId:e}}catch(t){throw{err:t,courseId:e}}}),clearImportGroupSetStatus:e=>(0,n.rc)((0,n.ok)(s.g.CLEAR_IMPORT_GROUP_SET_STATUS),{courseId:e}),setFileUploadGroupSetError:(e,t)=>(0,n.rc)((0,n.fJ)(s.g.FILE_UPLOAD_GROUP_SET_ERROR),{courseId:e,error:t})},u={getImportGroupSetStatus:(e,t)=>e.groupSetImport.byCourseId[t]}},839040:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(877973);let n=(0,s.n9)(e=>(0,s.rU)({containerPeekPanel:{position:"absolute",top:0,left:0,bottom:0,right:0,overflowY:"auto","& section":{borderBottom:`1px solid ${e.palette.border.main}`,marginTop:"20px",paddingBottom:"20px","&:first-child":{marginTop:"0px"},"&:last-child":{borderBottom:"none"}}},containerBody:{padding:"30px 30px 90px 30px"},description:{marginLeft:"20px",color:e.palette.text.hint},header:{"& .ms-Panel-subTitle, .ms-Panel-headerText":{paddingLeft:"16px",[e.breakpoints.up("xl")]:{paddingLeft:"30px"}}},footer:{position:"absolute",left:0,bottom:0,right:0,"& .ms-Panel-footer":{justifyContent:"center"}},additionalToolIcon:{display:"inline-block",verticalAlign:"top",paddingLeft:"10px",paddingTop:"3px"},additionalTools:{fontWeight:e.typography.fontWeightSemiBold},additionalToolTextContainer:{flex:"1",display:"inline-block",verticalAlign:"top",paddingLeft:"10px",minHeight:"32px",maxWidth:"272px",lineHeight:"16px",[e.breakpoints.up("sm")]:{minWidth:"200px"}},additionalToolText:{display:"block",fontWeight:e.typography.fontWeightBold},additionalToolLink:{display:"block"},descriptionBox:{"& div":{border:`1px solid ${e.palette.background.b5}`},"& textarea":{height:"146px"}},additionalToolsItemContainer:{display:"flex"},additionalToolsItemContainerTrashCanIcon:{display:"flex",justifyContent:"space-between"},unassignGroupButton:{marginLeft:"auto",marginRight:"10px",marginTop:"-5px","& [disabled] span":{color:e.palette.action.disabled}},groupsSectionHint:{marginTop:"10px",color:e.palette.text.hint},groupsSection:{"& button":{opacity:0,[e.breakpoints.down("xs")]:{opacity:1},"@media (hover: none) and (pointer: coarse)":{opacity:1},"&:focus":{opacity:1}},"&:hover":{"& button":{opacity:1,transition:"transform 100ms, background-color 250ms, color 250ms, box-shadow 250ms, opacity 250ms"}}}}))},839781:(e,t,r)=>{"use strict";r.d(t,{n:()=>i});var s=r(139552),n=r(443873),o=r(732583);let i=(0,s.Ad)(n.UI,o.oJ)},840449:(e,t,r)=>{"use strict";r.d(t,{_:()=>o});var s=r(608719),n=r(825271);function o(e){return(0,s.EUY)(n.dZ,e)}},840772:(e,t,r)=>{"use strict";r.d(t,{s:()=>c});var s=r(514041),n=r(865004),o=r(877973);let i=(0,o.n9)(e=>(0,o.rU)({modalRoot:{backgroundColor:"transparent",display:"flex",justifyContent:"center",alignItems:"center","& img":{display:"block",marginBlock:"0",marginInline:"auto"}},modalCloseWrapper:{cursor:"pointer",position:"fixed",insetBlockStart:0,insetInlineEnd:0,margin:"16px"},mediaItem:{cursor:"pointer",maxBlockSize:"100%",overflow:"auto"},modalCloseButton:{color:e.palette.background.default}}));var a=r(951777),l=r(1231),u=r(129093),d=r(438538);let c=e=>{let t=i(),r=(0,n.W)();return s.createElement(u.gT,{analyticsId:`${e.analyticsId}.modal`,className:t.modalRoot,open:e.open,onClose:e.onClose,maxWidth:!1},s.createElement("div",{className:t.mediaItem},(0,d.v)(e.file)),s.createElement("div",{className:t.modalCloseWrapper},s.createElement(a.uJ,{className:t.modalCloseButton,"aria-label":r("cr.components.mediaGalleryView.closeButtonAriaLabel"),onClick:e.onClose,analyticsId:`${e.analyticsId}.modal.close.button`},s.createElement(l.Close,null))))}},842804:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={QUESTION_LOAD:"question.load",QUESTION_CREATE:"question.create",QUESTIONS_COPY:"questions.copy",QUESTIONS_COPY_QUEUED:"questions.copy.queued",QUESTIONS_COPY_TASK_ADD:"questions.copyTask.add",QUESTIONS_COPY_TASK_REMOVE:"questions.copyTask.remove",QUESTIONS_COPY_TASK_LOAD:"questions.copyTask.load",QUESTIONS_COPY_TASK_UPDATE:"questions.copyTask.update",QUESTION_PERSIST:"question.persist",QUESTION_BULK_QUESTION_POINTS_UPDATE:"question.bulk.question.points.update",QUESTION_DELETE:"question.delete",QUESTIONS_DELETE:"questions.delete",QUESTIONS_CREATE:"questions.create",QUESTIONS_FILE_UPLOAD:"questions.upload",QUESTION_BLOCK_ADD_QUESTIONS:"question.block.add.questions",QUESTION_BLOCK_LOAD_QUESTIONS:"question.block.load.questions",QUESTION_BLOCKS_LOAD_QUESTIONS:"question.blocks.load.questions",QUESTION_BLOCK_DELETE_QUESTION:"question.block.delete.questions",QUESTION_BLOCK_UPDATE_QUESTIONS:"question.block.update.questions",QUESTION_BLOCK_CLEAR_QUESTIONS:"question.block.clear.questions",QUESTION_HAS_STUDENT_SUBMISSION:"question.check.submission"}},843996:(e,t,r)=>{"use strict";r.d(t,{$$:()=>i,$G:()=>c,$u:()=>u,H3:()=>l,X7:()=>o,dC:()=>a,ny:()=>d});var s,n=r(847948);!function(e){e.GROUP_ENROLLMENT_EXPIRED_ERROR_CODE="enrollmentEndDateViolation",e.GROUP_IS_FULL_ERROR_CODE="maximumEnrollmentsExceeded",e.SOURCE_GROUP_SUBMITTED_ATTEMPT_ERROR_CODE="sourceGroupContainsAttempt",e.TARGET_GROUP_SUBMITTED_ATTEMPT_ERROR_CODE="targetGroupContainsAttempt",e.SOURCE_GROUP_GRADE_ERROR_CODE="sourceGroupContainsGrade",e.TARGET_GROUP_GRADE_ERROR_CODE="targetGroupContainsGrade"}(s||(s={}));class o extends n.Z{constructor(e){super(e,"GroupEnrollmentExpiredError")}}class i extends n.Z{constructor(e){super(e,"GroupFullError")}}class a extends n.Z{constructor(e){super(e,"TargetGroupSubmittedAttemptError")}}class l extends n.Z{constructor(e){super(e,"SourceGroupSubmittedAttemptError")}}class u extends n.Z{constructor(e){super(e,"SourceGroupGradesError")}}class d extends n.Z{constructor(e){super(e,"TargetGroupGradesError")}}function c(e){var t;switch(null==(t=null==e?void 0:e.error)?void 0:t.code){case s.GROUP_ENROLLMENT_EXPIRED_ERROR_CODE:return new o(e.error);case s.GROUP_IS_FULL_ERROR_CODE:return new i(e.error);case s.TARGET_GROUP_SUBMITTED_ATTEMPT_ERROR_CODE:return new a(e.error);case s.SOURCE_GROUP_SUBMITTED_ATTEMPT_ERROR_CODE:return new l(e.error);case s.TARGET_GROUP_GRADE_ERROR_CODE:return new d(e.error);case s.SOURCE_GROUP_GRADE_ERROR_CODE:return new u(e.error);default:return e}}},845565:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var s=r(110941),n=r(542633);function o(e,t){let r=new s.b({courseId:e}).withSession(t);return(0,n.w)(r)}},846108:(e,t,r)=>{"use strict";var s;r.d(t,{I:()=>s}),function(e){e.BEGINNING="beginning",e.ENDING="ending"}(s||(s={}))},846442:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>l,Lt:()=>u,o1:()=>d});var s=r(968554),n=r(452657),o=r(905898),i=r(237165);let a={[i.g.CONTENT_INDICATORS_LOAD]:(e,t)=>(0,o.Ay)(e,e=>{let{courseId:r}=t.meta;e.dateLoadedByCourseId[r]||(e.dateLoadedByCourseId[r]={}),e.dateLoadedByCourseId[r].isLoading=!0}),[(0,s.ok)(i.g.CONTENT_INDICATORS_LOAD)]:(e,t)=>(0,o.Ay)(e,e=>{let r=t.meta.courseId,s=t.indicators;e.dateLoadedByCourseId[r]||(e.dateLoadedByCourseId[r]={}),s&&(s.forEach(t=>{e.byContentId[t.contentId]=t}),e.contentIdsByCourseId[r]=new Set(s.map(e=>e.contentId)),e.dateLoadedByCourseId[r].dateLoaded=new Date),e.dateLoadedByCourseId[r].isLoading=!1}),[(0,s.fJ)(i.g.CONTENT_INDICATORS_LOAD)]:(e,t)=>(0,o.Ay)(e,e=>{let r=t.meta.courseId;e.dateLoadedByCourseId[r]||(e.dateLoadedByCourseId[r]={}),e.dateLoadedByCourseId[r].isLoading=!1}),[i.g.DISABLE_CLASS_CONVERSATION_INDICATOR]:(e,t)=>(0,o.Ay)(e,e=>{let r=t.payload.contentId;e.byContentId[r]||(e.byContentId[r]={}),e.byContentId[r].classConversationHasIndicator=!1}),[i.g.REMOVE_GROUPID_FROM_INDICATORS]:(e,t)=>(0,o.Ay)(e,e=>{let{contentId:r,groupId:s}=t.payload;e.byContentId[r]||(e.byContentId[r]={});let n=e.byContentId[r].groupIds;n&&(e.byContentId[r].groupIds=n.filter(e=>e!==s))})},l=(0,s.vy)({byContentId:{},contentIdsByCourseId:{},dateLoadedByCourseId:{}},a),u={getIndicatorByContentId:(e,t)=>e.contentIndicators.byContentId[t],isLoadingIndicators:(e,t)=>{var r,s;return null!=(s=null==(r=e.contentIndicators.dateLoadedByCourseId[t])?void 0:r.isLoading)&&s}},d={loadIndicators:(e,t)=>(0,s.RA)(async(r,o)=>{let a=u.isLoadingIndicators(o(),e),l=((e,t,r)=>{let s=e.contentIndicators.dateLoadedByCourseId[t];if(!s)return!0;let{isLoading:n,dateLoaded:o}=s;return!n&&(!!r||!o||Date.now()-o.getTime()>i.y)})(o(),e,t);if(!a&&l){r({type:i.g.CONTENT_INDICATORS_LOAD,meta:{courseId:e}});try{let{indicators:t}=await (0,n.j)(e);r({type:(0,s.ok)(i.g.CONTENT_INDICATORS_LOAD),meta:{courseId:e},indicators:t})}catch(t){throw r({type:(0,s.fJ)(i.g.CONTENT_INDICATORS_LOAD),meta:{courseId:e}}),{err:t}}}}),removeGroupIdFromIndicatorCache:(e,t)=>({type:i.g.REMOVE_GROUPID_FROM_INDICATORS,payload:{contentId:e,groupId:t}}),setClassConversationHasIndicatorToFalseInCache:e=>({type:i.g.DISABLE_CLASS_CONVERSATION_INDICATOR,payload:{contentId:e}})}},846576:(e,t,r)=>{"use strict";r.d(t,{$i:()=>d,_p:()=>l,bX:()=>i,bc:()=>a,fR:()=>E,rt:()=>u,wf:()=>c});var s=r(825271),n=r(608719),o=r(853400);let i=(0,o.Y)(n.$1r,s.dZ),a=(0,o.Y)(n.t1H,s.dZ),l=(0,o.Y)(n.w3m,s.dZ),u=(0,o.Y)(n.ZfO,s.dZ),d=(0,o.Y)(n.X7K,s.dZ),c=(0,o.Y)(n.Vdf,s.dZ),E=(0,o.Y)(n.K0v,s.dZ)},847948:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});class s extends Error{constructor(e,t,r){super(r),this.error=e,Object.setPrototypeOf(this,new.target.prototype),this.name=t}}},848230:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});let s=(0,r(877973).n9)(e=>({toolbarCell:{paddingLeft:0},toolbarContainer:{display:"flex",alignItems:"center",justifyContent:"space-between"},buttonsContainer:{display:"flex",justifyContent:"flex-end"},saveButton:{marginLeft:e.spacing(2)},messageContainer:{display:"flex",alignItems:"center",justifyContent:"flex-start",color:e.palette.error.main},message:{marginLeft:e.spacing(1.25)}}))},851530:(e,t,r)=>{"use strict";r.d(t,{o1:()=>m,Ff:()=>p,Lt:()=>g});var s=r(905898),n=r(968554),o=r(397965);let i=e=>{let t=[];return e.forEach(e=>{e.distributionMethods&&e.distributionMethods.forEach(r=>{let s={context:e.context,source:e.source,event:e.event,...r};t.push(s)})}),t},a=e=>{let t=e.courseId||"",r=e.ownerId||"";return e.context.toString()+"_"+e.source+"_"+e.event+"_"+e.method+"_"+t+"_"+r},l=e=>e.reduce((e,t)=>(e[a(t)]=t,e),{}),u="/public/v1/administration/notifications/settings";async function d(){let e=await (0,o.Jt)((0,o.c$)(u,{})),t=e.results;for(;e.paging&&e.paging.nextPage;)e=await (0,o.Jt)("/"+e.paging.nextPage.split("/").slice(3).join("/")),t=t.concat(e.results);return{notificationMethodSettings:l(i(t))}}async function c(e){return{notificationMethodSettings:l(i((await (0,o.F6)((0,o.c$)(u,{}),(e=>{let t={};return e.forEach(e=>{let r=e.context.toString()+"_"+e.source+"_"+e.event;t[r]?t[r].distributionMethods.push({method:e.method,isEnabled:e.isEnabled,isEditable:e.isEditable}):t[r]={context:e.context,source:e.source,event:e.event,distributionMethods:[{method:e.method,isEnabled:e.isEnabled,isEditable:e.isEditable}]}}),Object.values(t)})(e))).results))}}let E={NOTIFICATION_METHOD_SETTINGS_LOAD_ALL:"notification.method.settings.load.all",NOTIFICATION_METHOD_SETTINGS_MULTIPLE_UPDATE:"notification.method.settings.multiple.update"},p=(0,n.vy)({byId:{},isLoading:!1},{[E.NOTIFICATION_METHOD_SETTINGS_LOAD_ALL]:n.r1,[(0,n.ok)(E.NOTIFICATION_METHOD_SETTINGS_LOAD_ALL)]:(e,t)=>{let r=e;return t.notificationMethodSettings&&(r=(0,s.Ay)(r,e=>{Object.entries(t.notificationMethodSettings).forEach(t=>{e.byId[t[0]]=t[1]})})),(0,n.Zg)(r,t)},[(0,n.fJ)(E.NOTIFICATION_METHOD_SETTINGS_LOAD_ALL)]:n.Nh,[E.NOTIFICATION_METHOD_SETTINGS_MULTIPLE_UPDATE]:(e,t)=>{let{toUpdate:r}=t;return(0,s.Ay)(e,e=>{r.forEach(t=>{e.byId[a(t)]||(e.byId[a(t)]={}),e.byId[a(t)].api||(e.byId[a(t)].api={}),e.byId[a(t)].api.isUpdating=!0})})},[(0,n.ok)(E.NOTIFICATION_METHOD_SETTINGS_MULTIPLE_UPDATE)]:(e,t)=>{let{notificationMethodSettings:r}=t;return(0,s.Ay)(e,e=>{Object.entries(r).forEach(t=>{e.byId[t[0]]=t[1],e.byId[t[0]].api||(e.byId[t[0]].api={}),e.byId[t[0]].api.isUpdating=!1})})},[(0,n.fJ)(E.NOTIFICATION_METHOD_SETTINGS_MULTIPLE_UPDATE)]:(e,t)=>{let{toUpdate:r}=t;return(0,s.Ay)(e,e=>{r.forEach(t=>{e.byId[a(t)]||(e.byId[a(t)]={}),e.byId[a(t)].api||(e.byId[a(t)].api={}),e.byId[a(t)].api.isUpdating=!1})})}}),m={loadAdminNotificationMethodSettings:()=>(0,n.VP)(E.NOTIFICATION_METHOD_SETTINGS_LOAD_ALL,e=>y(e())?d():Promise.resolve(null)),persistAdminNotificationMethodSettings:e=>(0,n.VP)(E.NOTIFICATION_METHOD_SETTINGS_MULTIPLE_UPDATE,()=>c(e).then(e=>({...e})).catch(t=>{throw{toUpdate:e,err:t}}),{toUpdate:e})},g={getAdminNotificationMethodSettings:e=>Object.values(e.notificationMethodSetting.byId).filter(e=>!e.courseId&&!e.ownerId),isLoading:e=>e.notificationMethodSetting.isLoading},y=e=>0===g.getAdminNotificationMethodSettings(e).length},853400:(e,t,r)=>{"use strict";function s(e,t){return(...r)=>e(t,...r)}r.d(t,{Y:()=>s})},854262:(e,t,r)=>{"use strict";r.d(t,{o:()=>s.ob});var s=r(115183)},859776:(e,t,r)=>{"use strict";r.d(t,{H:()=>s});let s={AUTOMATIONS:"automations",AUTOMATION_DETAIL:"automation-detail"}},861422:(e,t,r)=>{"use strict";r.d(t,{h:()=>u});var s=r(225927),n=r(585608),o=r(884270);let i=/\{[01]\}/;class a{parse(e){return{2:e["2"].split(i),start:e.start.split(i),middle:e.middle.split(i),end:e.end.split(i)}}}(0,n.__decorate)([(0,o.LRUMemoize)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",Object)],a.prototype,"parse",null);let l=new a,u=()=>{let e=(()=>{let{babelfishFormat:e,locale:t}=(0,s.b)();return e.getFormatterSync(t).cldr.main("listPatterns/listPattern-type-standard")})();return l.parse(e)}},862147:(e,t,r)=>{"use strict";r.d(t,{K:()=>s});let s={RUBRIC:"rubric",RUBRIC_MODE:"rubric.mode",RUBRIC_EVALUATION:"rubric-evaluation",RUBRIC_VIEW:"rubric-view",RUBRIC_GENERATE:"rubric-generate"}},865337:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={BLOG_ENTRIES_LOAD:"blog.entries.load",BLOG_ENTRY_ADD:"blog.entry.add",BLOG_ENTRY_MODIFY:"blog.entry.modify",BLOG_ENTRY_REMOVE:"blog.entry.remove"}},867794:(e,t,r)=>{"use strict";r(542633);var s=r(56684);s.kz},875885:(e,t,r)=>{"use strict";r.d(t,{o1:()=>E,Ff:()=>d,Lt:()=>c});let s={GET_COURSE_DISCUSSIONS_COUNT:"get.course-discussions.count",DECREASE_COURSE_DISCUSSIONS_UNREAD_COUNT:"decrease.course-discussions.unread.count",UPDATE_DISCUSSION_ACTIVITY_COUNTER:"update.course-discussions.activity.counter"};var n=r(968554),o=r(905898),i=r(750609),a=r(612918);let l=e=>["discussionCount",e.courseId],u=(e,t)=>{let r=t.getState().courseDiscussion.discussionCount[e.courseId];return(null==r?void 0:r.status.fetchStatus)!=="fetching"},d=(0,n.vy)({discussionCount:{},discussionActivityCounter:{}},{[s.GET_COURSE_DISCUSSIONS_COUNT]:(0,a.rK)(l,a.hu.Load,a.p_),[(0,n.ok)(s.GET_COURSE_DISCUSSIONS_COUNT)]:(e,t)=>(0,o.Ay)(e,e=>{e.discussionCount[t.courseId]={value:t.data,status:(0,a.Lx)(a.hu.Load,e.discussionCount[t.courseId],a.U8)}}),[(0,n.fJ)(s.GET_COURSE_DISCUSSIONS_COUNT)]:(0,a.rK)(l,a.hu.Load,a.XP),[s.DECREASE_COURSE_DISCUSSIONS_UNREAD_COUNT]:(e,t)=>{var r,s,n;let{courseId:i}=t,l=null!=(n=null==(s=null==(r=e.discussionCount[i])?void 0:r.value)?void 0:s.unreadCount)?n:0;return(0,o.Ay)(e,e=>{e.discussionCount[i]={value:{unreadCount:Math.max(l-1,0)},status:a.U8}})},[s.UPDATE_DISCUSSION_ACTIVITY_COUNTER]:(e,t)=>(0,o.Ay)(e,e=>{let{userId:r,forumId:s,data:n}=t;e.discussionActivityCounter[s]={...e.discussionActivityCounter[s],[r]:{post:n.totalParticipationCount.post,reply:n.totalParticipationCount.reply}}})}),c={getDiscussionCounts:(e,t)=>{var r;return null==(r=e.courseDiscussion.discussionCount[t])?void 0:r.value},getDiscussionActivityCounter:(e,t,r)=>{var s;return null==(s=e.courseDiscussion.discussionActivityCounter[r])?void 0:s[t]}},E={loadDiscussionCounts:e=>(0,n.Vy)(s.GET_COURSE_DISCUSSIONS_COUNT,async()=>{let t=await (0,i.NZf)(e);return{courseId:e,data:t}},{data:{courseId:e},condition:u}),decreaseUnreadDiscussionCounter:e=>(0,n.rc)(s.DECREASE_COURSE_DISCUSSIONS_UNREAD_COUNT,{courseId:e}),updateDiscussionActivityCounter:e=>(0,n.rc)(s.UPDATE_DISCUSSION_ACTIVITY_COUNTER,{userId:e.userId,forumId:e.forumId,data:e.data})}},880235:(e,t,r)=>{"use strict";r.d(t,{Zn:()=>o,wf:()=>i});var s=r(608719),n=r(847948);class o extends n.Z{constructor(e){super(e,"AssessmentConflictNotEnoughPeerReviews")}}function i(e){return e.error.status===s.t3V.Conflict&&"bb-assessment-conflict-not-enough-peer-reviews"===e.error.code?new o(e.error):e}},880861:(e,t,r)=>{"use strict";r.d(t,{I:()=>l,f:()=>i});var s=r(716968);let n="(unknown)",o=async e=>{var t;let r=e.clone(),s=e.url?new URL(e.url):null,o=n;try{o=await r.text()}catch(e){}return{ts:Date.now(),status:r.status,path:s?s.pathname+s.search:n,host:null!=(t=null==s?void 0:s.host)?t:n,response:o}},i=(e,t)=>{var r,s;let o=e.url?new URL(e.url):null;return{ts:Date.now(),status:-1,path:o?o.pathname+o.search:n,host:null!=(r=null==o?void 0:o.host)?r:n,response:null!=(s=null==t?void 0:t.toString())?s:""}};class a extends s.l{async logResponse(e){if("body"in e){let t=await o(e);this.notifySink(t);return}this.notifySink(e)}}let l=new a},881697:(e,t,r)=>{"use strict";r.d(t,{Gq:()=>E,R4:()=>p,TC:()=>d,YR:()=>m,ui:()=>g});var s=r(251079),n=r(514041),o=r(97123),i=r(565223),a=r(366990),l=r(9618);let u={isActivateCellEvent:()=>!0,isNextCellEvent:e=>"ArrowRight"===e.key,isNextRowEvent:e=>"ArrowDown"===e.key,isPreviousCellEvent:e=>"ArrowLeft"===e.key,isPreviousRowEvent:e=>"ArrowUp"===e.key},d={isCaptureEvent:e=>"Enter"===e.key,isUncaptureEvent:e=>"Escape"===e.key},c={isSelectActiveRowEvent:e=>e.shiftKey&&" "===e.key||"Enter"===e.key,isSelectToggleEvent:e=>e.shiftKey},E=n.createContext({autoFocusRef:{current:!1},capture:d,focus:()=>void 0,focusSignal:0,navigation:u,selecting:!1,setSelecting:()=>void 0}),p=({capture:e=d,children:t,navigation:r=u,select:o=!1})=>{var i,a,l,p,m,g,y,I,A;let h=(0,n.useRef)(!1),[_,b]=(0,n.useState)(!1),[S,T]=(0,n.useState)(0),O=(0,s._q)(null!=(i=r.isActivateCellEvent)?i:u.isActivateCellEvent),v=(0,s._q)(null!=(a=r.isNextCellEvent)?a:u.isNextCellEvent),f=(0,s._q)(null!=(l=r.isNextRowEvent)?l:u.isNextRowEvent),C=(0,s._q)(null!=(p=r.isPreviousCellEvent)?p:u.isPreviousCellEvent),R=(0,s._q)(null!=(m=r.isPreviousRowEvent)?m:u.isPreviousRowEvent),D=(0,n.useMemo)(()=>({isActivateCellEvent:O,isNextCellEvent:v,isNextRowEvent:f,isPreviousCellEvent:C,isPreviousRowEvent:R}),[O,v,f,C,R]),L=(0,s._q)(null!=(g=e.isCaptureEvent)?g:d.isCaptureEvent),N=(0,s._q)(null!=(y=e.isUncaptureEvent)?y:d.isCaptureEvent),U=(0,n.useMemo)(()=>({isCaptureEvent:L,isUncaptureEvent:N}),[L,N]),P=function(e){if(e)return!0===e?c:e}(o),w=(0,s.cn)(P?null!=(I=P.isSelectActiveRowEvent)?I:c.isSelectActiveRowEvent:void 0),k=(0,s.cn)(P?null!=(A=P.isSelectToggleEvent)?A:c.isSelectToggleEvent:void 0),M=(0,n.useMemo)(()=>{if(w&&k)return{isSelectActiveRowEvent:w,isSelectToggleEvent:k}},[w,k]),B=(0,s._q)(()=>{h.current=!0,T(e=>e+1)}),G=(0,n.useMemo)(()=>({autoFocusRef:h,capture:U,focus:B,focusSignal:S,navigation:D,select:M,selecting:_,setSelecting:b}),[U,B,S,D,M,_]);return n.createElement(E.Provider,{value:G},t)};function m(){let{focus:e,selecting:t}=(0,n.useContext)(E),{grid:r}=(0,o.yt)();return(0,n.useMemo)(()=>({focus:e,selecting:t&&!r.captured}),[e,t,r.captured])}function g(){let{gridRefCb:e}=function(){let{grid:e}=(0,n.useContext)(o.yE),{navigation:t}=(0,n.useContext)(E),{activateRelativeCell:r,activateRelativeRow:s}=(0,o.yt)(),{targetRefCb:i}=(0,l.M)("keydown",n=>{let o=e=>{e.prev!==e.next&&n.preventDefault(),(0,a.K)()};!e.captured&&(t.isNextCellEvent(n)?o(r(1)):t.isPreviousCellEvent(n)?o(r(-1)):t.isNextRowEvent(n)?o(s(1)):t.isPreviousRowEvent(n)&&o(s(-1)))});return(0,n.useMemo)(()=>({gridRefCb:i}),[i])}(),{gridRefCb:t}=function(){let{select:e,setSelecting:t}=(0,n.useContext)(E),{targetRefCb:r}=(0,l.M)("keydown",r=>{let s=null==e?void 0:e.isSelectToggleEvent(r);void 0!==s&&t(s)});return(0,n.useMemo)(()=>({gridRefCb:r}),[r])}(),r=(0,i.R)(e,t);return(0,n.useMemo)(()=>({gridRefCb:r}),[r])}},886228:(e,t,r)=>{"use strict";r.d(t,{o1:()=>c,Ff:()=>u,Lt:()=>E});var s=r(905898),n=r(645250),o=r(968554),i=r(248928),a=r(353170);let l={INSTITUTION_ROLE_LOAD:"institution.role.load",INSTITUTION_ROLES_LOAD:"institution.roles.load"},u=(0,o.vy)({institutionRoles:{byId:{}},paging:null,isLoading:!1},{[l.INSTITUTION_ROLES_LOAD]:o.r1,[(0,o.ok)(l.INSTITUTION_ROLES_LOAD)]:(e,t)=>{if(!t||!t.institutionRoles)return(0,o.Zg)(e,t);let{institutionRoles:r,paging:n}=t,i=e;return Object.keys(r.byId).forEach(e=>{let t={...r.byId[e],api:{isUpdating:!1,isDeleting:!1}};i=(0,s.Ay)(i,e=>{e.institutionRoles.byId[t.id]=t})}),(0,s.Ay)(i,e=>{e.isLoading=!1,e.paging=n})},[(0,o.fJ)(l.INSTITUTION_ROLES_LOAD)]:o.Nh,[l.INSTITUTION_ROLE_LOAD]:o.r1,[(0,o.ok)(l.INSTITUTION_ROLE_LOAD)]:(e,t)=>{if(!t||!t.institutionRole)return(0,o.Zg)(e,t);let{institutionRole:r}=t;return(0,o.Zg)(e,t,{institutionRoles:{byId:(0,s.Ay)(e.institutionRoles.byId,e=>{e[r.id]={...r,api:{isUpdating:!1,isDeleting:!1}}})}})},[(0,o.fJ)(l.INSTITUTION_ROLE_LOAD)]:o.Nh,[(0,o.ok)(a.g.INSTITUTION_BRANDS_LOAD)]:d,[(0,o.ok)(a.g.INSTITUTION_BRAND_LOAD)]:d});function d(e,t){if(!t||!t.institutionRoles)return e;let{institutionRoles:r}=t,n=e;return Object.keys(r).forEach(e=>{n=(0,s.Ay)(n,t=>{t.institutionRoles.byId[e]={...r[e],api:{isUpdating:!1,isDeleting:!1}}})}),n}let c={fetchInstitutionRole:e=>(0,o.VP)(l.INSTITUTION_ROLE_LOAD,t=>{var r,s;return(r=t(),s=e,E.getInstitutionRoleById(r,s))?Promise.resolve(null):(0,i.xh)(e).then(e=>({institutionRole:e})).catch(e=>{throw{err:e}})}),fetchInstitutionRoles:()=>(0,o.VP)(l.INSTITUTION_ROLES_LOAD,e=>null!=e().institutionRole.paging?Promise.resolve(null):(0,i.g7)().then(e=>e).catch(e=>{throw{err:e}}))},E={getInstitutionRoleById:(e,t)=>(0,n.find)(e.institutionRole.institutionRoles.byId,{id:t}),getAllInstitutionRolesById:e=>e.institutionRole.institutionRoles.byId}},886419:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});var s=r(608719),n=r(825271);function o(e){return(0,s.p1k)(e,n.dZ)}},886906:(e,t,r)=>{"use strict";r.d(t,{o:()=>i});var s=r(750609),n=r(968554),o=r(314557);let i={sendChatMessage:(e,t,r,i)=>(0,n.Vy)(o.g.QUESTION_ATTEMPT_CHAT_MESSAGE_SEND,async n=>{let o=await (0,s.z2U)(e,t,r,i);return{...n,attempt:o}},{data:{courseId:e,attemptId:t,questionAttemptId:r,message:i}}),retryChatMessage:(e,t,r)=>(0,n.Vy)(o.g.QUESTION_ATTEMPT_CHAT_MESSAGE_RETRY,async n=>{let o=await (0,s.Dbx)(e,t,r);return{...n,attempt:o}},{data:{courseId:e,attemptId:t,questionAttemptId:r}}),pollChatAttempt:(e,t,r,i)=>(0,n.Vy)(o.g.QUESTION_ATTEMPT_CHAT_POLL,async o=>{try{let n=await (0,s.rPJ)(e,t,r,i);return{...o,attempt:{...n,task:void 0}}}catch(e){throw new n.GS(e).setData({...o})}},{data:{courseId:e,attemptId:t,questionAttemptId:r}})}},887947:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});var s=r(514041),n=r(245837),o=r(951777);let i=(0,r(877973).n9)(()=>({listitemIcon:{color:"unset"}})),a=s.forwardRef(function(e,t){let{icon:r,text:a,analyticsId:l,...u}=e,d=i();return s.createElement(n.X,{button:!0,ref:t,analyticsId:l,...u},r&&s.createElement(o.Hn,{className:d.listitemIcon,analyticsId:`${l}.icon`},r),s.createElement(o.DI,{analyticsId:`${l}.text`},a))})},890235:(e,t,r)=>{"use strict";r.d(t,{W:()=>c});var s=r(514041),n=r(887947),o=r(951777),i=r(405976),a=r(178662),l=r(611960),u=r(18085),d=r(225927);let c=s.forwardRef((e,t)=>{let{id:r,items:c,ariaLabel:E,analyticsId:p,disabled:m,className:g,onMenuOpened:y,title:I,forceMenuTheme:A,disableAutoFocusItem:h}=e,_=(0,s.useRef)(null),b=(0,l.Bi)(),[S,T]=(0,s.useState)(void 0),{isRtl:O}=(0,d.b)(),v=(0,s.useCallback)(e=>{T(e.currentTarget),y&&y()},[y]),f=(0,s.useCallback)(()=>{T(void 0)},[]),C=null!=r?r:`${b}.actionMenu`,R=`${null!=r?r:b}.button`,D=s.createElement(a.Q,{id:C,analyticsId:`${p}.actionMenu`,anchorEl:S,open:!!S,onClose:f,variant:"menu",className:"react-container",MenuListProps:{"aria-labelledby":R},disableEnforceFocus:!0,disableAutoFocusItem:h},c.map(({menuItemAttributes:e,...t})=>!t.hidden&&s.createElement(n.b,{...t,...e,onClick:e=>{var r;null==(r=t.onClick)||r.call(t,e),f()}})));return s.createElement(s.Fragment,null,s.createElement(o.uJ,{id:R,className:g,ref:t||_,analyticsId:p,"aria-controls":S?C:void 0,"aria-haspopup":"menu","aria-label":E,"aria-expanded":!!S,onClick:v,disabled:m,title:I},s.createElement(i.Menu,null)),A?s.createElement(u.N,{modeOverride:A,isRtl:O()},D):D)});c.displayName="ActionMenu"},895703:(e,t,r)=>{"use strict";var s;r.d(t,{W:()=>s,g:()=>n});let n={GRADEBOOK_COLUMN_LOAD:"gradebook-column.load",GRADEBOOK_COLUMN_LOAD_MULTIPLE:"gradebook-column.multiple.load",GRADEBOOK_COLUMN_PERSIST:"gradebook-column.persist",GRADEBOOK_COLUMNS_UPDATE:"gradebook-columns.update",GRADEBOOK_COLUMN_POST_READY_GRADES:"gradebook-column.ready.grades.post",GRADEBOOK_COLUMN_RUBRIC_ASSOCIATIONS_DELETE:"gradebook-column.rubricAssociations.delete",GRADEBOOK_COLUMN_DELETE:"gradebook-column.delete",GRADEBOOK_COLUMNS_LOAD:"gradebook-columns.load",GRADEBOOK_COLUMN_INVALIDATE_DATA:"gradebook-column.invalidate.data",GRADEBOOK_COLUMN_UPDATE:"gradebook-column.update"};!function(e){e[e.AllStudents=0]="AllStudents",e[e.MyStudentsToGrade=1]="MyStudentsToGrade"}(s||(s={}))},897582:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={ASSESSMENT_LOAD:"assessment.load",ASSESSMENT_PERSIST:"assessment.persist",ASSESSMENT_DELETE:"assessment.delete",ASSESSMENT_CREATE:"assessment.create",ASSESSMENT_FILE_UPLOAD:"assessment.file.upload",ASSESSMENT_FILE_UPLOAD_TASK_ADD:"assessment.fileUploadTask.add",ASSESSMENT_FILE_UPLOAD_TASK_UPDATE:"assessment.fileUploadTask.update",ASSESSMENT_FILE_UPLOAD_TASK_REMOVE:"assessment.fileUploadTask.remove",ASSESSMENT_IMPORT:"assessment.import",ASSESSMENT_EXPORT:"assessment.export",ASSESSMENT_EXPORT_TASK_UPDATE:"assessment.exportTask.update",ASSESSMENT_EXPORT_TASKS_LOAD:"assessment.exportTasks.load",ASSESSMENT_EXPORT_TASK_ADD:"assessment.exportTask.add",ASSESSMENT_EXPORT_TASK_REMOVE:"assessment.exportTask.remove",ASSESSMENT_IMPORT_TASKS_LOAD:"assessment.importTasks.load",ASSESSMENT_IMPORT_TASK_ADD:"assessment.importTask.add",ASSESSMENT_IMPORT_TASK_UPDATE:"assessment.importTask.update",ASSESSMENT_IMPORT_TASK_REMOVE:"assessment.importTask.remove"}},906223:(e,t,r)=>{"use strict";r.d(t,{o1:()=>_,Ff:()=>h,Lt:()=>b});var s=r(905898),n=r(139552),o=r(968554),i=r(612918),a=r(728090);let l={ACHIEVEMENT_LOAD:"achievement.load",ACHIEVEMENT_CREATE:"achievement.create",ACHIEVEMENT_UPDATE:"achievement.update",ACHIEVEMENT_DELETE:"achievement.delete",ACHIEVEMENTS_LOAD:"achievements.load"};var u=r(732583);let d=(e,t)=>{var r;if(!(null==t?void 0:t.courseFoundationsId))return o.Vc;let[s,n]=null!=(r=Object.entries(e.views.byCourseFoundationsId[null==t?void 0:t.courseFoundationsId]||{}).find(([,e])=>(0,u.Y_)(e.query,t)))?r:[null,null];return s?{id:s,view:n}:o.Vc},c=e=>["views","byCourseFoundationsId",e.courseFoundationsId],E=e=>["byId",e.achievementId],p=(e,t)=>{var r;if(!(null==(r=e.query)?void 0:r.courseFoundationsId))return!1;let{view:s}=d(t.getState().achievement,e.query);return!s||!s.isLoading&&!s.isValid},m=(e,t)=>{let r=t.getState().achievement.byId[e.achievementId];return(0,i.gE)(null==r?void 0:r.status)},g=(e,t)=>{let r=t.getState().achievement.byId[e.achievementId];return(0,i.PH)(null==r?void 0:r.status)},y=(e,t)=>{let r=t.getState().achievement.byId[e.achievementId];return(0,i.zO)(null==r?void 0:r.status)},I=(e,t)=>{if(!t)return;let r=e.views.byCourseFoundationsId[t];r&&Object.keys(r).forEach(e=>{r[e].isValid=!1})},A=e=>{let{customBadgeTempFileLocation:t,customBadgeToDelete:r,...s}=e;return s},h=(0,o.vy)({byId:{},views:{byCourseFoundationsId:{}}},{[l.ACHIEVEMENTS_LOAD]:(0,o.Dh)(d,c),[(0,o.ok)(l.ACHIEVEMENTS_LOAD)]:(e,t)=>{var r;let{data:n}=t,a=(0,s.Ay)(e,e=>{Object.keys(n.achievementsById).forEach(t=>{e.byId[t]?e.byId[t]={value:n.achievementsById[t],status:e.byId[t].status}:e.byId[t]={value:n.achievementsById[t],status:i.U8}})});return(0,o.lY)(a,t,{viewResolver:d,viewsPathResolver:c,values:null!=(r=null==n?void 0:n.achievementIds)?r:[]})},[(0,o.fJ)(l.ACHIEVEMENTS_LOAD)]:(0,o.To)(d,c),[l.ACHIEVEMENT_LOAD]:(0,i.rK)(E,i.hu.Load,i.p_),[(0,o.ok)(l.ACHIEVEMENT_LOAD)]:(e,t)=>{let{achievement:r}=t;return(0,s.Ay)(e,e=>{e.byId[r.id]={value:r,status:(0,i.Lx)(i.hu.Load,e.byId[r.id],i.U8)}})},[(0,o.fJ)(l.ACHIEVEMENT_LOAD)]:(0,i.rK)(E,i.hu.Load,i.XP),[(0,o.ok)(l.ACHIEVEMENT_CREATE)]:(e,t)=>(0,s.Ay)(e,e=>{let{achievement:r,courseFoundationsId:s}=t;e.byId[r.id]={value:A(r),status:(0,i.Lx)(i.hu.Create,void 0,i.U8)},I(e,s)}),[l.ACHIEVEMENT_DELETE]:(0,i.rK)(E,i.hu.Delete,i.nn),[(0,o.ok)(l.ACHIEVEMENT_DELETE)]:(e,t)=>(0,s.Ay)(e,e=>{let{achievementId:r,courseFoundationsId:s}=t;e.byId[r]={value:e.byId[r].value,status:(0,i.Lx)(i.hu.Delete,e.byId[r],i.s1)},I(e,s)}),[(0,o.fJ)(l.ACHIEVEMENT_DELETE)]:(0,i.rK)(E,i.hu.Delete,i.XP),[l.ACHIEVEMENT_UPDATE]:(0,i.rK)(E,i.hu.Update,i.J7),[(0,o.ok)(l.ACHIEVEMENT_UPDATE)]:(e,t)=>(0,s.Ay)(e,e=>{let{achievement:r,courseFoundationsId:s}=t;e.byId[r.id]={value:A(r),status:(0,i.Lx)(i.hu.Update,e.byId[r.id],i.U8)},I(e,s)}),[(0,o.fJ)(l.ACHIEVEMENT_UPDATE)]:(0,i.rK)(E,i.hu.Update,i.XP)}),_={loadAchievementsByQuery:e=>(0,o.Vy)(l.ACHIEVEMENTS_LOAD,async()=>{try{return{data:await (0,a.h9)(e),query:e}}catch(t){throw new o.GS(t).setData({query:e})}},{data:{query:e},condition:p}),loadAchievement:(e,t)=>(0,o.Vy)(l.ACHIEVEMENT_LOAD,async()=>{try{let r=await (0,a.QG)(e,t);return{courseFoundationsId:e,achievementId:r.id,achievement:r}}catch(r){throw new o.GS(r).setData({courseFoundationsId:e,achievementId:t})}},{data:{courseFoundationsId:e,achievementId:t},condition:m}),createAchievement:(e,t)=>(0,o.Vy)(l.ACHIEVEMENT_CREATE,async()=>{let r=await (0,a.Ab)(e,t);return{courseFoundationsId:e,achievementId:r.id,achievement:r}}),deleteAchievement:(e,t)=>(0,o.Vy)(l.ACHIEVEMENT_DELETE,async()=>{try{return await (0,a.dy)(e,t),{courseFoundationsId:e,achievementId:t}}catch(r){throw new o.GS(r).setData({courseFoundationsId:e,achievementId:t})}},{data:{courseFoundationsId:e,achievementId:t},condition:g}),updateAchievement:(e,t,r)=>(0,o.Vy)(l.ACHIEVEMENT_UPDATE,async()=>{try{let s=await (0,a.$U)(e,t,r);return{courseFoundationsId:e,achievementId:t,achievement:s}}catch(r){throw new o.GS(r).setData({courseFoundationsId:e,achievementId:t})}},{data:{courseFoundationsId:e,achievementId:t},condition:y})},b={getAchievementsByQuery:(0,n.Mz)([e=>e.achievement,(e,t)=>t],(e,t)=>{let{view:r}=d(e,t);return r?(r.values||[]).map(t=>e.byId[t]).filter(e=>(null==e?void 0:e.value)&&(null==e?void 0:e.status.status)!=="deleted").map(e=>e.value):[]}),getAchievementsViewByQuery:(0,n.Mz)([e=>e.achievement,(e,t)=>t],(e,t)=>{let{view:r}=d(e,t);return r||null}),getAchievementById:(e,t)=>{var r;return null==(r=e.achievement.byId[t])?void 0:r.value},getAchievementStatusById:(e,t)=>{var r;return null==(r=e.achievement.byId[t])?void 0:r.status}}},906933:(e,t,r)=>{"use strict";r.d(t,{k:()=>o});let s="create-coverage-report",n="create-performance-report",o={CREATE_COVERAGE_REPORT:s,VIEW_COVERAGE_REPORT:`${s}.view-report`,CREATE_PERFORMANCE_REPORT:n,VIEW_PERFORMANCE_REPORT:`${n}.view-report`}},909892:(e,t,r)=>{"use strict";r.d(t,{o1:()=>m,Ff:()=>p,Lt:()=>g});var s=r(905898),n=r(43375),o=r(368737),i=r(968554),a=r(633666),l=r(566416),u=r(818339);let d={USER_LOAD:"user.load",USER_LOAD_ME:"user.load.me",USER_LOAD_EMAIL_VALIDATION_DETAILS:"user.load.email.validation.details",SET_EMAIL_VALIDATION_STATUS:"user.email.validation.status"},c=(e,t)=>(0,s.Ay)(e,r=>{for(let[s,n]of Object.entries(t.users))r.byId[s]={...e.byId[s],...n}});function E(e,t){return t.forEach(t=>{let{memberships:r}=t;r&&r.forEach(t=>{let{user:r}=t;r&&(e=(0,s.Ay)(e,e=>{e.byId[r.id]=r}))})}),e}let p=(0,i.vy)({byId:{},isLoading:!1},{[d.USER_LOAD]:i.r1,[(0,i.ok)(d.USER_LOAD)]:(e,t)=>{let{user:r}=t,n=e;return r&&(n=(0,s.Ay)(e,e=>{e.byId[r.id]=r})),(0,i.Zg)(n,t)},[(0,i.ok)(l.g.COURSE_MEMBERSHIP_LOAD)]:(e,t)=>{let{data:r}=t;if(!r.user)return e;let{user:n}=r;return(0,s.Ay)(e,e=>{e.byId[n.id]=n})},[(0,i.ok)(l.g.COURSE_MEMBERSHIPS_LOAD)]:(e,t)=>{let{data:r}=t;if(!r.users)return e;let{users:n}=r;return(0,s.Ay)(e,e=>{Object.keys(n).forEach(t=>{e.byId[t]=n[t]})})},[(0,i.fJ)(d.USER_LOAD)]:i.Nh,[(0,i.ok)(n.A.GROUPS_LOAD_BY_CONTENT_ID)]:(e,t)=>{let{groups:r}=t;return r&&(e=E(e,Object.values(r))),e},[(0,i.ok)(n.A.GROUPS_LOAD_BY_CONTENT_ID_AND_QUERY)]:(e,t)=>{let{data:r}=t;if(!r)return e;let s=Object.values(r.groups);return s&&(e=E(e,s)),e},[(0,i.ok)(o.g.BLOG_PARTICIPANTS_LOAD)]:(e,t)=>{let r=(0,s.Ay)(e,e=>{let{byCourseMembershipId:r}=t.data;r&&Object.keys(r||{}).forEach(t=>{let s=r[t].user;s&&(e.byId[s.id]=s)})});return(0,i.Zg)(r,t)},[(0,i.ok)(u.g.COMPLETED_DELEGATED_ATTEMPT_GRADE_BY_GRADER_LOAD)]:c,[(0,i.ok)(u.g.COMPLETED_DELEGATED_ATTEMPT_GRADE_ON_ATTEMPT_LOAD)]:c,[d.USER_LOAD_ME]:i.r1,[(0,i.ok)(d.USER_LOAD_ME)]:(e,t)=>{let{user:r}=t,n=e;return r&&(n=(0,s.Ay)(e,e=>{e.current=r,e.byId[r.id]=r})),(0,i.Zg)(n,t)},[(0,i.fJ)(d.USER_LOAD_ME)]:i.Nh,[d.SET_EMAIL_VALIDATION_STATUS]:(e,t)=>{let{status:r}=t;return(0,s.Ay)(e,e=>{e.emailValidationStatus=r})}}),m={loadUser:e=>(0,i.VP)(d.USER_LOAD,t=>{var r,s;return(r=t(),s=e,g.getUserById(r,s))?Promise.resolve(null):(0,a.i)(e).then(e=>({user:e}))}),loadCurrentUser:()=>(0,i.Vy)(d.USER_LOAD_ME,async()=>{try{return{user:await (0,a.i)("me")}}catch(e){throw new i.GS(e)}},{condition:(e,t)=>{var r;return r=t.getState(),!g.getCurrentUser(r)}}),setUserInStore:e=>(0,i.rc)((0,i.ok)(d.USER_LOAD_ME),{user:e}),getUserEmailValidationDetails:e=>(0,i.Vy)(d.USER_LOAD_EMAIL_VALIDATION_DETAILS,async()=>await (0,a.d)(e)),setEmailValidness:e=>(0,i.rc)(d.SET_EMAIL_VALIDATION_STATUS,{status:e})},g={getUserById:(e,t)=>e.user.byId[t],getUsersByIds:(e,t)=>{let r={};return t.forEach(t=>{e.user.byId[t]&&(r[t]=e.user.byId[t])}),r},getCurrentUser:e=>e.user.current,getEmailValidationStatus:e=>e.user.emailValidationStatus}},910685:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});let s=r(407659).wA},911332:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});let s={FILE_UPLOAD_SETTINGS_LOAD:"file-upload-settings.load"}},911620:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var s=r(611960);class n{static isMathJaxValid(e){return!!((null==e?void 0:e.tex2chtml)&&(null==e?void 0:e.chtmlStylesheet)&&(null==e?void 0:e.typesetPromise))}static delay(e){return new Promise(t=>{setTimeout(t,e)})}static async loadMathJax(){if(this.mathjaxLoadPromise)return this.mathjaxLoadPromise;if(!this.configInitialized){let e=window;e.MathJax={...e.MathJax,chtml:{fontURL:"./static/MathJax/fonts/woff-v2"},startup:{typeset:!1}},this.configInitialized=!0}return this.mathjaxLoadPromise=this.loadMathJaxWithRetry().then(e=>{if(!this.isMathJaxValid(e))throw Error("MathJax core functions not available after load");return e}).catch(e=>{throw this.mathjaxLoadPromise=null,Error(`Failed to initialize MathJax: ${e instanceof Error?e.message:String(e)}`,{cause:e})}),this.mathjaxLoadPromise}static async renderMathWithMathJax(e,t){if(!e)throw Error("Invalid element: no element provided",{cause:Error("No element provided")});try{let r=e.querySelector("math"),s=e.querySelector('math annotation[encoding="LaTeX"]');if(!r||!(null==s?void 0:s.textContent)){let e=Error("Missing required elements");throw Error("Invalid math content structure: missing required elements",{cause:e})}let n=s.textContent.trim();s.remove();let[o,i]=await Promise.all([this.loadMathJax(),this.getAltText(r,t).catch(e=>`alt text error ${e instanceof Error?e.message:String(e)}`)]);await o.typesetPromise([r]);let a=o.tex2chtml(n);o.chtmlStylesheet(),this.updateDOMWithAccessibility(e,a,i)}catch(e){throw Error(`Failed to render mathematical expression: ${e instanceof Error?e.message:String(e)}`,{cause:e})}}static updateDOMWithAccessibility(e,t,r){let s=t.querySelector("mjx-math");if(!s)throw Error("No math content found in the rendered output");let n=document.createElement("div"),o=document.createElement("span");n.className="math-wrapper",o.className="sr-only",o.textContent=r,s.setAttribute("aria-hidden","true"),n.append(o,s),t.replaceChildren(n),e.replaceChildren(t)}static serializeMathML(e){if(!e.hasAttribute("display"))return e.outerHTML;let t=e.getAttribute("display");e.removeAttribute("display");let r=e.outerHTML;return e.setAttribute("display",t),r}static getAltText(e,t){if(!e)throw Error("Invalid mathElement provided for alt text generation",{cause:Error("Invalid element")});try{let r=this.serializeMathML(e),s=this.altTextCache.get(r);return s||(s=this.fetchAltText(r,t),this.altTextCache.set(r,s)),s}catch(e){throw Error(`Failed to generate alt text: ${e instanceof Error?e.message:String(e)}`,{cause:e})}}static async fetchAltText(e,t){var r,n;try{let o=new URLSearchParams({service:"mathml2accessible",mml:e,lang:t||"en"}),i=await fetch((0,s.xA)("/webapps/vtbe-tinymce/app/service"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o});if(!i.ok)throw Error(`Server returned ${i.status} ${i.statusText}`);let a=await i.json();if(!(a&&"object"==typeof a&&"status"in a&&"ok"===a.status&&"result"in a&&"object"==typeof a.result&&null!==a.result&&"text"in a.result&&"string"==typeof a.result.text||a&&"object"==typeof a&&"status"in a&&"error"===a.status&&"errors"in a&&Array.isArray(a.errors)&&a.errors.every(e=>"string"==typeof e)))throw Error("Invalid response format: Response does not match expected structure");if("error"===a.status&&(null==(r=a.errors)?void 0:r.length)){let e=Error(a.errors[0]);throw Error(`Server error: ${a.errors[0]}`,{cause:e})}if("ok"!==a.status||!(null==(n=a.result)?void 0:n.text))throw Error("Invalid server response format for alt text");return a.result.text}catch(e){throw Error(`Failed to fetch alt text: ${e instanceof Error?e.message:String(e)}`,{cause:e})}}static async loadMathJaxWithRetry(e=1){try{await r.e(35814).then(r.t.bind(r,435814,23));let e=window;if(e.MathJax)return e.MathJax;throw Error("MathJax core functions not available after load")}catch(t){if(e<this.MAX_RETRIES)return await this.delay(this.RETRY_DELAY),this.loadMathJaxWithRetry(e+1);throw Error(`Failed to load MathJax script after ${e} attempts: ${t instanceof Error?t.message:String(t)}`,{cause:t})}}}n.MAX_RETRIES=4,n.RETRY_DELAY=100,n.CHECK_INTERVAL=500,n.mathjaxLoadPromise=null,n.altTextCache=new Map,n.configInitialized=!1},912991:(e,t,r)=>{"use strict";r.d(t,{o1:()=>m,Ff:()=>p,Lt:()=>g});var s=r(905898),n=r(645250),o=r(397965);async function i(e){return null==e.locale&&(e.locale="en_US"),(0,o.Jt)((0,o.c$)("/v1/locales/%locale%?exactMatch=false",e))}var a=r(608719),l=r(758247),u=r(968554);let d={LOCALE_SETTINGS_LOAD:"locale.load"};var c=r(44564),E=r(456585);let p=(0,u.vy)({byLocale:{},isLoading:!1},{[d.LOCALE_SETTINGS_LOAD]:(e,t)=>(0,u.r1)(e,t),[(0,u.ok)(d.LOCALE_SETTINGS_LOAD)]:(e,t)=>{let r=(0,s.Ay)(e,e=>{let{localeSettings:r}=t;e.byLocale[r.languageTag]=r});return(0,u.Zg)(r,t)},[(0,u.fJ)(d.LOCALE_SETTINGS_LOAD)]:(e,t)=>(0,u.Nh)(e,t),[(0,u.cw)(d.LOCALE_SETTINGS_LOAD)]:(e,t)=>(0,u.Zg)(e,t)}),m={getLocaleSettings:e=>(0,u.RA)((t,r)=>!function(e,t){return n.isEmpty(g.getLocaleSettings(e,t))&&!g.isLocaleLoading(e)}(r(),e.locale)?Promise.resolve(null):(t((0,u.rc)(d.LOCALE_SETTINGS_LOAD)),i(e).then(e=>(e&&(e.calendar.firstDayOfWeek=a.oJL[e.calendar.firstDayOfWeek]),t((0,u.rc)((0,u.ok)(d.LOCALE_SETTINGS_LOAD),{localeSettings:e})),{localeSettings:e})).catch(e=>{let r=(0,c.xt)(e);(0,E.r)(r,[a.t3V.NotFound])?t((0,u.rc)((0,u.cw)(d.LOCALE_SETTINGS_LOAD))):(t((0,u.rc)((0,u.fJ)(d.LOCALE_SETTINGS_LOAD),e)),t((0,u.rc)((0,u.ok)(l.A.APP_ERROR),{error:e})))})))},g={getLocaleSettings:(e,t)=>n.get(e,["locale","byLocale",t],{}),isLocaleLoading:e=>n.get(e,["locale","isLoading"])}},914059:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>O});var s=r(514041),n=r(757536),o=r(241101),i=r(821793),a=r(663445),l=r(494351),u=r(689133),d=r(257500),c=r(139342),E=r(3103),p=r(979271),m=r(972306),g=r(216693),y=r(889749);let I="editAttachment",A="attachment",h=[`[data-bbtype=${A}][data-bbfile]`,"[data-bbfile]:not([data-bbtype])"],_="bb-edit-attachment-remove",b="bb-edit-attachment-reupload",S=e=>{var t;let r,o,a,{editorProps:l,values:u,node:d,pluginConfig:E}=e,[I,A]=(0,s.useState)(u),h=s.useMemo(()=>JSON.parse(I.bbfile),[I.bbfile]),{href:S,metadata:T}=(0,i.A)(I.href,h);T.width&&T.height&&(r=T.width,o=T.height);let O=(0,c.Trf)(h);!(0,c.ua0)(O)||r&&o?(0,c.AER)(O)&&!l.isReadOnly&&(a={controls:!1,tabIndex:0}):a={className:"image--default"};let v=async e=>{var t,r;let s=await (0,y.Ay)(e);null==(t=l.onNewAttachmentSavePressed)||t.call(l),null==(r=l.onNewAttachmentCallback)||r.call(l),d.dispatchEvent(new CustomEvent(b,{detail:{file:s[0]}}));let n=JSON.stringify(s[0].bbfile);A(e=>({...e,bbfile:n}))},f=(null==E?void 0:E.supportsInlineDocumentRender)&&(null==(t=null==E?void 0:E.fileUploadSettings)?void 0:t.supportsInlineRender),C=(0,p.Y)(S,T,{supportsInlineDocumentRender:f}),[R,D]=(0,s.useState)(!1),L={file:C,readOnly:l.isReadOnly||l.isDisabled,showContextMenu:l.isReadOnly&&!l.isDisabled,onDelete:()=>d.dispatchEvent(new CustomEvent(_)),expandInlineFilesOnLoad:l.expandInlineFilesOnLoad,supportsInlineDocumentRender:f,customWidget:null==E?void 0:E.customWidget,inlineMediaAdditionalAttributes:a,onDownloadTriggered:()=>D(!0),onReuploadFiles:function(){v({...E,apiBasePath:g.$WB.apiBasePath,xsrfToken:g.$WB.xsrf,multiple:!1,localeProps:l.localize.getLocalePropsForClone()})}};return s.createElement(s.Fragment,null,s.createElement(n.h,{fileViewerProps:L,ally:l.ally,rootContentId:l.rootContentId}),s.createElement(m.U,{bbfile:h,plugins:l.plugins,downloaded:R}))};function T(e,t){let r=JSON.parse(t.bbfile);return`<a href="${t.href}" data-bbtype="${A}" data-bbfile="${(0,o.Ay)(t.bbfile)}">${r.linkName||r.alternativeText}</a>`}let O=e=>({pluginId:I,buttonConfig:{id:I,cssClass:I,iconName:"edit",iconComponent:l.f,isDialog:!0,isActive:e=>!!e[u.yx.type],onClick:({showModal:t,editorFormat:r,...s})=>{let n=JSON.parse(r[A].bbfile);t(a.A,{isEdit:!0,editorFormat:r,file:n,...e,...s,href:r[A].href})}},matchers:h,module:E.G,formatter:(e=>({type:"embed",blotName:A,tagName:"div",attributes:{"data-bbtype":I,"data-bbfile":null,href:null},renderDomNode:(0,d.N)({processValues:e=>{let t,r=JSON.parse(e.bbfile),{href:s,metadata:n}=(0,i.A)(e.href,r),o=(0,c.Trf)(r);return((0,c.AER)(o)||(0,c.ua0)(o)&&(0,c.ZpP)(r))&&!(0,c.lcq)(r)&&(t=["bb-file","ql-embed-selected--hidden"]),{...e,href:s,bbfile:JSON.stringify({...n,render:r.render||r.displayInline?n.render:void 0}),additionalRootClasses:t}},component:t=>s.createElement(S,{...t,pluginConfig:e}),onUnmountComponent:e=>{e.removeEventListener(_,e.customDeleteEventHandler),e.removeEventListener(b,e.customReuploadEventHandler)}}),onBlotInit:(e,t)=>{e.customDeleteEventHandler=()=>t.remove(),e.addEventListener(_,e.customDeleteEventHandler),e.customReuploadEventHandler=r=>{let s=JSON.stringify(r.detail.file.bbfile);e.dataset.bbfile=s,t.domNode.setAttribute("data-bbfile",s),t.domNode.setAttribute("href",r.detail.file.href)},e.addEventListener(b,e.customReuploadEventHandler)}}))(e),toBbML:T})},914752:(e,t,r)=>{"use strict";r.d(t,{YB:()=>o,Zk:()=>s,cG:()=>n,cI:()=>a,yS:()=>i});let s=(e,t)=>e.toLowerCase().startsWith("ar-sa")&&t,n=(e,t,r,n,o,i)=>{s(o,i)&&(e=e.replace(/,/g,""));let a=n(e.substring(t,e.length-r));return 1===t&&(a*=-1),{value:a,integerString:e}},o=(e,t)=>{if(e.charAt(e.length-1)===t){let r=e.match(RegExp(`\\${t}`,"g"));return r&&r.length<=1}return!1},i=e=>{let t=0;for(;t<e.length&&[8207,8206,1564].includes(e.charCodeAt(t));)t+=1;return e.substring(t)},a=e=>45===e.charCodeAt(0)||8722===e.charCodeAt(0)},915456:(e,t,r)=>{"use strict";r(781384),r(56684).Ex,r(542633)},915459:(e,t,r)=>{"use strict";r.d(t,{c1:()=>s,dL:()=>E});var s,n=r(514041),o=r(309546),i=r(644736),a=r(395981),l=r(745304),u=r(694133),d=r(877973);!function(e){e.Down="down",e.Right="right"}(s||(s={}));let c=(0,d.n9)(e=>({container:{padding:"0 16px",display:"none",[e.breakpoints.up("sm")]:{display:"flex"}},alwaysVisible:{display:"flex"},smallAndMediumOnlyContainer:{display:"flex",[e.breakpoints.up("md")]:{display:"none"}},chevron:{transition:"color 250ms cubic-bezier(0.55, 0, 0.1, 1), transform 250ms cubic-bezier(0.55, 0, 0.1, 1)",color:e.palette.text.secondary,"&:hover":{color:e.palette.action.active}}})),E=e=>{let{open:t,hideOnDesktop:r,useSmallIcon:d,alwaysVisible:E,className:p,orientation:m}=e,g=c(e),y=(e=s.Down,r)=>{if(e===s.Right){let e=r?u.D:l.c;return n.createElement(e,{className:g.chevron,style:{...t&&{transform:"rotate(90deg)"}},isDirectional:!0})}let o=r?a.b:i.y;return n.createElement(o,{className:g.chevron,style:{...t&&{transform:"rotate(180deg)"}},isDirectional:!1})};return n.createElement("div",{className:(0,o.A)(g.container,r&&g.smallAndMediumOnlyContainer,E&&g.alwaysVisible,p)},y(m,d))}},916455:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});class s extends Error{get statusCode(){return this.status}get responseMessage(){return this.response}constructor(e,t,r){super(`HTTP ${t}: ${r}`),this.response=e,this.status=t,Object.setPrototypeOf(this,new.target.prototype)}}},919985:(e,t,r)=>{"use strict";r.d(t,{A:()=>u,x:()=>s});var s,n=r(514041),o=r(579605),i=r(577773),a=r(951777),l=r(802928);!function(e){e[e.ScoreIndicator=0]="ScoreIndicator",e[e.AlternativeFormats=1]="AlternativeFormats"}(s||(s={}));let u=({contentRef:e,widgetType:t,text:r,ariaLabel:u,iconSize:d})=>{let c={"data-ally-content-ref":e},E={},p=n.useRef(null),m=n.useRef(null),g="components.directives.allyWidget";u&&(E["aria-label"]=u),r||(E.style={width:"100%"}),E.style={display:"none"};let y=(0,l.useAnalyticsAugmentEventOnElement)(l.AnalyticsEventTypes.CLICK_EVENT,()=>{},g+".score"),I=n.useCallback(e=>{y(e)},[y]),A=(0,l.useAnalyticsAugmentEventOnElement)(l.AnalyticsEventTypes.HOVER_EVENT,()=>{},g+".score"),h=n.useCallback(e=>{A(e)},[A]),_=(0,l.useAnalyticsAugmentEventOnElement)(l.AnalyticsEventTypes.CLICK_EVENT,()=>{},g+".alternative"),b=n.useCallback(e=>{_(e)},[_]),S=(0,l.useAnalyticsAugmentEventOnElement)(l.AnalyticsEventTypes.HOVER_EVENT,()=>{},g+".alternative"),T=n.useCallback(e=>{S(e)},[S]),O=n.useCallback(e=>{p.current&&p.current.removeEventListener("click",I),e&&e.addEventListener("click",I,!0),p.current=e},[I]),v=n.useCallback(e=>{m.current&&m.current.removeEventListener("click",b),e&&e.addEventListener("click",b,!0),m.current=e},[b]);switch(n.useEffect(()=>()=>{p.current&&p.current.removeEventListener("click",I),m.current&&m.current.removeEventListener("click",b)},[I,b]),t){case s.ScoreIndicator:if(c["data-ally-invoke"]="instructorfeedback",c["data-ally-show"]="instructorfeedback",!r)return n.createElement("span",{...c,...E,"data-ally-scoreindicator":"circle",ref:O,onMouseOver:h,"data-analytics-id":g+".score",onKeyDown:e=>{"Space"===e.code&&e.target.dispatchEvent(new Event("click"))}});break;case s.AlternativeFormats:if(c["data-ally-invoke"]="alternativeformats",c["data-ally-show"]="alternativeformats",u&&(c["data-ally-tooltip"]="",E.title=u),!r)return n.createElement("button",{...c,...E,ref:v,onMouseOver:T,"data-analytics-id":g+".alternative"},"medium"===d?n.createElement(i.j,{id:"icon-solid-medium-ally-download"}):n.createElement(o.j,{id:"icon-solid-small-ally-download"}))}return n.createElement(a.T,{...E,...c,analyticsId:"components.directives.allyWidget.link"},r)}},921266:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(745341);class n extends s.A{static create(){return document.createElement(n.tagName)}static formats(){return n.tagName}}n.createChange=(e=!0)=>({format:{subscript:!1,superscript:e}}),n.blotName="superscript",n.tagName="sup";let o=n},921776:(e,t,r)=>{"use strict";r.d(t,{e:()=>o});var s=r(608719),n=r(825271);async function o(e){let{courseId:t,limit:r,offset:o}=e,{paging:i,permissions:a,results:l}=await (0,s.p9E)(n.dZ,t,{limit:r,offset:o});return{paging:i,permissions:a,questionTagIds:l.map(e=>e.id),questionTags:Object.assign({},...l.map(e=>({[e.id]:e})))}}},923471:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});var s=r(608719),n=r(827618),o=r(225648);function i(e){return e.taskStatus===s.rw8.Complete&&!!e.results}class a{constructor(e,t,r,a){this.taskId=e,this.fetchTask=t,this.cancelImmediateTask=a,this.abortSignal=r;let l=(0,o.w)(async()=>{let e=await this.fetchTask(this.taskId);if(function(e){return e.taskStatus===s.rw8.CompleteErrors||e.taskStatus===s.rw8.Incomplete||e.taskStatus===s.rw8.Complete&&!e.results}(e))throw Error("Unable to complete task");return e},i,{signal:this.abortSignal});this.fetchPromise=l.then(e=>e.results).catch(e=>{var t;if(e instanceof DOMException&&"AbortError"===e.name)throw null==(t=this.cancelImmediateTask)||t.call(this,this.taskId).catch(e=>{console.error("Failed to cancel task",e)}),new n.l(this.abortSignal);throw e})}get promise(){return this.fetchPromise}}},928617:(e,t,r)=>{var s={"./ar-sa/_combined":[572265,57608],"./ar-sa/_combined.json":[572265,57608],"./az-az/_combined":[687370,5177],"./az-az/_combined.json":[687370,5177],"./cs-cz/_combined":[910387,62250],"./cs-cz/_combined.json":[910387,62250],"./cy-gb/_combined":[122469,74324],"./cy-gb/_combined.json":[122469,74324],"./da-dk/_combined":[116848,36399],"./da-dk/_combined.json":[116848,36399],"./de-de/_combined":[300358,5021],"./de-de/_combined.json":[300358,5021],"./en-au/_combined":[440959,26726],"./en-au/_combined.json":[440959,26726],"./en-gb/_combined":[457464,46063],"./en-gb/_combined.json":[457464,46063],"./en-us-k12/_combined":[883354,29433],"./en-us-k12/_combined.json":[883354,29433],"./en-us-pro/_combined":[130527,38582],"./en-us-pro/_combined.json":[130527,38582],"./en-us/_combined":[172845,72845],"./en-us/_combined.json":[172845,72845],"./en/_combined":[684056,81543],"./en/_combined.json":[684056,81543],"./es-es/_combined":[959112,36983],"./es-es/_combined.json":[959112,36983],"./fr-ca/_combined":[588064,48199],"./fr-ca/_combined.json":[588064,48199],"./fr-fr/_combined":[715080,25495],"./fr-fr/_combined.json":[715080,25495],"./he-il/_combined":[791240,89223],"./he-il/_combined.json":[791240,89223],"./it-it/_combined":[76270,1541],"./it-it/_combined.json":[76270,1541],"./ja-jp/_combined":[304709,87692],"./ja-jp/_combined.json":[304709,87692],"./ko-kr/_combined":[31263,58102],"./ko-kr/_combined.json":[31263,58102],"./ms-my/_combined":[869734,54381],"./ms-my/_combined.json":[869734,54381],"./nb-no/_combined":[517219,96226],"./nb-no/_combined.json":[517219,96226],"./nl-nl/_combined":[889988,28795],"./nl-nl/_combined.json":[889988,28795],"./nn-no/_combined":[873455,89022],"./nn-no/_combined.json":[873455,89022],"./pl-pl/_combined":[509276,48515],"./pl-pl/_combined.json":[509276,48515],"./pt-br/_combined":[645448,3935],"./pt-br/_combined.json":[645448,3935],"./pt-pt/_combined":[659228,65763],"./pt-pt/_combined.json":[659228,65763],"./ru-ru/_combined":[810510,2565],"./ru-ru/_combined.json":[810510,2565],"./sv-se/_combined":[820348,93950],"./sv-se/_combined.json":[820348,93950],"./th-th/_combined":[988692,16731],"./th-th/_combined.json":[988692,16731],"./tr-tr/_combined":[374120,71287],"./tr-tr/_combined.json":[374120,71287],"./uk-ua/_combined":[28486,62509],"./uk-ua/_combined.json":[28486,62509],"./zh-cn/_combined":[274215,87214],"./zh-cn/_combined.json":[274215,87214],"./zh-tw/_combined":[776875,88514],"./zh-tw/_combined.json":[776875,88514]};function n(e){if(!r.o(s,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=s[e],n=t[0];return r.e(t[1]).then(()=>r.t(n,17))}n.keys=()=>Object.keys(s),n.id=928617,e.exports=n},930203:(e,t,r)=>{"use strict";r(56684).FK,r(542633)},933816:(e,t,r)=>{"use strict";r(542633),r(294851)},933898:(e,t,r)=>{"use strict";r.d(t,{o1:()=>l,Ff:()=>a});var s=r(905898),n=r(968554),o=r(102806);let i={THEME_CREATE:"theme.create",THEME_DELETE:"theme.delete"},a=(0,n.vy)({themes:{byId:{}},paging:null,isLoading:!1},{[(0,n.ok)(i.THEME_CREATE)]:(e,t)=>{let r={...t.theme,api:{isUpdating:!1,isDeleting:!1}};return(0,s.Ay)(e,e=>{e.themes.byId[r.id]=r})},[(0,n.fJ)(i.THEME_CREATE)]:n.Nh,[i.THEME_DELETE]:(e,t)=>(0,s.Ay)(e,e=>{e.themes.byId[t.id].api.isDeleting=!0}),[(0,n.ok)(i.THEME_DELETE)]:(e,t)=>(0,s.Ay)(e,e=>{delete e.themes.byId[t.id]}),[(0,n.fJ)(i.THEME_DELETE)]:(e,t)=>{let r=(0,s.Ay)(e,e=>{e.themes.byId[t.id].api.isDeleting=!1});return(0,n.Nh)(r,t)}}),l={createTheme:e=>(0,n.VP)(i.THEME_CREATE,()=>(0,o.an)(e).catch(e=>{throw{err:e}})),deleteTheme:e=>(0,n.VP)(i.THEME_DELETE,()=>(0,o.vc)(e).then(()=>({id:e})).catch(e=>{throw{err:e}}),{id:e})}},935025:(e,t,r)=>{"use strict";r(295124)},939504:(e,t,r)=>{"use strict";r.d(t,{o1:()=>y,Ff:()=>g,Lt:()=>A});var s=r(645250),n=r.n(s),o=r(905898),i=r(839781),a=r(139552),l=r(443873),u=r(732583),d=r(968554);let c={STUDENT_ACTIVITY_LOG_LOAD:"studentActivityLog.load"};var E=r(750609);let p=e=>["views","byCourseId",e.courseId],m=(e,t)=>{if(!t)return d.Vc;let r=e.views.byCourseId[t.courseId]||{},s=Object.keys(r).find(e=>{let s=r[e];return n().isEqual(s.query,t)});return s?{id:s,view:r[s]}:d.Vc},g=(0,d.vy)({byId:{},views:{byCourseId:{}}},{[c.STUDENT_ACTIVITY_LOG_LOAD]:(0,d.Dh)(m,p),[(0,d.ok)(c.STUDENT_ACTIVITY_LOG_LOAD)]:(e,t)=>{if(!(null==t?void 0:t.data))return(0,d.Zg)(e,t);let{studentActivityLogs:r,paging:s,permissions:n}=t.data,i=(0,o.Ay)(e,e=>{((e,t)=>{0!==Object.keys(t).length&&Object.keys(t).forEach(r=>{e.byId[r]={...e.byId[r],...t[r]}})})(e,r)});return(0,d.lY)(i,t,{viewResolver:m,viewsPathResolver:p,values:Object.keys(r),paging:s,permissions:n})},[(0,d.fJ)(c.STUDENT_ACTIVITY_LOG_LOAD)]:(0,d.To)(m,p)}),y={loadStudentActivityLogsByQuery:e=>(0,d.Vy)(c.STUDENT_ACTIVITY_LOG_LOAD,async()=>{try{return{data:await (0,E.K8G)(e),query:e}}catch(t){throw new d.GS(t).setData({query:e})}},{data:{query:e},condition:(t,{getState:r})=>((e,t)=>{let{view:r}=m(e.studentActivityLog,t);return!r||!r.isLoading&&!r.isValid})(r(),e)})},I=(0,a.Ad)(l.UI,u.Y_),A={getByLogId:(e,t)=>Object.values(e.studentActivityLog.byId).find(e=>e.id===t),getStudentActivityLogsByQuery:(0,i.n)((e,t)=>{let{view:r}=m(e.studentActivityLog,t);return r?(r.values||[]).map(t=>A.getByLogId(e,t)).filter(e=>!!e):null},e=>e),getStudentActivityLogViewStatusByQuery:I((e,t)=>{let{view:r}=m(e.studentActivityLog,t);return r?{isLoading:r.isLoading,isValid:r.isValid,paging:r.paging,permissions:r.permissions}:null},e=>e)}},941072:(e,t,r)=>{"use strict";r.d(t,{G2:()=>P,nk:()=>w,cN:()=>k,zx:()=>B,fn:()=>G,MA:()=>x,Tl:()=>V,e4:()=>q,Dv:()=>M,ph:()=>U,VU:()=>eo,kL:()=>en,We:()=>et,j6:()=>es,Af:()=>ee,$t:()=>er,Hk:()=>X});var s=r(992227),n=r(542633);r(362420),r(332014),r(935539),r(828650);let o="Authorization";class i{constructor(e,t,r){this.pathParams={},this.session=void 0,this.method=e,this.path=t,this.query=new URLSearchParams,this.headers=new Headers,r&&this.withPathParams(r)}getRelativeUrl(){var e,t,r,n,o,i;let a=this.path;if(this.pathParams)for(let[e,t]of Object.entries(this.pathParams))a=a.replace(`%${e}%`,encodeURIComponent(t));if(a.includes("%tenantId%")){if(!(null==(t=null==(e=this.session)?void 0:e.foundationsTokenContext)?void 0:t.tenantId))throw new s.R("Request is missing required session value: [tenantId]");a=a.replace("%tenantId%",encodeURIComponent(this.session.foundationsTokenContext.tenantId))}if(a.includes("%personId%")){if(!(null==(n=null==(r=this.session)?void 0:r.foundationsTokenContext)?void 0:n.personId))throw new s.R("Request is missing required session value: [personId]");a=a.replace("%personId%",encodeURIComponent(this.session.foundationsTokenContext.personId))}let l=a.substring(1,a.indexOf("/",1));if(l&&(null==(i=null==(o=this.session)?void 0:o.foundationsTokenContext)?void 0:i.capabilities[l])){let e=this.session.foundationsTokenContext.capabilities[l];a=`/foundations/${e.region}/${e.stage}${a}`}let u=this.getQueryString();return u&&(a+=`?${u}`),a}getUrl(){return n.tU.getUrl(this.getRelativeUrl())}getQueryString(){return this.query.toString()}withPathParams(e){return Object.assign(this.pathParams,null!=e?e:{}),this}withQuery(e){for(let[t,r]of Object.entries(e))Array.isArray(r)?this.query.set(t,r.join(",")):void 0!==r&&this.query.set(t,String(r));return this}withQueryParams(e){return this.withQuery(e)}withExpand(...e){return this.withQuery({expand:e})}getSession(){return this.session}withSession(e){var t;return this.session=e,(null==(t=e.foundationsToken)?void 0:t.accessToken)&&this.headers.set(o,`Bearer ${e.foundationsToken.accessToken}`),e.cookies&&this.headers.set("Cookie",e.cookies),this}requiresSession(){return!1}validate(){return Promise.resolve().then(async()=>{var e,t;if(this.requiresSession()){if(!this.session)throw new s.R("Request requires session but no session info was added");if(!this.session.fetchFoundationsToken)throw new s.R("Request session is invalid, unable to fetch Foundations Token");if(this.session=await this.session.fetchFoundationsToken(),!this.session.fetchFoundationsContext)throw new s.R("Request session is invalid, unable to fetch Foundations Context");if(this.session=await this.session.fetchFoundationsContext(),!(null==(e=this.session.foundationsToken)?void 0:e.accessToken))throw new s.R("Request requires authorization via the Foundations JWT but no token was found");this.headers.set(o,`Bearer ${this.session.foundationsToken.accessToken}`)}let r=(null!=(t=this.path.match(/%\w+%/g))?t:[]).map(e=>e.slice(1,-1)).filter(e=>"tenantId"!==e&&"personId"!==e&&!this.pathParams[e]);if(r.length>0)throw new s.R(`Request is missing required path params: [${r}]`)})}async failed(e){throw new s.o(await e.json())}getRequestInit(){return{credentials:"same-origin",method:this.method,headers:this.headers}}toRequest(e){return new Request(null!=e?e:this.getUrl(),this.getRequestInit())}toString(){return`[FoundationsRequest: ${this.method} ${this.getUrl()}]`}}r(362420),r(332014),r(935539),r(828650);class a extends i{getUrl(){return n.tU.getUrl(super.getRelativeUrl())}requiresSession(){return!0}toString(){return`[FoundationsApiRequest: ${this.method} ${this.getUrl()}]`}async failed(e){throw new s.o(await e.json())}}class l extends a{constructor(e,t,r){super(e,t,r),this.getContentType()&&this.headers.set("Content-Type",this.getContentType())}getRequestInit(){return Object.assign(super.getRequestInit(),{body:this.getBodyInit()})}withBody(e){return this.body=e,this}validate(){return super.validate().then(()=>{if(void 0===this.body)throw new s.R("Request requires a body but none was provided")})}getBody(){return this.body}}class u extends l{getContentType(){return"application/json"}getBodyInit(){return JSON.stringify(this.body)}}class d extends a{constructor(e,t){super(n.ym.Get,e,t)}}class c extends d{withPaging(e){return this.withQuery({limit:e.limit,lastEvaluatedKey:e.lastEvaluatedKey})}async validate(){await super.validate(),this.query.has("limit")||this.query.has("cursor")||console.warn(`Attempting to get paged collection at ${this.path} without a filter, this might be a performance issue.`)}}class E extends a{constructor(e,t){super(n.ym.Delete,e,t)}}class p extends u{constructor(e,t){super(n.ym.Patch,e,t)}}class m extends u{constructor(e,t){super(n.ym.Post,e,t)}}r(362420),r(332014),r(935539),r(828650),r(362420),r(332014),r(935539),r(828650),r(362420),r(332014),r(935539),r(828650),r(362420),r(332014),r(935539),r(828650),r(362420),r(332014),r(935539),r(828650);let g="/lms-achievements/api/v1/tenants/%tenantId%/courses/%courseFoundationsId%",y=`${g}/achievements`,I=`${y}/%achievementId%`,A=`${y}/memberships/count`,h=`${I}/memberships`,_=`${h}/%membershipFoundationsId%`,b=`${g}/memberships/%membershipFoundationsId%/achievements`;class S extends d{constructor(e){super(y,e)}}class T extends m{constructor(e){super(y,e)}}class O extends E{constructor(e){super(I,e)}}class v extends d{constructor(e){super(I,e)}}class f extends p{constructor(e){super(I,e)}}class C extends d{constructor(e){super(A,e)}}class R extends c{constructor(e){super(h,e)}}class D extends d{constructor(e){super(b,e)}}class L extends d{constructor(e){super(_,e)}}class N extends p{constructor(e){super(_,e)}}async function U(e,t){let r=new S({courseFoundationsId:t}).withSession(e);return(0,n.w)(r)}async function P(e,t,r){let s=new T({courseFoundationsId:t}).withSession(e).withBody(r);return(0,n.w)(s)}async function w(e,t,r){let s=new O({courseFoundationsId:t,achievementId:r}).withSession(e);await (0,n.S2)(s)}async function k(e,t,r){let s=new v({courseFoundationsId:t,achievementId:r}).withSession(e);return(0,n.w)(s)}async function M(e,t,r,s){let o=new f({courseFoundationsId:t,achievementId:r}).withSession(e).withBody(s);return(0,n.w)(o)}async function B(e,t){let r=new C({courseFoundationsId:t}).withSession(e);return(0,n.w)(r)}async function G(e,t,r,s){let o=new L({courseFoundationsId:t,achievementId:r,membershipFoundationsId:s}).withSession(e);return(0,n.w)(o)}async function x(e,t,r,s,o){let i=new N({courseFoundationsId:t,achievementId:r,membershipFoundationsId:s}).withSession(e).withBody(o);return(0,n.w)(i)}async function V(e,t,r,s){let o=new R({courseFoundationsId:t,achievementId:r}).withSession(e);return s&&o.withPaging(s),(0,n.w)(o)}async function q(e,t,r){let s=new D({courseFoundationsId:t,membershipFoundationsId:r}).withSession(e);return(0,n.w)(s)}r(362420),r(332014),r(935539),r(828650),r(362420),r(332014),r(935539),r(828650);let F="/foundations/madras.us/dev/learner-progression/api/v1/tenants/%tenantId%/courses/%courseFoundationsId%/automations",K=`${F}/%automationId%`,j=`${F}/activity_logs`,H=`${K}/activity_logs`;class Y extends c{constructor(e){super(F,e)}}class Q extends d{constructor(e){super(K,e)}}class J extends m{constructor(e){super(F,e)}}class $ extends p{constructor(e){super(K,e)}}class z extends E{constructor(e){super(K,e)}}class W extends c{constructor(e){super(j,e)}}class Z extends d{constructor(e){super(H,e)}}async function X(e,t,r,s,o){let i=new Y({courseFoundationsId:t}).withSession(e);return o&&i.withPaging(o),i.withQueryParams({status:r,triggerType:s}),(0,n.w)(i)}async function ee(e,t,r){let s=new Q({courseFoundationsId:t,automationId:r}).withSession(e);return(0,n.w)(s)}async function et(e,t,r){let s=new J({courseFoundationsId:t}).withSession(e).withBody(r);return(0,n.w)(s)}async function er(e,t,r,s){let o=new $({courseFoundationsId:t,automationId:r}).withSession(e).withBody(s);return(0,n.w)(o)}async function es(e,t,r){let s=new z({courseFoundationsId:t,automationId:r}).withSession(e);await (0,n.S2)(s)}async function en(e,t,r,s,o,i,a,l,u){let d=new W({courseFoundationsId:t}).withSession(e);return u&&d.withPaging(u),d.withQueryParams({automationId:r,triggerType:s,actionType:o,status:i,startDate:a,endDate:l}),(0,n.w)(d)}async function eo(e,t,r){let s=new Z({courseFoundationsId:t,automationId:r}).withSession(e);return(0,n.w)(s)}r(362420),r(332014),r(935539),r(828650),r(362420),r(332014),r(935539),r(828650)},942285:(e,t,r)=>{"use strict";r.d(t,{Dg:()=>l,cZ:()=>a,dy:()=>o,zY:()=>i});var s=r(825271),n=r(608719);async function o(e,t,r){return(0,n.gSs)(s.dZ,e,t,r)}async function i(e,t,r){return(0,n.zmp)(s.dZ,e,t,r)}async function a(e,t,r){return(0,n.Ow5)(s.dZ,e,t,r)}async function l(e,t){return(0,n.Gul)(s.dZ,e,t)}},946579:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var s=r(56684);s.QR;class n extends s.mj{constructor(e){super("/v1/courses/%courseId%/discussionboards/count",e)}}},947226:(e,t,r)=>{"use strict";r.d(t,{o1:()=>E,Ff:()=>c,Lt:()=>p});var s=r(968554);let n={COURSE_USER_NOTES_GET:"course.user.notes.get",COURSE_USER_NOTES_CREATE:"course.user.notes.create",COURSE_USER_NOTES_UPDATE:"course.user.notes.update",COURSE_USER_NOTES_DELETE:"course.user.notes.delete"};var o=r(608719),i=r(825271),a=r(905898),l=r(758247);let u=Object.freeze({hasError:!1,hasLoaded:!1,isLoading:!1,notes:[],totalNotes:void 0});function d(e,t,r){var s,n;let o=e.byCourseId[t]=null!=(s=e.byCourseId[t])?s:{byUserId:{}};return o.byUserId[r]=null!=(n=o.byUserId[r])?n:{...u}}let c=(0,s.vy)({byCourseId:{}},{[n.COURSE_USER_NOTES_GET]:(e,t)=>(0,a.Ay)(e,e=>{let{courseId:r,userId:s}=t,n=d(e,r,s);n&&(n.isLoading=!0,n.hasLoaded=!1,n.hasError=!1)}),[(0,s.ok)(n.COURSE_USER_NOTES_GET)]:(e,t)=>{let{courseId:r,userId:s,response:{results:n,paging:o,permissions:i}}=t;return(0,a.Ay)(e,e=>{let t=d(e,r,s);return t.isLoading=!1,t.hasLoaded=!0,t.notes=t.notes.concat(n),t.totalNotes=null==o?void 0:o.count,t.permissions=i,e})},[(0,s.fJ)(n.COURSE_USER_NOTES_GET)]:(e,t)=>(0,a.Ay)(e,e=>{let{courseId:r,userId:s}=t,n=d(e,r,s);n.isLoading=!1,n.hasLoaded=!0,n.hasError=!0}),[(0,s.ok)(n.COURSE_USER_NOTES_CREATE)]:(e,t)=>(0,a.Ay)(e,e=>{var r;let{courseId:s,userId:n,note:o}=t,i=d(e,s,n);i.notes.push(o),i.totalNotes=(null!=(r=i.totalNotes)?r:0)+1}),[(0,s.ok)(n.COURSE_USER_NOTES_UPDATE)]:(e,t)=>(0,a.Ay)(e,e=>{let{courseId:r,userId:s,note:n}=t,o=d(e,r,s),i=o.notes.findIndex(e=>e.id===n.id);-1!==i&&(o.notes[i]=n)}),[(0,s.ok)(n.COURSE_USER_NOTES_DELETE)]:(e,t)=>(0,a.Ay)(e,e=>{var r;let{courseId:s,userId:n,noteId:o}=t,i=d(e,s,n);i.notes=i.notes.filter(e=>e.id!==o),i.totalNotes=(null!=(r=i.totalNotes)?r:1)-1})}),E={fetchNotes:e=>(0,s.RA)(async(t,r)=>{var a,u,d;let{courseId:c,userId:E,limit:p}=e,m=null==(a=r().courseUserNotes.byCourseId[c])?void 0:a.byUserId[E];if((null==m?void 0:m.isLoading)||(null==m?void 0:m.hasError))return Promise.resolve(null);let g=n.COURSE_USER_NOTES_GET,y=null!=(u=null==m?void 0:m.notes.length)?u:0,I={courseId:c,userId:E};t((0,s.rc)(g,I));try{let e=await (d={offset:y,limit:p},(0,o.tIq)(i.dZ,I,d,void 0));return t((0,s.rc)((0,s.ok)(g),{courseId:c,userId:E,response:e})),e}catch(r){throw t((0,s.rc)((0,s.fJ)(g),{...e,err:r})),t((0,s.rc)((0,s.ok)(l.A.APP_ERROR),{error:r})),r}}),createNote:(e,t,r)=>(0,s.VP)(n.COURSE_USER_NOTES_CREATE,async()=>{var s;let n=await (s={courseId:e,userId:t},(0,o.HW$)(i.dZ,s,r));return{courseId:e,userId:t,note:n}},{courseId:e,userId:t}),updateNote:(e,t,r,a)=>{let l={courseId:e,userId:t,noteId:r};return(0,s.VP)(n.COURSE_USER_NOTES_UPDATE,async()=>{let e=await (0,o.w8h)(i.dZ,l,a);return{...l,note:e}},l)},deleteNote:(e,t,r)=>{let a={courseId:e,userId:t,noteId:r};return(0,s.VP)(n.COURSE_USER_NOTES_DELETE,async()=>(await (0,o.WKo)(i.dZ,a),a),a)}},p={getNotes:(e,t,r)=>{var s;let n=null==(s=e.courseUserNotes.byCourseId[t])?void 0:s.byUserId[r];return null!=n?n:u}}},948960:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,MG:()=>o,Xk:()=>n,d_:()=>i,qj:()=>a,zL:()=>u});var s=r(457561);let n="1",o="1.15",i="1.5",a="2",l=s.A.import("parchment"),u=new l.Attributor.Style("lineheight","line-height",{scope:l.Scope.BLOCK,whitelist:[n,o,i,a]});u.createChange=e=>({format:{lineheight:e}});let d=u},949601:(e,t,r)=>{"use strict";var s=r(56684);s.mj,s.w_,s.mj,s.FK,s.w_,r(542633)},950080:(e,t,r)=>{"use strict";r.d(t,{o1:()=>p,Ff:()=>E,Lt:()=>m});var s=r(905898),n=r(968554);let o={LEARNING_OUTCOME_NODE_ENTITY_SCALE_LOAD:"learning.outcome.node.entity.scale.load",LEARNING_OUTCOME_NODE_ENTITY_SCALE_UPDATE:"learning.outcome.node.entity.scale.update"};var i=r(693506),a=r(732583),l=r(106535);let u=(e,t)=>{var r,s,o,i;if(!t.entityType||!t.entityId||!t.nodeId)return n.Vc;let[u,d]=null!=(i=Object.entries(null!=(o=null==(s=null==(r=e.views.byEntityId[(0,l.j)({entityType:t.entityType,entityId:t.entityId})])?void 0:r.byNodeId)?void 0:s[t.nodeId])?o:{}).find(([,e])=>(0,a.Y_)(e.query,t)))?i:[null,null];return u?{id:u,view:d}:n.Vc},d=e=>["views","byEntityId",(0,l.j)({entityType:e.entityType,entityId:e.entityId}),"byNodeId",e.nodeId],c=(e,t)=>{var r,s,n;if(!(null==(r=e.query)?void 0:r.entityType)||!(null==(s=e.query)?void 0:s.entityId)||!(null==(n=e.query)?void 0:n.nodeId))return!1;let{view:o}=u(t.getState().learningOutcomeEntityScale,e.query);return!o||!o.isLoading&&!o.isValid},E=(0,n.vy)({scaleItemsById:{},publishedStateByEntityId:{},views:{byEntityId:{}},isLoading:!1},{[o.LEARNING_OUTCOME_NODE_ENTITY_SCALE_LOAD]:(0,n.Dh)(u,d),[(0,n.ok)(o.LEARNING_OUTCOME_NODE_ENTITY_SCALE_LOAD)]:(e,t)=>{let{data:r,query:o}=t,i=(0,s.Ay)(e,e=>{r.scaleIds.forEach(t=>{e.scaleItemsById[t]=r.scaleItemsById[t]}),r.defaultIds.forEach(t=>{e.scaleItemsById[t]=r.scaleItemsById[t]}),e.publishedStateByEntityId[(0,l.j)({entityType:o.entityType,entityId:o.entityId})]=r.publishedState});return(0,n.lY)(i,t,{viewResolver:u,viewsPathResolver:d,values:r.defaultIds,secondaryValues:r.scaleIds})},[(0,n.fJ)(o.LEARNING_OUTCOME_NODE_ENTITY_SCALE_LOAD)]:(0,n.To)(u,d),[o.LEARNING_OUTCOME_NODE_ENTITY_SCALE_UPDATE]:n.r1,[(0,n.ok)(o.LEARNING_OUTCOME_NODE_ENTITY_SCALE_UPDATE)]:(e,t)=>{let r=(0,s.Ay)(e,e=>{let{data:r,identifiers:s}=t;r.scaleIds.forEach(t=>{e.scaleItemsById[t]=r.scaleItemsById[t]}),e.publishedStateByEntityId[(0,l.j)({entityType:s.entityType,entityId:s.entityId})]=r.publishedState,((e,t,r)=>{if(!t||!r)return;let s=e.views.byEntityId[(0,l.j)({entityType:t,entityId:r})];if(!s)return;let n=s.byNodeId;n&&Object.keys(n).forEach(e=>{let t=n[e];Object.keys(t).forEach(e=>{t[e].isValid=!1})})})(e,s.entityType,s.entityId)});return(0,n.Zg)(r,t)},[(0,n.fJ)(o.LEARNING_OUTCOME_NODE_ENTITY_SCALE_UPDATE)]:n.Nh}),p={loadLearningOutcomeScalesByQuery:e=>(0,n.Vy)(o.LEARNING_OUTCOME_NODE_ENTITY_SCALE_LOAD,async()=>{try{return{data:await (0,i.OH)(e),query:e}}catch(t){throw new n.GS(t).setData({query:e})}},{data:{query:e},condition:c}),updateLearningOutcomeScale:(e,t)=>(0,n.Vy)(o.LEARNING_OUTCOME_NODE_ENTITY_SCALE_UPDATE,async()=>{try{return{data:await (0,i.T7)(e,t),identifiers:e}}catch(t){throw new n.GS(t).setData({identifiers:e})}},{data:{identifiers:e}})},m={getDefaultScalesByQuery:(e,t)=>{var r,s,n,o;let{view:i}=u(e.learningOutcomeEntityScale,t);return i?{scale:(i.secondaryValues||[]).map(t=>e.learningOutcomeEntityScale.scaleItemsById[t]),scaleDefaults:(i.values||[]).map(t=>e.learningOutcomeEntityScale.scaleItemsById[t]),published:null!=(s=null==(r=e.learningOutcomeEntityScale.publishedStateByEntityId[(0,l.j)({entityType:t.entityType,entityId:t.entityId})])?void 0:r.published)&&s,publishStateLocked:null!=(o=null==(n=e.learningOutcomeEntityScale.publishedStateByEntityId[(0,l.j)({entityType:t.entityType,entityId:t.entityId})])?void 0:n.publishStateLocked)&&o}:{published:!1,publishStateLocked:!1,scale:[],scaleDefaults:[]}},getDefaultScalesViewByQuery:(e,t)=>{let{view:r}=u(e.learningOutcomeEntityScale,t);return r}}},950216:(e,t,r)=>{"use strict";r(56684).w_},953601:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});let s={COURSE_TASKS_LOGS:"course-tasks",COURSE_TASKS_PANEL:"course-tasks.tasks",COURSE_LOGS_PANEL:"course-tasks.logs"}},954849:(e,t,r)=>{"use strict";r.d(t,{o1:()=>A,Ff:()=>I,Lt:()=>_});var s=r(968554),n=r(905898),o=r(608719),i=r(825271);let a=async e=>{let t=await (0,o.kVB)(i.dZ,e);return{...e,results:t}},l=async e=>{let t=await (0,o.J5O)(i.dZ,e);return{...e,...t}};var u=r(758247),d=r(139552),c=r(645250),E=r(918814);let p={LOAD_SUBMISSION_RESULTS_BY_ATTEMPT_ID:"load.submission.results.by.attempt.id",LOAD_SUBMISSION_RESULTS_AVERAGE_BY_COLUMN_ID:"load.submission.results.average.by.column.id",INVALIDATE_SUBMISSION_RESULTS_BY_ATTEMPT_ID:"invalidate.submission.results.by.attempt.id",LOAD_SUBMISSION_RESULTS_BY_GROUP_ATTEMPT_ID:"load.submission.results.by.group.attempt.id"},m=(e,t)=>{let r=Object.keys(e.views).find(r=>{let s=e.views[r];return(0,c.isEqual)(s.query,t)});return r?{id:r,view:e.views[r]}:s.Vc},g=(e,t)=>{let{view:r}=m(t.getState().submissionResults,e.params);return!r||!r.isValid&&!r.isLoading},y=()=>["views"],I=(0,s.vy)({views:{},byCourseId:{}},{[p.LOAD_SUBMISSION_RESULTS_BY_ATTEMPT_ID]:(0,s.Dh)(m,y),[(0,s.fJ)(p.LOAD_SUBMISSION_RESULTS_BY_ATTEMPT_ID)]:(0,s.To)(m,y),[(0,s.ok)(p.LOAD_SUBMISSION_RESULTS_BY_ATTEMPT_ID)]:(e,t)=>{let r=(0,n.Ay)(e,e=>{var r,s,n,o,i,a;t.data&&t.data.results&&t.data.attemptId&&t.data.courseId&&t.data.columnId&&((null!=(s=(i=(null!=(r=(n=e.byCourseId)[o=t.data.courseId])?r:n[o]={byColumnId:{}}).byColumnId)[a=t.data.columnId])?s:i[a]={byAttemptId:{},byGroupAttemptId:{}}).byAttemptId[t.data.attemptId]=t.data.results.results)});return(0,s.lY)(r,t,{viewResolver:m,viewsPathResolver:y})},[p.LOAD_SUBMISSION_RESULTS_BY_GROUP_ATTEMPT_ID]:(0,s.Dh)(m,y),[(0,s.fJ)(p.LOAD_SUBMISSION_RESULTS_BY_GROUP_ATTEMPT_ID)]:(0,s.To)(m,y),[(0,s.ok)(p.LOAD_SUBMISSION_RESULTS_BY_GROUP_ATTEMPT_ID)]:(e,t)=>{let r=(0,n.Ay)(e,e=>{var r,s,n,o,i,a;t.data&&t.data.results&&t.data.groupAttemptId&&t.data.courseId&&t.data.columnId&&((null!=(s=(i=(null!=(r=(n=e.byCourseId)[o=t.data.courseId])?r:n[o]={byColumnId:{}}).byColumnId)[a=t.data.columnId])?s:i[a]={byAttemptId:{},byGroupAttemptId:{}}).byGroupAttemptId[t.data.groupAttemptId]=t.data.results)});return(0,s.lY)(r,t,{viewResolver:m,viewsPathResolver:y})},[(0,s.ok)(p.LOAD_SUBMISSION_RESULTS_AVERAGE_BY_COLUMN_ID)]:(e,t)=>(0,n.Ay)(e,e=>{var r,s,n,i,a,l;t.courseId&&t.columnId&&((null!=(s=(a=(null!=(r=(n=e.byCourseId)[i=t.courseId])?r:n[i]={byColumnId:{}}).byColumnId)[l=t.columnId])?s:a[l]={byAttemptId:{},byGroupAttemptId:{}}).submissionResults=t.submissionResults.map(e=>e.results[o.iMy]))}),[(0,s.ok)(p.INVALIDATE_SUBMISSION_RESULTS_BY_ATTEMPT_ID)]:(e,t)=>(0,n.Ay)(e,e=>{((e,t)=>{let r=m(e,t);r.view&&(r.view.isValid=!1)})(e,t.query)})}),A={loadAttemptSubmissionResults:e=>(0,s.RA)(async(t,r)=>{var n,i,l;let d,c,{courseId:m,columnId:y,attemptId:I}=e,A=_.getSafeAssignSubmissionResponseForAttempt(r(),m,y,I);if(A){let e=(null!=(n=(c=A).results.results["mdb-sa"].answerOriginalities)?n:[]).concat(null!=(i=c.results.results["mdb-sa"].attemptOriginality)?i:[]);d=e.length>0&&e.every(e=>e.originalityProcessed)}else{let e=null!=(l=null==(c=_.getAssetProcessorSubmissionResponseByCourseAndAttemptId(r(),m,y,I))?void 0:c.results.results[o.iQy].assetProcessorResults)?l:[];d=e.length>0&&(0,E.F)(e)}if(!g({params:e},{getState:r})&&c&&d)return c;try{return t((0,s.rc)(p.LOAD_SUBMISSION_RESULTS_BY_ATTEMPT_ID)),c=await a(e),t((0,s.rc)((0,s.ok)(p.LOAD_SUBMISSION_RESULTS_BY_ATTEMPT_ID),{query:e,data:c})),c}catch(e){throw t((0,s.rc)((0,s.fJ)(p.LOAD_SUBMISSION_RESULTS_BY_ATTEMPT_ID),{error:e})),t((0,s.rc)((0,s.ok)(u.A.APP_ERROR),{error:e})),e}}),loadGroupAttemptSubmissionResults:e=>(0,s.Vy)(p.LOAD_SUBMISSION_RESULTS_BY_GROUP_ATTEMPT_ID,async()=>{try{let t=await l(e);return{query:e,data:t}}catch(t){throw new s.GS(t).setData({params:e})}},{data:{query:e},condition:(e,t)=>g({params:e.query},t)||!((e,t)=>{let{view:r}=m(t.getState().submissionResults,e.params);return(null==r?void 0:r.isLoading)===!0})({params:e.query},t)&&!((e,t)=>{var r,s;let{courseId:n,columnId:o,groupAttemptId:i}=e.params,a=_.getSafeAssignSubmissionResponseForGroupAttempt(t.getState(),n,o,i);if(!a)return!1;let{results:l}=a,u=(null!=(r=l["mdb-sa"].answerOriginalities)?r:[]).concat(null!=(s=l["mdb-sa"].attemptOriginality)?s:[]);return u.length>0&&u.every(e=>e.originalityProcessed)})({params:e.query},t)&&!((e,t)=>{var r;let{courseId:s,columnId:n,groupAttemptId:i}=e.params,a=_.getAssetProcessorSubmissionResponseByCourseAndGroupAttemptId(t.getState(),s,n,i);if(!a)return!1;let l=null!=(r=a.results[o.iQy].assetProcessorResults)?r:[];return l.length>0&&(0,E.F)(l)})({params:e.query},t)}),setAverageSubmissionResultsByColumnId:(e,t,r)=>(0,s.rc)((0,s.ok)(p.LOAD_SUBMISSION_RESULTS_AVERAGE_BY_COLUMN_ID),{submissionResults:e,columnId:r,courseId:t}),invalidateSubmissionResults:e=>(0,s.rc)((0,s.ok)(p.INVALIDATE_SUBMISSION_RESULTS_BY_ATTEMPT_ID),{query:e})},h=(e,t,r,s)=>{var n,i,a,l,u;return null==(u=null==(l=null==(a=null==(i=null==(n=e.submissionResults.byCourseId[t])?void 0:n.byColumnId[r])?void 0:i.byAttemptId)?void 0:a[s])?void 0:l[o.iQy])?void 0:u.assetProcessorResults},_={getSafeAssignSubmissionResultsForAttempt:(e,t,r,s)=>{var n,i,a,l,u;return null==(u=null==(l=null==(a=null==(i=null==(n=e.submissionResults.byCourseId[t])?void 0:n.byColumnId)?void 0:i[r])?void 0:a.byAttemptId)?void 0:l[s])?void 0:u[o.iMy]},getSafeAssignSubmissionResultsForGroupAttempt:(e,t,r,s)=>{var n,i,a,l,u;return null==(u=null==(l=null==(a=null==(i=null==(n=e.submissionResults.byCourseId[t])?void 0:n.byColumnId)?void 0:i[r])?void 0:a.byGroupAttemptId)?void 0:l[s])?void 0:u[o.iMy]},getSafeAssignSubmissionResponseForAttempt:(e,t,r,s)=>{let n=_.getSafeAssignSubmissionResultsForAttempt(e,t,r,s);if(n)return{courseId:t,columnId:r,attemptId:s,results:{results:{[o.iMy]:n}}}},getSafeAssignSubmissionResponseForGroupAttempt:(e,t,r,s)=>{let n=_.getSafeAssignSubmissionResultsForGroupAttempt(e,t,r,s);if(n)return{courseId:t,columnId:r,groupAttemptId:s,results:{[o.iMy]:n}}},getAverageSafeAssignSubmissionResultsForColumn:(e,t,r)=>{var s,n;return null==(n=null==(s=e.submissionResults.byCourseId[t])?void 0:s.byColumnId[r])?void 0:n.submissionResults},getAssetProcessorSubmissionResultByCourseAndAttemptId:(0,d.Mz)(h,e=>null==e?void 0:e.reduce((e,t)=>{var r;return t.qtiResultDataId?e:t.bbFileUuid?e.filesResult?{...e,filesResult:[...null!=(r=e.filesResult)?r:[],t]}:{...e,filesResult:[t]}:{...e,textResult:t}},{})),getAssetProcessorResultsByGroupAttemptId:(e,t,r,s)=>{var n,i,a,l,u;return null==(u=null==(l=null==(a=null==(i=null==(n=e.submissionResults.byCourseId[t])?void 0:n.byColumnId[r])?void 0:i.byGroupAttemptId)?void 0:a[s])?void 0:l[o.iQy])?void 0:u.assetProcessorResults},getAssetProcessorSubmissionResponseByCourseAndAttemptId:(e,t,r,s)=>{let n=h(e,t,r,s);if(null==n?void 0:n.length)return{courseId:t,columnId:r,attemptId:s,results:{results:{[o.iQy]:{assetProcessorResults:n}}}}},getAssetProcessorSubmissionResponseByCourseAndGroupAttemptId:(e,t,r,s)=>{let n=_.getAssetProcessorResultsByGroupAttemptId(e,t,r,s);if(null==n?void 0:n.length)return{courseId:t,columnId:r,groupAttemptId:s,results:{[o.iQy]:{assetProcessorResults:n}}}}}},956745:(e,t,r)=>{"use strict";r.d(t,{N:()=>o});var s=r(825271),n=r(608719);let o=(0,r(853400).Y)(n.Jb7,s.dZ)},956857:(e,t,r)=>{var s={"./af":543726,"./af.js":543726,"./ar":428754,"./ar-dz":481241,"./ar-dz.js":481241,"./ar-kw":424873,"./ar-kw.js":424873,"./ar-ly":936008,"./ar-ly.js":936008,"./ar-ma":677721,"./ar-ma.js":677721,"./ar-sa":378155,"./ar-sa.js":378155,"./ar-tn":932245,"./ar-tn.js":932245,"./ar.js":428754,"./az":944586,"./az.js":944586,"./be":529852,"./be.js":529852,"./bg":891846,"./bg.js":891846,"./bm":880420,"./bm.js":880420,"./bn":605005,"./bn-bd":325776,"./bn-bd.js":325776,"./bn.js":605005,"./bo":544302,"./bo.js":544302,"./br":334649,"./br.js":334649,"./bs":945162,"./bs.js":945162,"./ca":962457,"./ca.js":962457,"./cs":539335,"./cs.js":539335,"./cv":734364,"./cv.js":734364,"./cy":615057,"./cy.js":615057,"./da":278498,"./da.js":278498,"./de":114830,"./de-at":711614,"./de-at.js":711614,"./de-ch":91416,"./de-ch.js":91416,"./de.js":114830,"./dv":953147,"./dv.js":953147,"./el":824968,"./el.js":824968,"./en-au":194073,"./en-au.js":194073,"./en-ca":811387,"./en-ca.js":811387,"./en-gb":841386,"./en-gb.js":841386,"./en-ie":53537,"./en-ie.js":53537,"./en-il":267050,"./en-il.js":267050,"./en-in":203008,"./en-in.js":203008,"./en-nz":296963,"./en-nz.js":296963,"./en-sg":814865,"./en-sg.js":814865,"./eo":43713,"./eo.js":43713,"./es":606341,"./es-do":534611,"./es-do.js":534611,"./es-mx":265247,"./es-mx.js":265247,"./es-us":671554,"./es-us.js":671554,"./es.js":606341,"./et":517776,"./et.js":517776,"./eu":541927,"./eu.js":541927,"./fa":42148,"./fa.js":42148,"./fi":725756,"./fi.js":725756,"./fil":830754,"./fil.js":830754,"./fo":227002,"./fo.js":227002,"./fr":635997,"./fr-ca":61762,"./fr-ca.js":61762,"./fr-ch":806185,"./fr-ch.js":806185,"./fr.js":635997,"./fy":595020,"./fy.js":595020,"./ga":98493,"./ga.js":98493,"./gd":778162,"./gd.js":778162,"./gl":311402,"./gl.js":311402,"./gom-deva":891987,"./gom-deva.js":891987,"./gom-latn":28052,"./gom-latn.js":28052,"./gu":776785,"./gu.js":776785,"./he":801338,"./he.js":801338,"./hi":830894,"./hi.js":830894,"./hr":335443,"./hr.js":335443,"./hu":231754,"./hu.js":231754,"./hy-am":199637,"./hy-am.js":199637,"./id":174380,"./id.js":174380,"./is":218889,"./is.js":218889,"./it":927900,"./it-ch":416230,"./it-ch.js":416230,"./it.js":927900,"./ja":627544,"./ja.js":627544,"./jv":189757,"./jv.js":189757,"./ka":813953,"./ka.js":813953,"./kk":663607,"./kk.js":663607,"./km":697685,"./km.js":697685,"./kn":316108,"./kn.js":316108,"./ko":482195,"./ko.js":482195,"./ku":487821,"./ku.js":487821,"./ky":903145,"./ky.js":903145,"./lb":121655,"./lb.js":121655,"./lo":703284,"./lo.js":703284,"./lt":893509,"./lt.js":893509,"./lv":602883,"./lv.js":602883,"./me":274559,"./me.js":274559,"./mi":687283,"./mi.js":687283,"./mk":685877,"./mk.js":685877,"./ml":485376,"./ml.js":485376,"./mn":583594,"./mn.js":583594,"./mr":440718,"./mr.js":440718,"./ms":150381,"./ms-my":684592,"./ms-my.js":684592,"./ms.js":150381,"./mt":257944,"./mt.js":257944,"./my":773219,"./my.js":773219,"./nb":674677,"./nb.js":674677,"./ne":50880,"./ne.js":50880,"./nl":866239,"./nl-be":980097,"./nl-be.js":980097,"./nl.js":866239,"./nn":385057,"./nn.js":385057,"./oc-lnc":32513,"./oc-lnc.js":32513,"./pa-in":20068,"./pa-in.js":20068,"./pl":445993,"./pl.js":445993,"./pt":322625,"./pt-br":858250,"./pt-br.js":858250,"./pt.js":322625,"./ro":267486,"./ro.js":267486,"./ru":148828,"./ru.js":148828,"./sd":278310,"./sd.js":278310,"./se":309029,"./se.js":309029,"./si":425297,"./si.js":425297,"./sk":171247,"./sk.js":171247,"./sl":393742,"./sl.js":393742,"./sq":230169,"./sq.js":230169,"./sr":895872,"./sr-cyrl":265023,"./sr-cyrl.js":265023,"./sr.js":895872,"./ss":53527,"./ss.js":53527,"./sv":248556,"./sv.js":248556,"./sw":37427,"./sw.js":37427,"./ta":50898,"./ta.js":50898,"./te":951742,"./te.js":951742,"./tet":373600,"./tet.js":373600,"./tg":949812,"./tg.js":949812,"./th":379513,"./th.js":379513,"./tk":778464,"./tk.js":778464,"./tl-ph":103502,"./tl-ph.js":103502,"./tlh":190193,"./tlh.js":190193,"./tr":485903,"./tr.js":485903,"./tzl":959459,"./tzl.js":959459,"./tzm":777820,"./tzm-latn":41476,"./tzm-latn.js":41476,"./tzm.js":777820,"./ug-cn":647927,"./ug-cn.js":647927,"./uk":561997,"./uk.js":561997,"./ur":762902,"./ur.js":762902,"./uz":804990,"./uz-latn":235494,"./uz-latn.js":235494,"./uz.js":804990,"./vi":483756,"./vi.js":483756,"./x-pseudo":823792,"./x-pseudo.js":823792,"./yo":798893,"./yo.js":798893,"./zh-cn":61329,"./zh-cn.js":61329,"./zh-hk":213005,"./zh-hk.js":213005,"./zh-mo":447696,"./zh-mo.js":447696,"./zh-tw":885861,"./zh-tw.js":885861};function n(e){return r(o(e))}function o(e){if(!r.o(s,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=o,e.exports=n,n.id=956857},957410:(e,t,r)=>{"use strict";var s;r.d(t,{A1:()=>i,pi:()=>n});let n="audio/webm; codecs=opus";!function(e){e.Inactive="inactive",e.Recording="recording",e.Paused="paused"}(s||(s={}));class o{constructor(){this.currentRecordingSession=null,this.mediaRecorder=null,this.mediaStream=null,this.autoStop=null}static getInstance(){return o.instance||(o.instance=new o),this.instance}static getBlobOptionsFromRecorderOptions(e){return{type:null==e?void 0:e.mimeType}}get recordingState(){var e;return(null==(e=this.mediaRecorder)?void 0:e.state)||s.Inactive}get isRecording(){return this.recordingState===s.Recording}isCurrentRecordingSession(e){return null!==this.currentRecordingSession&&this.currentRecordingSession===e}async enableRecording(e){if(this.isRecording)throw Error("Recording in progress");try{this.mediaStream=await navigator.mediaDevices.getUserMedia(e.streamConstraints),this.currentRecordingSession=e}catch(e){throw Error("Unable to start recording")}}async startRecording(e){if(this.isRecording)throw Error("Recording in progress");return this.mediaStream&&this.isCurrentRecordingSession(e)||await this.enableRecording(e),this.mediaRecorder=new MediaRecorder(this.mediaStream,this.currentRecordingSession.recorderOptions),this.mediaRecorder.start(),this.configureAutoStop(e),this.recordingState}async stopRecording(e){if(!this.isRecording)throw Error("No recording in progress");if(!this.isCurrentRecordingSession(e))throw Error("Cannot stop non-respective recording");let{currentRecordingSession:t,mediaRecorder:r}=this,{onRecordingComplete:s,recorderOptions:n}=t,i=new Promise(e=>{let t=o.getBlobOptionsFromRecorderOptions(n);r.ondataavailable=({data:r})=>{e(new Blob([r],t))}}),a=new Promise(e=>{r.onstop=()=>{this.mediaStream&&this.mediaStream.getTracks().forEach(e=>{e.stop()}),e()}});return r.stop(),await Promise.all([i,a]).then(([e])=>{s(e),this.currentRecordingSession=null}),this.autoStop&&clearTimeout(this.autoStop),this.recordingState}async toggleRecording(e){return this.isRecording?this.stopRecording(e):this.startRecording(e)}configureAutoStop(e){var t,r;let s=null==(r=null==(t=this.currentRecordingSession)?void 0:t.recordingOptions)?void 0:r.maxDuration;s&&(this.autoStop=setTimeout(()=>{this.isCurrentRecordingSession(e)&&this.stopRecording(this.currentRecordingSession)},s))}}class i{constructor(e,t,r,s){this.recorder=o.getInstance(),this.onRecordingComplete=e,this.recorderOptions=t,this.streamConstraints=r,this.recordingOptions=s||{},this.onRecordToggle=this.onRecordToggle.bind(this),this.onRecordStart=this.onRecordStart.bind(this),this.onRecordStop=this.onRecordStop.bind(this)}async onEnableRecording(){return this.recorder.enableRecording(this)}async onRecordStart(){return this.recorder.startRecording(this)}async onRecordStop(){return this.recorder.stopRecording(this)}async onRecordToggle(){return this.recorder.toggleRecording(this)}}},957675:(e,t,r)=>{"use strict";r.d(t,{$4:()=>i,ht:()=>a});var s=r(56684);let n="/v1/courses/%courseId%/gradebook/columns",o=`${n}/%columnId%`;s.pT;class i extends s.w_{constructor(e){super(n,e)}}class a extends s.QR{constructor(e){super(o,e)}}s.QR},957977:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>c,MF:()=>o,Mk:()=>n,Mq:()=>i,Xt:()=>l,or:()=>s.r,pV:()=>d,sC:()=>u,yR:()=>a});var s=r(813023);let n="0.625rem",o="0.75rem",i="0.875rem",a="1.125rem",l="1.5rem",u="2.25rem",d="3rem";s.r.whitelist=[n,o,i,a,l,u,d,"0.714em","0.857em","1em","1.286em","1.714em","2.571em","3.429em"],s.r.createChange=(e=i)=>({format:{size:e}});let c=s.r},959917:(e,t,r)=>{"use strict";r(950216),r(542633)},963025:()=>{},963900:(e,t,r)=>{"use strict";r.d(t,{R:()=>s});let s={QUESTION_ANALYSIS_REPORT:"question-analysis.report"}},965800:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var s=r(906616),n=r.n(s),o=r(611960);class i{static getWirisPluginsPromiseForTest(){return i.wirisPluginsPromise}static resetCaches(){i.wirisPluginsPromise=void 0,i.interval=void 0,i.configurationPromiseMap.clear()}static get isWirisPluginsLoaded(){var e,t,r;return!!(null==(r=null==(t=null==(e=window.com)?void 0:e.wiris)?void 0:t.js)?void 0:r.JsPluginViewer)}constructor({courseId:e,apiBasePath:t,locale:r,xsrfToken:s}){this.waitForLoadedWiris=(e,t)=>{i.isWirisPluginsLoaded?(clearInterval(i.interval),i.interval=void 0,e()):void 0===i.interval?(i.retry=3,i.interval=setInterval(this.waitForLoadedWiris,500,e,t)):void 0!==i.interval&&(i.retry>0?i.retry-=1:(clearInterval(i.interval),i.interval=void 0,t()))},this.courseId=e,this.apiBasePath=t,this.locale=r,this.xsrfToken=s}async loadWiris(){if(i.isWirisPluginsLoaded)return this.getInstance(this.locale);let e=await this.getConfiguration(),t=`${null==e?void 0:e.contextPath}app/WIRISplugins.js?viewer=image&lang=${this.locale}&async=true`;return this.loadWirisPlugins(t,this.locale)}waitForLoadedPromise(){return new Promise((e,t)=>{i.retry=3,this.waitForLoadedWiris(()=>e(void 0),()=>t(Error("WIRISplugins.js was not loaded")))})}async loadWirisPlugins(e,t){return i.wirisPluginsPromise||(i.wirisPluginsPromise=new Promise((r,s)=>{n()(e,()=>{this.waitForLoadedPromise().then(()=>r(this.getInstance(t))).catch(e=>s(e))})}),i.wirisPluginsPromise&&i.wirisPluginsPromise.catch(()=>{i.wirisPluginsPromise=void 0})),i.wirisPluginsPromise}async renderMathWithWiris(e){let t=await this.loadWiris();await new Promise(r=>{t.parseElement(e,!0,r)})}async getImageMetadataFromMathML(e){let t=document.createElement("span");"string"==typeof e?t.innerHTML=e:t.appendChild(e);let r=t.innerHTML;await this.renderMathWithWiris(t);let s=t.getElementsByTagName("img")[0];if(!s)throw Error("No image element found after parsing MathML.");return{dataMathML:r,src:s.src,alt:s.alt}}getInstance(e){var t,r,s,n,o,i;let a=window,l=null!=(s=null==(r=null==(t=null==document?void 0:document.body)?void 0:t.parentElement)?void 0:r.lang)?s:"en";if(!(null==(i=null==(o=null==(n=a.com)?void 0:n.wiris)?void 0:o.js)?void 0:i.JsPluginViewer))throw Error("WIRIS plugin viewer not initialized");return a.com.wiris.js.JsPluginViewer.lang=e||l,a.com.wiris.js.JsPluginViewer}getConfiguration(){let e=this.courseId,t=i.configurationPromiseMap.get(e);if(t)return t;let r=e?`/courses/${e}`:"",s=fetch((0,o.xA)(`${this.apiBasePath}/v1${r}/editor/v4/configurations`),{method:"GET",headers:{...this.xsrfToken?{"X-Blackboard-XSRF":this.xsrfToken}:null}}).then(e=>e.json());return s.catch(()=>{i.configurationPromiseMap.delete(e)}),i.configurationPromiseMap.set(e,s),s}}i.configurationPromiseMap=new Map},967988:(e,t,r)=>{"use strict";var s;r.d(t,{H:()=>s}),function(e){e.None="None",e.Started="Started",e.Completed="Completed",e.Unlocked="Unlocked"}(s||(s={}))},968062:(e,t,r)=>{"use strict";r.d(t,{o1:()=>d,Ff:()=>u,Lt:()=>c});var s=r(968554),n=r(487967),o=r(905898),i=r(645250);let a={BLOG_PARTICIPATION_SUMMARY_LOAD:"blog.participation.summary.load"},l={[a.BLOG_PARTICIPATION_SUMMARY_LOAD]:s.r1,[(0,s.ok)(a.BLOG_PARTICIPATION_SUMMARY_LOAD)]:(e,t)=>{let r=(0,o.Ay)(e,e=>{let{byBlogId:r}=t;Object.keys(r).forEach(t=>{e.byBlogId[t]=r[t]})});return(0,s.Zg)(r,t)},[(0,s.fJ)(a.BLOG_PARTICIPATION_SUMMARY_LOAD)]:s.Nh},u=(0,s.vy)({byBlogId:{},isLoading:!1},l),d={loadParticipationSummary:(e,t,r,o)=>(0,s.VP)(a.BLOG_PARTICIPATION_SUMMARY_LOAD,()=>(0,n.qW)(e,t,r,o).then(e=>e).catch(e=>{throw{err:e}}))},c={getSummaryByBlogId:(e,t)=>(0,i.find)(e.blog.summary.byBlogId,{id:t}),isLoading:e=>e.blog.summary.isLoading}},969253:(e,t,r)=>{"use strict";r(542633);var s=r(56684);s.kz,s.Jk},970784:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});let s={QUESTION_BANKS:"question-banks",IMPORT_DETAILS:"import-details",EDIT_QUESTION_BANK:"question-bank-edit",CREATE_QUESTION_BANK:"question-bank-create",GENERATE_QUESTION_BANK:"question-bank-generate"}},972971:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>l,Lt:()=>d,o1:()=>u});var s=r(645250),n=r(905898),o=r(968554),i=r(487967),a=r(736812);let l=(0,o.vy)({byId:{},paging:null,permissions:{canDeleteAnyComment:!1},isLoading:!1},{[a.g.BLOG_ENTRY_COMMENTS_LOAD]:o.r1,[(0,o.ok)(a.g.BLOG_ENTRY_COMMENTS_LOAD)]:(e,t)=>{let{byId:r,paging:s,permissions:i}=t,a=(0,n.jM)(e,e=>{s&&(e.paging=s),i&&(e.permissions=i),r&&(e.byId={...e.byId,...r},Object.keys(r).forEach(t=>{e.byId[t].api={isUpdating:!1,isDeleting:!1}}))});return(0,o.Zg)(a,t)},[(0,o.fJ)(a.g.BLOG_ENTRY_COMMENTS_LOAD)]:o.Nh,[a.g.BLOG_COMMENT_ADD]:(e,t)=>(0,n.jM)(e,e=>{e.byId[t.commentId]||(e.byId[t.commentId]={}),e.byId[t.commentId].api={isUpdating:!0,isDeleting:!0}}),[(0,o.ok)(a.g.BLOG_COMMENT_ADD)]:(e,t)=>{let{comment:r}=t,s=e;return r&&(s=(0,n.jM)(e,e=>{e.byId[r.id]={...r,api:{isUpdating:!1,isDeleting:!1}}})),(0,o.Zg)(s,t)},[(0,o.fJ)(a.g.BLOG_COMMENT_ADD)]:o.Nh,[a.g.BLOG_COMMENT_MODIFY]:(e,t)=>(0,n.jM)(e,e=>{e.byId[t.commentId]||(e.byId[t.commentId]={}),e.byId[t.commentId].api||(e.byId[t.commentId].api={}),e.byId[t.commentId].api.isUpdating=!0}),[(0,o.ok)(a.g.BLOG_COMMENT_MODIFY)]:(e,t)=>{let{comment:r}=t,s=e;return r&&(s=(0,n.jM)(e,e=>{e.byId[r.id]={...r,api:{isUpdating:!1}}})),(0,o.Zg)(s,t)},[(0,o.fJ)(a.g.BLOG_COMMENT_MODIFY)]:(e,t)=>(0,n.jM)(e,e=>{e.byId[t.commentId]||(e.byId[t.commentId]={}),e.byId[t.commentId].api||(e.byId[t.commentId].api={}),e.byId[t.commentId].api.isUpdating=!1}),[a.g.BLOG_COMMENT_REMOVE]:(e,t)=>(0,n.jM)(e,e=>{e.byId[t.commentId]||(e.byId[t.commentId]={}),e.byId[t.commentId].api||(e.byId[t.commentId].api={}),e.byId[t.commentId].api.isDeleting=!0}),[(0,o.fJ)(a.g.BLOG_COMMENT_REMOVE)]:(e,t)=>(0,n.jM)(e,e=>{e.byId[t.commentId]||(e.byId[t.commentId]={}),e.byId[t.commentId].api||(e.byId[t.commentId].api={}),e.byId[t.commentId].api.isDeleting=!1}),[(0,o.ok)(a.g.BLOG_COMMENT_REMOVE)]:(e,t)=>(0,n.jM)(e,e=>{delete e.byId[t.commentId]})}),u={loadEntryComments:(e,t,r,s={})=>(0,o.VP)(a.g.BLOG_ENTRY_COMMENTS_LOAD,async()=>{try{return await i.V9(e,t,r,s)}catch(e){throw{err:e}}}),addComment:e=>(0,o.VP)(a.g.BLOG_COMMENT_ADD,async()=>{let t;try{t=await i.BC(e)}catch(e){throw{err:e}}return{comment:t}}),modifyComment:e=>(0,o.VP)(a.g.BLOG_COMMENT_MODIFY,async()=>{let t;try{t=await i.C(e)}catch(e){throw{err:e}}return{comment:t}}),deleteComment:e=>(0,o.VP)(a.g.BLOG_COMMENT_REMOVE,async t=>{let{commentId:r}=e;try{let s=d.getCommentById(t(),r);return await i.Tu(e),{commentId:r,comment:s}}catch(e){throw{err:e}}},{commentId:e.commentId})},d={getCommentsByEntryId:(e,t)=>(0,s.filter)(e.blog.comments.byId,{entryId:t}),getCommentById:(e,t)=>e.blog.comments.byId[t]}},973790:(e,t,r)=>{"use strict";r.d(t,{A:()=>E});var s=r(526660),n=r.n(s),o=r(310567),i=r(906616),a=r.n(i),l=r(479283);let u=null,d=!1;function c(e,t){let r={language:t,fontFamily:"Times New Roman"};return e&&(r.mml=e),com.wiris.jsEditor.JsEditor.newInstance(r)}let E=({courseId:e,apiBasePath:t,xsrfToken:r,locale:s})=>{let i=e?`/courses/${e}`:"",E=(0,l.xA)(`${t}/v1${i}/editor/v4/configurations`),p=(0,l.xA)(`${t}/v1${i}/mathEditor/v3/mathMLToImage`);function m(e){return{wirisEditorUrl:(0,l.xA)(e.editorUrl)}}return{getAltText:function(e){if(!u)return Promise.reject();let t=o.stringify({service:"mathml2accessible",mml:e,lang:s});return n()({url:u,method:"POST",headers:{"X-Blackboard-XSRF":r,"Content-type":"application/x-www-form-urlencoded"},data:t})},getMathMLToImageURL:function(e){return new Promise((t,s)=>{n()({url:p,method:"POST",headers:{"X-Blackboard-XSRF":r},data:{mathML:e}}).then(e=>t(e.data.mathMLImageURL)).catch(s)})},newInstance:function(e){return new Promise((t,r)=>{d?t(c(e,s)):n()({url:E,method:"GET"}).then(o=>{var i;(i=o.data.contextPath,n()({url:`${i}app/configurationjs`,method:"GET"})).then(n=>{let{wirisEditorUrl:o}=m(n.data);u=(0,l.xA)("/webapps/vtbe-tinymce/app/service"),new Promise((t,r)=>{a()(o,()=>{try{d=!0,t(c(e,s))}catch(e){d=!1,r()}})}).then(e=>t(e)).catch(r)}).catch(r)}).catch(r)})},parseConfiguration:m,getLaTeXFromMathML:function(e){let t=o.stringify({service:"mathml2latex",mml:e,lang:s});return new Promise((e,s)=>{n()({url:u,method:"POST",headers:{"X-Blackboard-XSRF":r,"Content-type":"application/x-www-form-urlencoded"},data:t}).then(t=>e(t)).catch(s)})}}}},973801:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>y,Lt:()=>h,o1:()=>A});var s=r(905898),n=r(968554),o=r(91129),i=r(271218),a=r(732583),l=r(612918),u=r(106535);let d=(e,t)=>{var r,s;if(!t.courseId)return n.Vc;let[o,i]=null!=(s=Object.entries(null!=(r=e.bulkViews.byCourseId[t.courseId])?r:{}).find(([,e])=>(0,a.Y_)(e.query,t)))?s:[null,null];return o?{id:o,view:i}:n.Vc},c=(e,t)=>{var r,s,o;let[i,l]=null!=(o=Object.entries(null!=(s=null==(r=e.views.byCourseId[t.courseId])?void 0:r.byUserId[t.userId])?s:{}).find(([,e])=>(0,a.Y_)(e.query,t)))?o:[null,null];return i?{id:i,view:l}:n.Vc},E=e=>["bulkViews","byCourseId",e.courseId],p=e=>["views","byCourseId",e.courseId,"byUserId",e.userId],m=(e,t)=>{var r;if(!(null==(r=e.query)?void 0:r.courseId))return!1;let{view:s}=d(t.getState().goalMastery.performance,e.query);return!s||!s.isLoading&&!s.isValid},g=(e,t)=>{let{view:r}=c(t.getState().goalMastery.performance,e.query);return!r||!r.isLoading&&!r.isValid},y=(0,n.vy)({byCourseId:{},bulkViews:{byCourseId:{}},views:{byCourseId:{}}},{[i.g.GOAL_MASTERY_GOAL_PERFORMANCE_USER_LOAD]:(0,n.Dh)(c,p),[(0,n.ok)(i.g.GOAL_MASTERY_GOAL_PERFORMANCE_USER_LOAD)]:(e,t)=>{let r=I(e,t.query,t.data);return(0,n.lY)(r,t,{viewResolver:c,viewsPathResolver:p,values:t.data.performanceIds})},[(0,n.fJ)(i.g.GOAL_MASTERY_GOAL_PERFORMANCE_USER_LOAD)]:(0,n.To)(c,p),[i.g.GOAL_MASTERY_GOAL_PERFORMANCE_BULK_VIEW_LOAD]:(0,n.Dh)(d,E),[(0,n.ok)(i.g.GOAL_MASTERY_GOAL_PERFORMANCE_BULK_VIEW_LOAD)]:(e,t)=>{let r=I(e,t.query,t.data);return(0,n.lY)(r,t,{viewResolver:d,viewsPathResolver:E,values:t.data.performanceIds})},[(0,n.fJ)(i.g.GOAL_MASTERY_GOAL_PERFORMANCE_BULK_VIEW_LOAD)]:(0,n.To)(d,E),[i.g.GOAL_MASTERY_GOAL_PERFORMANCE_BULK_INVALIDATE]:(e,t)=>(0,s.Ay)(e,e=>{e.bulkViews.byCourseId[t.courseId]&&Object.values(e.bulkViews.byCourseId[t.courseId]).forEach(e=>{e.isValid=!1})}),[i.g.GOAL_MASTERY_GOAL_PERFORMANCE_USER_INVALIDATE]:(e,t)=>(0,s.Ay)(e,e=>{var r,s;(null==(r=e.views.byCourseId[t.courseId])?void 0:r.byUserId[t.userId])&&Object.values(null==(s=e.views.byCourseId[t.courseId])?void 0:s.byUserId[t.userId]).forEach(e=>{e.isValid=!1})})}),I=(e,t,r)=>(0,s.Ay)(e,e=>{r.performance.forEach(r=>{var s,n,o,a,u,d,c,E,p;let m=null!=(o=(E=(null!=(n=(d=(null!=(s=(a=e.byCourseId)[u=t.courseId])?s:a[u]={byGoalId:{}}).byGoalId)[c=r.goalId])?n:d[c]={byUserId:{}}).byUserId)[p=r.userId])?o:E[p]={value:r,status:l.U8};(0,i.J)(r)?m.value=r:m.value={...r,...(0,i.J)(m.value)?{contentItems:m.value.contentItems}:{}}})}),A={loadMasteryGoalPerformanceBulkViewByQuery:e=>(0,n.Vy)(i.g.GOAL_MASTERY_GOAL_PERFORMANCE_BULK_VIEW_LOAD,async()=>{try{return{data:await (0,o.ZG)(e),query:e}}catch(t){throw new n.GS(t).setData({query:e})}},{data:{query:e},condition:m}),loadMasteryGoalPerformanceUserByQuery:e=>(0,n.Vy)(i.g.GOAL_MASTERY_GOAL_PERFORMANCE_USER_LOAD,async()=>{try{return{data:await (0,o.Tm)(e),query:e}}catch(t){throw new n.GS(t).setData({query:e})}},{data:{query:e},condition:g}),invalidateBulkViewsByCourseId:e=>(0,n.rc)(i.g.GOAL_MASTERY_GOAL_PERFORMANCE_BULK_INVALIDATE,{courseId:e}),invalidateUserViewsByCourseIdAndUserId:(e,t)=>(0,n.rc)(i.g.GOAL_MASTERY_GOAL_PERFORMANCE_USER_INVALIDATE,{courseId:e,userId:t})},h={getMasteryGoalPerformanceBulkViewByQuery:(e,t)=>{var r;let{view:s}=d(e.goalMastery.performance,t);return s?(null!=(r=s.values)?r:[]).map(t=>{var r,n,o;let i=(0,u.s)(t);return null==(o=null==(n=null==(r=e.goalMastery.performance.byCourseId[s.query.courseId])?void 0:r.byGoalId[i.goalId])?void 0:n.byUserId[i.userId])?void 0:o.value}).filter(e=>!!e):[]},getMasteryGoalPerformanceBulkViewViewByQuery:(e,t)=>{let{view:r}=d(e.goalMastery.performance,t);return r},getMasteryGoalPerformanceUserByQuery:(e,t)=>{var r;let{view:s}=c(e.goalMastery.performance,t);return s?(null!=(r=s.values)?r:[]).map(t=>{var r,n,o;let i=(0,u.s)(t);return null==(o=null==(n=null==(r=e.goalMastery.performance.byCourseId[s.query.courseId])?void 0:r.byGoalId[i.goalId])?void 0:n.byUserId[i.userId])?void 0:o.value}).filter(e=>!!e):[]},getMasteryGoalPerformanceUserViewByQuery:(e,t)=>{let{view:r}=c(e.goalMastery.performance,t);return r}}},975812:(e,t,r)=>{"use strict";function s({src:e,title:t,alt:r,uuid:s,availabilityMessage:n,bbfile:o}){return[{insert:`
`},{insert:!0,format:{collab_video:{src:e,title:t,alt:r,bbfile:o||JSON.stringify({video_uuid:s}),info:null!=n?n:null}}},{insert:`
`}]}r.d(t,{A:()=>s})},978197:(e,t,r)=>{"use strict";r.d(t,{BQ:()=>n,K:()=>o});var s=r(287627);s.kz,s.w_;class n extends s.w_{constructor(){super("/v1/auth/device/confirmation")}}class o extends s.kz{constructor(){super("/v1/auth/device/confirmation/revoke")}}},979271:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var s=r(435341),n=r(139342),o=r(608719);let i=(e,t,{supportsInlineDocumentRender:r=!1}={})=>{let i={resourceUrl:e,fileName:t.fileName||(0,s.D)(t.linkName,t.mimeType),fileSize:t.fileSize,viewerUrl:t.viewerUrl,alternativeText:t.alternativeText||t.linkName,displayName:t.displayName||t.linkName,mimeType:t.mimeType,isDecorative:!!t.isDecorative,height:t.height,width:t.width,bbFileUuid:t.bbFileUuid,hasError:t.hasError};return{...i,render:t.render||((0,n.mLK)(i,r)?o.hH4.Inline:o.hH4.Attachment)}}},981278:(e,t,r)=>{"use strict";r.d(t,{Bc:()=>a,Ze:()=>n,hp:()=>i,iE:()=>o});var s=r(287627);class n extends s.pT{constructor(e){super("/v1/courses/%courseId%/users/%userId%/notes",e)}}class o extends s.w_{constructor(e){super("/v1/courses/%courseId%/users/%userId%/notes",e)}}class i extends s.QR{constructor(e){super("/v1/courses/%courseId%/users/%userId%/notes/%noteId%",e)}}class a extends s.FK{constructor(e){super("/v1/courses/%courseId%/users/%userId%/notes/%noteId%",e)}}},985316:(e,t,r)=>{"use strict";r.d(t,{Gu:()=>l,Ow:()=>a,gS:()=>o,zm:()=>i});var s=r(542633),n=r(34415);async function o(e,t,r,o){let i=new n.ZN({courseId:t,groupSetId:r}).withSession(e).withBody(o);return(0,s.S2)(i)}async function i(e,t,r,o){let i=new n.nr({courseId:t,groupSetId:r}).withSession(e);return o.paging&&i.withPaging(o.paging),o.sort&&i.withSort(...o.sort),(0,s.w)(i)}async function a(e,t,r,o){let i=new n.w3({courseId:t,groupSetId:r}).withSession(e).withQueryParams(o);return(0,s.S2)(i)}async function l(e,t,r){let o=new n.V6({courseId:t}).withSession(e).withBody(r);return(0,s.S2)(o)}},985866:(e,t,r)=>{"use strict";r.d(t,{i:()=>i,m:()=>a});var s=r(608719),n=r(825271),o=r(853400);let i=(0,o.Y)(s.y2j,n.dZ),a=(0,o.Y)(s.CAM,n.dZ)},986793:(e,t,r)=>{"use strict";r.d(t,{LY:()=>i,Nb:()=>o});var s=r(56684);let n="v1/ultra-ui/ultrasettings";class o extends s.w_{constructor(){super(n)}}class i extends s.mj{constructor(){super(n)}}},988078:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>l,Lt:()=>d,o1:()=>u});var s=r(968554),n=r(905898),o=r(846576);let i={pluginStatus:r(608719).shv.Unavailable,registered:!1,mdbUp:!1,enabledSaOnCourse:!1},a={LOAD_DIRECT_SUBMIT_COURSE_SETTINGS:"load.direct.submit.plugin.status"},l=(0,s.vy)({byCourseId:{}},{[a.LOAD_DIRECT_SUBMIT_COURSE_SETTINGS]:(e,t)=>(0,n.Ay)(e,e=>{let{courseId:r}=t,s=e.byCourseId[r];if(s){s.isLoading=!0;return}e.byCourseId[r]={courseId:r,isLoading:!0,payload:i}}),[(0,s.ok)(a.LOAD_DIRECT_SUBMIT_COURSE_SETTINGS)]:(e,t)=>(0,n.Ay)(e,e=>{let{courseId:r,payload:s}=t;e.byCourseId[r]={courseId:r,isLoading:!1,payload:s}})}),u={loadSafeAssignCourseSettings:e=>(0,s.VP)(a.LOAD_DIRECT_SUBMIT_COURSE_SETTINGS,async()=>{try{return{payload:await (0,o._p)({courseId:e}),courseId:e}}catch(t){throw{payload:i,courseId:e}}},{})},d={loadSafeAssignCourseSettings:(e,t)=>e.directSubmitCoursesSettings.byCourseId[t]}},991200:(e,t,r)=>{"use strict";r.d(t,{Yt:()=>E,cR:()=>c,hi:()=>d});var s=r(514041),n=r(567776),o=r(565223),i=r(366990),a=r(881697),l=r(9618);let u=s.createContext({capture:!1}),d=({capture:e=!1,children:t})=>{let r=(0,s.useMemo)(()=>({capture:e}),[e]);return s.createElement(u.Provider,{value:r},t)};function c(){let{capture:e}=(0,s.useContext)(u),{activate:t,cell:r,uncapture:i}=(0,n.su)(),[a,d]=(0,o.g)(null),{targetRefCb:c}=(0,l.M)("focusin",()=>{e&&t(!0)}),{targetRefCb:E}=(0,l.M)("focusout",()=>{i()});(0,s.useEffect)(()=>{var e;r.captured&&(null==(e=a.current)||e.focus())},[a,r.captured]);let p=(0,o.R)(d,c,E);return(0,s.useMemo)(()=>({controlRefCb:p}),[p])}function E(){let{cellRefCb:e}=function(){let{autoFocusRef:e,focusSignal:t,navigation:r}=(0,s.useContext)(a.Gq),{activate:i,cell:u}=(0,n.su)(),[d,c]=(0,o.g)(null),{targetRefCb:E}=(0,l.M)("mousedown",e=>{r.isActivateCellEvent(e)&&i()}),{targetRefCb:p}=(0,l.M)("focusin",t=>{t.target===d.current&&(e.current=!0)}),{targetRefCb:m}=(0,l.M)("focusout",t=>{t.target===d.current&&(e.current=!1)});(0,s.useEffect)(()=>{var t;u.active&&e.current&&(null==(t=d.current)||t.focus())},[d,t]),(0,s.useLayoutEffect)(()=>{var t;e.current&&u.active&&!u.captured&&(null==(t=d.current)||t.focus())},[e,d,u.active,u.captured]);let g=(0,o.R)(p,m,c,E);return(0,s.useMemo)(()=>({cellRefCb:g}),[g])}(),{cellRefCb:t}=function(){let{capture:e,focus:t}=(0,s.useContext)(a.Gq),{capture:r}=(0,s.useContext)(u),{capture:o,grid:d,uncapture:c}=(0,n.su)(),{targetRefCb:E}=(0,l.M)("keydown",s=>{!d.captured&&r&&e.isCaptureEvent(s)?(o(),(0,i.K)()):d.captured&&e.isUncaptureEvent(s)&&(c(),t(),(0,i.K)())});return(0,s.useMemo)(()=>({cellRefCb:E}),[E])}(),r=(0,o.R)(e,t);return(0,s.useMemo)(()=>({cellRefCb:r}),[r])}},991297:(e,t,r)=>{"use strict";r(542633),r(565881)},992227:(e,t,r)=>{"use strict";r.d(t,{R:()=>s,o:()=>n}),r(362420),r(332014),r(935539),r(828650);class s extends Error{}r(362420),r(332014),r(935539),r(828650);class n extends Error{get body(){return this.responseBody}constructor(e){super(e.message),this.responseBody=e,Object.setPrototypeOf(this,new.target.prototype)}}r(362420),r(332014),r(935539),r(828650)},992590:(e,t,r)=>{"use strict";r.d(t,{IG:()=>E,Rg:()=>c,Y2:()=>p});var s=r(251079),n=r(514041),o=r(608506),i=r(97123),a=r(366990),l=r(881697),u=r(9618);let d=n.createContext({addSelectListener:()=>void 0,onSelect:()=>void 0,removeSelectListener:()=>void 0,selectListeners:[]}),c=({children:e})=>{let[t,r]=(0,n.useState)([]),s=(0,n.useCallback)(e=>r(t=>t.concat(e)),[]),o=(0,n.useCallback)(()=>t.forEach(e=>e()),[t]),i=(0,n.useCallback)(e=>r(t=>t.filter(t=>t!==e)),[]),a=(0,n.useMemo)(()=>({addSelectListener:s,onSelect:o,removeSelectListener:i,selectListeners:t}),[s,o,i,t]);return n.createElement(d.Provider,{value:a},e)};function E({onSelect:e}){let{addSelectListener:t,removeSelectListener:r}=(0,n.useContext)(d),o=(0,s.cn)(e);(0,n.useEffect)(()=>{if(o)return t(o),()=>r(o)},[o,t,r])}function p(){return function(){let{grid:e}=(0,i.yt)(),{row:t}=(0,o.KS)(),{select:r,selecting:c}=(0,n.useContext)(l.Gq),{onSelect:E}=(0,n.useContext)(d);(0,n.useEffect)(()=>{r&&!e.captured&&t.active&&c&&E()},[t.active]);let{targetRefCb:p}=(0,u.M)("keydown",t=>{r&&!e.captured&&r.isSelectActiveRowEvent(t)&&(t.preventDefault(),E(),(0,a.K)())}),m=(0,s._q)(e=>r?p(e):p(null));return(0,n.useMemo)(()=>({rowRefCb:m}),[m])}()}},996400:(e,t,r)=>{"use strict";r(542633),r(567860)}}]);